const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-DxmRGYiM.js","assets/if-defined-D4OIYKOq.js","assets/index-nPCaofzC.js","assets/index-BWZ5f7if.js","assets/ref-DNiR51jk.js","assets/index-pZZvaFQm.js","assets/index-CUlKCNAk.js","assets/index-CORm323z.js","assets/index-BYfO-xTs.js","assets/index-liiKIiom.js","assets/index-D8VeAQiZ.js","assets/index-DMzDE0pP.js","assets/email-DqRDybf1.js","assets/index-DgVuPk6x.js","assets/socials-BvdBKG-x.js","assets/index-Bf2_55rT.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-Cz-JpZMw.js","assets/index-D73c7LJZ.js","assets/index-PQcHikM0.js","assets/index-DjnmObVy.js","assets/swaps-C4w9_E6x.js","assets/index-D40DPejO.js","assets/index-Bko9u2Ty.js","assets/index-KhjlAhnK.js","assets/send-CX_TAgFQ.js","assets/index-D1-iv5fw.js","assets/index-B8JJbs7w.js","assets/receive-k5_5iT8d.js","assets/index-BJbp8IO5.js","assets/onramp-BU3iAKnv.js","assets/index-DTfotvuo.js","assets/index-C8dy7kQ-.js","assets/index-11KVCcQm.js","assets/transactions-Cl_8EebK.js","assets/index-CH-8zw00.js","assets/index-DaS9zEm4.js","assets/index-TP4Fn8-B.js","assets/index-DMLmA_Wu.js","assets/index-4SfkRB72.js","assets/w3m-modal-WUTC3RfM.js"])))=>i.map(i=>d[i]);
var VA=t=>{throw TypeError(t)};var g0=(t,e,n)=>e.has(t)||VA("Cannot "+n);var se=(t,e,n)=>(g0(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?VA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),He=(t,e,n,r)=>(g0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Fn=(t,e,n)=>(g0(t,e,"access private method"),n);var Qp=(t,e,n,r)=>({set _(s){He(t,e,s,n)},get _(){return se(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ox(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var m0={exports:{}},Td={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function C5(){if(GA)return Td;GA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return Td.Fragment=e,Td.jsx=n,Td.jsxs=n,Td}var WA;function A5(){return WA||(WA=1,m0.exports=C5()),m0.exports}var W=A5(),y0={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function S5(){if(KA)return Ye;KA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,v={};function _(D,Y,te){this.props=D,this.context=Y,this.refs=v,this.updater=te||w}_.prototype.isReactComponent={},_.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(D,Y,te){this.props=D,this.context=Y,this.refs=v,this.updater=te||w}var x=N.prototype=new S;x.constructor=N,E(x,_.prototype),x.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,Y,te,ie,J,de){return te=de.ref,{$$typeof:t,type:D,key:Y,ref:te!==void 0?te:null,props:de}}function M(D,Y){return R(D.type,Y,void 0,void 0,void 0,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function j(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return Y[te]})}var F=/\/+/g;function ee(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):Y.toString(36)}function ae(){}function G(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ae,ae):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function k(D,Y,te,ie,J){var de=typeof D;(de==="undefined"||de==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(de){case"bigint":case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case t:case e:me=!0;break;case p:return me=D._init,k(me(D._payload),Y,te,ie,J)}}if(me)return J=J(D),me=ie===""?"."+ee(D,0):ie,P(J)?(te="",me!=null&&(te=me.replace(F,"$&/")+"/"),k(J,Y,te,"",function(Re){return Re})):J!=null&&(O(J)&&(J=M(J,te+(J.key==null||D&&D.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+me)),Y.push(J)),1;me=0;var qe=ie===""?".":ie+":";if(P(D))for(var xe=0;xe<D.length;xe++)ie=D[xe],de=qe+ee(ie,xe),me+=k(ie,Y,te,de,J);else if(xe=y(D),typeof xe=="function")for(D=xe.call(D),xe=0;!(ie=D.next()).done;)ie=ie.value,de=qe+ee(ie,xe++),me+=k(ie,Y,te,de,J);else if(de==="object"){if(typeof D.then=="function")return k(G(D),Y,te,ie,J);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function I(D,Y,te){if(D==null)return D;var ie=[],J=0;return k(D,ie,"","",function(de){return Y.call(te,de,J++)}),ie}function z(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function H(){}return Ye.Children={map:I,forEach:function(D,Y,te){I(D,function(){Y.apply(this,arguments)},te)},count:function(D){var Y=0;return I(D,function(){Y++}),Y},toArray:function(D){return I(D,function(Y){return Y})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ye.Component=_,Ye.Fragment=n,Ye.Profiler=s,Ye.PureComponent=N,Ye.StrictMode=r,Ye.Suspense=d,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(D){return function(){return D.apply(null,arguments)}},Ye.cloneElement=function(D,Y,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=E({},D.props),J=D.key,de=void 0;if(Y!=null)for(me in Y.ref!==void 0&&(de=void 0),Y.key!==void 0&&(J=""+Y.key),Y)!A.call(Y,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Y.ref===void 0||(ie[me]=Y[me]);var me=arguments.length-2;if(me===1)ie.children=te;else if(1<me){for(var qe=Array(me),xe=0;xe<me;xe++)qe[xe]=arguments[xe+2];ie.children=qe}return R(D.type,J,void 0,void 0,de,ie)},Ye.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Ye.createElement=function(D,Y,te){var ie,J={},de=null;if(Y!=null)for(ie in Y.key!==void 0&&(de=""+Y.key),Y)A.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(J[ie]=Y[ie]);var me=arguments.length-2;if(me===1)J.children=te;else if(1<me){for(var qe=Array(me),xe=0;xe<me;xe++)qe[xe]=arguments[xe+2];J.children=qe}if(D&&D.defaultProps)for(ie in me=D.defaultProps,me)J[ie]===void 0&&(J[ie]=me[ie]);return R(D,de,void 0,void 0,null,J)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(D){return{$$typeof:u,render:D}},Ye.isValidElement=O,Ye.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:z}},Ye.memo=function(D,Y){return{$$typeof:h,type:D,compare:Y===void 0?null:Y}},Ye.startTransition=function(D){var Y=T.T,te={};T.T=te;try{var ie=D(),J=T.S;J!==null&&J(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(H,q)}catch(de){q(de)}finally{T.T=Y}},Ye.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ye.use=function(D){return T.H.use(D)},Ye.useActionState=function(D,Y,te){return T.H.useActionState(D,Y,te)},Ye.useCallback=function(D,Y){return T.H.useCallback(D,Y)},Ye.useContext=function(D){return T.H.useContext(D)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(D,Y){return T.H.useDeferredValue(D,Y)},Ye.useEffect=function(D,Y){return T.H.useEffect(D,Y)},Ye.useId=function(){return T.H.useId()},Ye.useImperativeHandle=function(D,Y,te){return T.H.useImperativeHandle(D,Y,te)},Ye.useInsertionEffect=function(D,Y){return T.H.useInsertionEffect(D,Y)},Ye.useLayoutEffect=function(D,Y){return T.H.useLayoutEffect(D,Y)},Ye.useMemo=function(D,Y){return T.H.useMemo(D,Y)},Ye.useOptimistic=function(D,Y){return T.H.useOptimistic(D,Y)},Ye.useReducer=function(D,Y,te){return T.H.useReducer(D,Y,te)},Ye.useRef=function(D){return T.H.useRef(D)},Ye.useState=function(D){return T.H.useState(D)},Ye.useSyncExternalStore=function(D,Y,te){return T.H.useSyncExternalStore(D,Y,te)},Ye.useTransition=function(){return T.H.useTransition()},Ye.version="19.0.0",Ye}var YA;function Sm(){return YA||(YA=1,y0.exports=S5()),y0.exports}var it=Sm();const Wa=mu(it);var b0={exports:{}},xd={},w0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function N5(){return ZA||(ZA=1,function(t){function e(I,z){var q=I.length;I.push(z);e:for(;0<q;){var H=q-1>>>1,D=I[H];if(0<s(D,z))I[H]=z,I[q]=D,q=H;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var z=I[0],q=I.pop();if(q!==z){I[0]=q;e:for(var H=0,D=I.length,Y=D>>>1;H<Y;){var te=2*(H+1)-1,ie=I[te],J=te+1,de=I[J];if(0>s(ie,q))J<D&&0>s(de,ie)?(I[H]=de,I[J]=q,H=J):(I[H]=ie,I[te]=q,H=te);else if(J<D&&0>s(de,q))I[H]=de,I[J]=q,H=J;else break e}}return z}function s(I,z){var q=I.sortIndex-z.sortIndex;return q!==0?q:I.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,m=null,y=3,w=!1,E=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function x(I){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=I)r(h),z.sortIndex=z.expirationTime,e(d,z);else break;z=n(h)}}function P(I){if(v=!1,x(I),!E)if(n(d)!==null)E=!0,G();else{var z=n(h);z!==null&&k(P,z.startTime-I)}}var T=!1,A=-1,R=5,M=-1;function O(){return!(t.unstable_now()-M<R)}function j(){if(T){var I=t.unstable_now();M=I;var z=!0;try{e:{E=!1,v&&(v=!1,S(A),A=-1),w=!0;var q=y;try{t:{for(x(I),m=n(d);m!==null&&!(m.expirationTime>I&&O());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var D=H(m.expirationTime<=I);if(I=t.unstable_now(),typeof D=="function"){m.callback=D,x(I),z=!0;break t}m===n(d)&&r(d),x(I)}else r(d);m=n(d)}if(m!==null)z=!0;else{var Y=n(h);Y!==null&&k(P,Y.startTime-I),z=!1}}break e}finally{m=null,y=q,w=!1}z=void 0}}finally{z?F():T=!1}}}var F;if(typeof N=="function")F=function(){N(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ae=ee.port2;ee.port1.onmessage=j,F=function(){ae.postMessage(null)}}else F=function(){_(j,0)};function G(){T||(T=!0,F())}function k(I,z){A=_(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,G())},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var q=y;y=z;try{return I()}finally{y=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=y;y=I;try{return z()}finally{y=q}},t.unstable_scheduleCallback=function(I,z,q){var H=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,I={id:p++,callback:z,priorityLevel:I,startTime:q,expirationTime:D,sortIndex:-1},q>H?(I.sortIndex=q,e(h,I),n(d)===null&&I===n(h)&&(v?(S(A),A=-1):v=!0,k(P,q-H))):(I.sortIndex=D,e(d,I),E||w||(E=!0,G())),I},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(I){var z=y;return function(){var q=y;y=z;try{return I.apply(this,arguments)}finally{y=q}}}}(v0)),v0}var QA;function T5(){return QA||(QA=1,w0.exports=N5()),w0.exports}var E0={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function x5(){if(XA)return qn;XA=1;var t=Sm();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,p)},qn.flushSync=function(d){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=h,r.p=p,r.d.f()}},qn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},qn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},qn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},qn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},qn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},qn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},qn.requestFormReset=function(d){r.d.r(d)},qn.unstable_batchedUpdates=function(d,h){return d(h)},qn.useFormState=function(d,h,p){return c.H.useFormState(d,h,p)},qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},qn.version="19.0.0",qn}var JA;function O5(){if(JA)return E0.exports;JA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),E0.exports=x5(),E0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function I5(){if(eS)return xd;eS=1;var t=T5(),e=Sm(),n=O5();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var a=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function M(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case _:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case y:return(i._context.displayName||"Context")+".Consumer";case E:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return o=i.displayName||null,o!==null?o:M(i.type)||"Memo";case N:o=i._payload,i=i._init;try{return M(i(o))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.assign,F,ee;function ae(i){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||"",ee=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+i+ee}var G=!1;function k(i,o){if(!i||G)return"";G=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var X=ne}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ne){X=ne}i.call(ce.prototype)}}else{try{throw Error()}catch(ne){X=ne}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],$=b[1];if(C&&$){var L=C.split(`
`),K=$.split(`
`);for(g=f=0;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(f===L.length||g===K.length)for(f=L.length-1,g=K.length-1;1<=f&&0<=g&&L[f]!==K[g];)g--;for(;1<=f&&0<=g;f--,g--)if(L[f]!==K[g]){if(f!==1||g!==1)do if(f--,g--,0>g||L[f]!==K[g]){var re=`
`+L[f].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=f&&0<=g);break}}}finally{G=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ae(l):""}function I(i){switch(i.tag){case 26:case 27:case 5:return ae(i.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return i=k(i.type,!1),i;case 11:return i=k(i.type.render,!1),i;case 1:return i=k(i.type,!0),i;default:return""}}function z(i){try{var o="";do o+=I(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function q(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function H(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function D(i){if(q(i)!==i)throw Error(r(188))}function Y(i){var o=i.alternate;if(!o){if(o=q(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,f=o;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return D(g),i;if(b===f)return D(g),o;b=b.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=b;else{for(var C=!1,$=g.child;$;){if($===l){C=!0,l=g,f=b;break}if($===f){C=!0,f=g,l=b;break}$=$.sibling}if(!C){for($=b.child;$;){if($===l){C=!0,l=b,f=g;break}if($===f){C=!0,f=b,l=g;break}$=$.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function te(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=te(i),o!==null)return o;i=i.sibling}return null}var ie=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},me=[],qe=-1;function xe(i){return{current:i}}function Re(i){0>qe||(i.current=me[qe],me[qe]=null,qe--)}function Ke(i,o){qe++,me[qe]=i.current,i.current=o}var Et=xe(null),Kt=xe(null),Yt=xe(null),Tn=xe(null);function ps(i,o){switch(Ke(Yt,o),Ke(Kt,i),Ke(Et,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?vA(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=vA(i),o=EA(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Re(Et),Ke(Et,o)}function Xi(){Re(Et),Re(Kt),Re(Yt)}function Ou(i){i.memoizedState!==null&&Ke(Tn,i);var o=Et.current,l=EA(o,i.type);o!==l&&(Ke(Kt,i),Ke(Et,l))}function xc(i){Kt.current===i&&(Re(Et),Re(Kt)),Tn.current===i&&(Re(Tn),_d._currentValue=de)}var Oc=Object.prototype.hasOwnProperty,Ic=t.unstable_scheduleCallback,co=t.unstable_cancelCallback,kf=t.unstable_shouldYield,Mf=t.unstable_requestPaint,_r=t.unstable_now,jf=t.unstable_getCurrentPriorityLevel,Iu=t.unstable_ImmediatePriority,Bf=t.unstable_UserBlockingPriority,Rc=t.unstable_NormalPriority,ly=t.unstable_LowPriority,Lf=t.unstable_IdlePriority,iP=t.log,aP=t.unstable_setDisableYieldValue,Ru=null,Cr=null;function oP(i){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Ru,i,void 0,(i.current.flags&128)===128)}catch{}}function Ji(i){if(typeof iP=="function"&&aP(i),Cr&&typeof Cr.setStrictMode=="function")try{Cr.setStrictMode(Ru,i)}catch{}}var Ar=Math.clz32?Math.clz32:uP,cP=Math.log,lP=Math.LN2;function uP(i){return i>>>=0,i===0?32:31-(cP(i)/lP|0)|0}var zf=128,Ff=4194304;function lo(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qf(i,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes,C=i.warmLanes;i=i.finishedLanes!==0;var $=l&134217727;return $!==0?(l=$&~g,l!==0?f=lo(l):(b&=$,b!==0?f=lo(b):i||(C=$&~C,C!==0&&(f=lo(C))))):($=l&~g,$!==0?f=lo($):b!==0?f=lo(b):i||(C=l&~C,C!==0&&(f=lo(C)))),f===0?0:o!==0&&o!==f&&(o&g)===0&&(g=f&-f,C=o&-o,g>=C||g===32&&(C&4194176)!==0)?o:f}function Pu(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function dP(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h1(){var i=zf;return zf<<=1,(zf&4194176)===0&&(zf=128),i}function f1(){var i=Ff;return Ff<<=1,(Ff&62914560)===0&&(Ff=4194304),i}function uy(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Du(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hP(i,o,l,f,g,b){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,L=i.expirationTimes,K=i.hiddenUpdates;for(l=C&~l;0<l;){var re=31-Ar(l),ce=1<<re;$[re]=0,L[re]=-1;var X=K[re];if(X!==null)for(K[re]=null,re=0;re<X.length;re++){var ne=X[re];ne!==null&&(ne.lane&=-536870913)}l&=~ce}f!==0&&p1(i,f,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(C&~o))}function p1(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Ar(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194218}function g1(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-Ar(l),g=1<<f;g&o|i[f]&o&&(i[f]|=o),l&=~g}}function m1(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function y1(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:BA(i.type))}function fP(i,o){var l=J.p;try{return J.p=i,o()}finally{J.p=l}}var ea=Math.random().toString(36).slice(2),Ln="__reactFiber$"+ea,ir="__reactProps$"+ea,Pc="__reactContainer$"+ea,dy="__reactEvents$"+ea,pP="__reactListeners$"+ea,gP="__reactHandles$"+ea,b1="__reactResources$"+ea,$u="__reactMarker$"+ea;function hy(i){delete i[Ln],delete i[ir],delete i[dy],delete i[pP],delete i[gP]}function uo(i){var o=i[Ln];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Pc]||l[Ln]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=AA(i);i!==null;){if(l=i[Ln])return l;i=AA(i)}return o}i=l,l=i.parentNode}return null}function Dc(i){if(i=i[Ln]||i[Pc]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Uu(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function $c(i){var o=i[b1];return o||(o=i[b1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pn(i){i[$u]=!0}var w1=new Set,v1={};function ho(i,o){Uc(i,o),Uc(i+"Capture",o)}function Uc(i,o){for(v1[i]=o,i=0;i<o.length;i++)w1.add(o[i])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E1={},_1={};function yP(i){return Oc.call(_1,i)?!0:Oc.call(E1,i)?!1:mP.test(i)?_1[i]=!0:(E1[i]=!0,!1)}function Hf(i,o,l){if(yP(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Vf(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function fi(i,o,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+f)}}function Lr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function C1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bP(i){var o=C1(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,b.call(this,C)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Gf(i){i._valueTracker||(i._valueTracker=bP(i))}function A1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=C1(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Wf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wP=/[\n"\\]/g;function zr(i){return i.replace(wP,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fy(i,o,l,f,g,b,C,$){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Lr(o)):i.value!==""+Lr(o)&&(i.value=""+Lr(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?py(i,C,Lr(o)):l!=null?py(i,C,Lr(l)):f!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Lr($):i.removeAttribute("name")}function S1(i,o,l,f,g,b,C,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;l=l!=null?""+Lr(l):"",o=o!=null?""+Lr(o):l,$||o===i.value||(i.value=o),i.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=$?i.checked:!!f,i.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function py(i,o,l){o==="number"&&Wf(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function kc(i,o,l,f){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Lr(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function N1(i,o,l){if(o!=null&&(o=""+Lr(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Lr(l):""}function T1(i,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(ie(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Lr(o),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Mc(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var vP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function x1(i,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,l):typeof l!="number"||l===0||vP.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function O1(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&l[g]!==f&&x1(i,g,f)}else for(var b in o)o.hasOwnProperty(b)&&x1(i,b,o[b])}function gy(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_P=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kf(i){return _P.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var my=null;function yy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jc=null,Bc=null;function I1(i){var o=Dc(i);if(o&&(i=o.stateNode)){var l=i[ir]||null;e:switch(i=o.stateNode,o.type){case"input":if(fy(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zr(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var g=f[ir]||null;if(!g)throw Error(r(90));fy(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===i.form&&A1(f)}break e;case"textarea":N1(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&kc(i,!!l.multiple,o,!1)}}}var by=!1;function R1(i,o,l){if(by)return i(o,l);by=!0;try{var f=i(o);return f}finally{if(by=!1,(jc!==null||Bc!==null)&&(Rp(),jc&&(o=jc,i=Bc,Bc=jc=null,I1(o),i)))for(o=0;o<i.length;o++)I1(i[o])}}function ku(i,o){var l=i.stateNode;if(l===null)return null;var f=l[ir]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var wy=!1;if(hi)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){wy=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{wy=!1}var ta=null,vy=null,Yf=null;function P1(){if(Yf)return Yf;var i,o=vy,l=o.length,f,g="value"in ta?ta.value:ta.textContent,b=g.length;for(i=0;i<l&&o[i]===g[i];i++);var C=l-i;for(f=1;f<=C&&o[l-f]===g[b-f];f++);return Yf=g.slice(i,1<f?1-f:void 0)}function Zf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Qf(){return!0}function D1(){return!1}function ar(i){function o(l,f,g,b,C){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Qf:D1,this.isPropagationStopped=D1,this}return j(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qf)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qf)},persist:function(){},isPersistent:Qf}),o}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xf=ar(fo),ju=j({},fo,{view:0,detail:0}),CP=ar(ju),Ey,_y,Bu,Jf=j({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bu&&(Bu&&i.type==="mousemove"?(Ey=i.screenX-Bu.screenX,_y=i.screenY-Bu.screenY):_y=Ey=0,Bu=i),Ey)},movementY:function(i){return"movementY"in i?i.movementY:_y}}),$1=ar(Jf),AP=j({},Jf,{dataTransfer:0}),SP=ar(AP),NP=j({},ju,{relatedTarget:0}),Cy=ar(NP),TP=j({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),xP=ar(TP),OP=j({},fo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),IP=ar(OP),RP=j({},fo,{data:0}),U1=ar(RP),PP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UP(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$P[i])?!!o[i]:!1}function Ay(){return UP}var kP=j({},ju,{key:function(i){if(i.key){var o=PP[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Zf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?DP[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(i){return i.type==="keypress"?Zf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),MP=ar(kP),jP=j({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=ar(jP),BP=j({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),LP=ar(BP),zP=j({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=ar(zP),qP=j({},Jf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),HP=ar(qP),VP=j({},fo,{newState:0,oldState:0}),GP=ar(VP),WP=[9,13,27,32],Sy=hi&&"CompositionEvent"in window,Lu=null;hi&&"documentMode"in document&&(Lu=document.documentMode);var KP=hi&&"TextEvent"in window&&!Lu,M1=hi&&(!Sy||Lu&&8<Lu&&11>=Lu),j1=" ",B1=!1;function L1(i,o){switch(i){case"keyup":return WP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lc=!1;function YP(i,o){switch(i){case"compositionend":return z1(o);case"keypress":return o.which!==32?null:(B1=!0,j1);case"textInput":return i=o.data,i===j1&&B1?null:i;default:return null}}function ZP(i,o){if(Lc)return i==="compositionend"||!Sy&&L1(i,o)?(i=P1(),Yf=vy=ta=null,Lc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return M1&&o.locale!=="ko"?null:o.data;default:return null}}var QP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!QP[i.type]:o==="textarea"}function q1(i,o,l,f){jc?Bc?Bc.push(f):Bc=[f]:jc=f,o=kp(o,"onChange"),0<o.length&&(l=new Xf("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var zu=null,Fu=null;function XP(i){gA(i,0)}function ep(i){var o=Uu(i);if(A1(o))return i}function H1(i,o){if(i==="change")return o}var V1=!1;if(hi){var Ny;if(hi){var Ty="oninput"in document;if(!Ty){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),Ty=typeof G1.oninput=="function"}Ny=Ty}else Ny=!1;V1=Ny&&(!document.documentMode||9<document.documentMode)}function W1(){zu&&(zu.detachEvent("onpropertychange",K1),Fu=zu=null)}function K1(i){if(i.propertyName==="value"&&ep(Fu)){var o=[];q1(o,Fu,i,yy(i)),R1(XP,o)}}function JP(i,o,l){i==="focusin"?(W1(),zu=o,Fu=l,zu.attachEvent("onpropertychange",K1)):i==="focusout"&&W1()}function eD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ep(Fu)}function tD(i,o){if(i==="click")return ep(o)}function nD(i,o){if(i==="input"||i==="change")return ep(o)}function rD(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Sr=typeof Object.is=="function"?Object.is:rD;function qu(i,o){if(Sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!Oc.call(o,g)||!Sr(i[g],o[g]))return!1}return!0}function Y1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Z1(i,o){var l=Y1(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Y1(l)}}function Q1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Q1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function X1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Wf(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Wf(i.document)}return o}function xy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function sD(i,o){var l=X1(o);o=i.focusedElem;var f=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&Q1(o.ownerDocument.documentElement,o)){if(f!==null&&xy(o)){if(i=f.start,l=f.end,l===void 0&&(l=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(l,o.value.length);else if(l=(i=o.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var g=o.textContent.length,b=Math.min(f.start,g);f=f.end===void 0?b:Math.min(f.end,g),!l.extend&&b>f&&(g=f,f=b,b=g),g=Z1(o,b);var C=Z1(o,f);g&&C&&(l.rangeCount!==1||l.anchorNode!==g.node||l.anchorOffset!==g.offset||l.focusNode!==C.node||l.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),l.removeAllRanges(),b>f?(l.addRange(i),l.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),l.addRange(i)))}}for(i=[],l=o;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)l=i[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var iD=hi&&"documentMode"in document&&11>=document.documentMode,zc=null,Oy=null,Hu=null,Iy=!1;function J1(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Iy||zc==null||zc!==Wf(f)||(f=zc,"selectionStart"in f&&xy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hu&&qu(Hu,f)||(Hu=f,f=kp(Oy,"onSelect"),0<f.length&&(o=new Xf("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=zc)))}function po(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Fc={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},Ry={},e_={};hi&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function go(i){if(Ry[i])return Ry[i];if(!Fc[i])return i;var o=Fc[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in e_)return Ry[i]=o[l];return i}var t_=go("animationend"),n_=go("animationiteration"),r_=go("animationstart"),aD=go("transitionrun"),oD=go("transitionstart"),cD=go("transitioncancel"),s_=go("transitionend"),i_=new Map,a_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gs(i,o){i_.set(i,o),ho(o,[i])}var Fr=[],qc=0,Py=0;function tp(){for(var i=qc,o=Py=qc=0;o<i;){var l=Fr[o];Fr[o++]=null;var f=Fr[o];Fr[o++]=null;var g=Fr[o];Fr[o++]=null;var b=Fr[o];if(Fr[o++]=null,f!==null&&g!==null){var C=f.pending;C===null?g.next=g:(g.next=C.next,C.next=g),f.pending=g}b!==0&&o_(l,g,b)}}function np(i,o,l,f){Fr[qc++]=i,Fr[qc++]=o,Fr[qc++]=l,Fr[qc++]=f,Py|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Dy(i,o,l,f){return np(i,o,l,f),rp(i)}function na(i,o){return np(i,null,null,o),rp(i)}function o_(i,o,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;g&&o!==null&&i.tag===3&&(b=i.stateNode,g=31-Ar(l),b=b.hiddenUpdates,i=b[g],i===null?b[g]=[o]:i.push(o),o.lane=l|536870912)}function rp(i){if(50<gd)throw gd=0,Bb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Hc={},c_=new WeakMap;function qr(i,o){if(typeof i=="object"&&i!==null){var l=c_.get(i);return l!==void 0?l:(o={value:i,source:o,stack:z(o)},c_.set(i,o),o)}return{value:i,source:o,stack:z(o)}}var Vc=[],Gc=0,sp=null,ip=0,Hr=[],Vr=0,mo=null,pi=1,gi="";function yo(i,o){Vc[Gc++]=ip,Vc[Gc++]=sp,sp=i,ip=o}function l_(i,o,l){Hr[Vr++]=pi,Hr[Vr++]=gi,Hr[Vr++]=mo,mo=i;var f=pi;i=gi;var g=32-Ar(f)-1;f&=~(1<<g),l+=1;var b=32-Ar(o)+g;if(30<b){var C=g-g%5;b=(f&(1<<C)-1).toString(32),f>>=C,g-=C,pi=1<<32-Ar(o)+g|l<<g|f,gi=b+i}else pi=1<<b|l<<g|f,gi=i}function $y(i){i.return!==null&&(yo(i,1),l_(i,1,0))}function Uy(i){for(;i===sp;)sp=Vc[--Gc],Vc[Gc]=null,ip=Vc[--Gc],Vc[Gc]=null;for(;i===mo;)mo=Hr[--Vr],Hr[Vr]=null,gi=Hr[--Vr],Hr[Vr]=null,pi=Hr[--Vr],Hr[Vr]=null}var Zn=null,xn=null,ct=!1,ms=null,js=!1,ky=Error(r(519));function bo(i){var o=Error(r(418,""));throw Wu(qr(o,i)),ky}function u_(i){var o=i.stateNode,l=i.type,f=i.memoizedProps;switch(o[Ln]=i,o[ir]=f,l){case"dialog":nt("cancel",o),nt("close",o);break;case"iframe":case"object":case"embed":nt("load",o);break;case"video":case"audio":for(l=0;l<yd.length;l++)nt(yd[l],o);break;case"source":nt("error",o);break;case"img":case"image":case"link":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"input":nt("invalid",o),S1(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Gf(o);break;case"select":nt("invalid",o);break;case"textarea":nt("invalid",o),T1(o,f.value,f.defaultValue,f.children),Gf(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||wA(o.textContent,l)?(f.popover!=null&&(nt("beforetoggle",o),nt("toggle",o)),f.onScroll!=null&&nt("scroll",o),f.onScrollEnd!=null&&nt("scrollend",o),f.onClick!=null&&(o.onclick=Mp),o=!0):o=!1,o||bo(i)}function d_(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 3:case 27:js=!0;return;case 5:case 13:js=!1;return;default:Zn=Zn.return}}function Vu(i){if(i!==Zn)return!1;if(!ct)return d_(i),ct=!0,!1;var o=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||n0(i.type,i.memoizedProps)),l=!l),l&&(o=!0),o&&xn&&bo(i),d_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){xn=bs(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}xn=null}}else xn=Zn?bs(i.stateNode.nextSibling):null;return!0}function Gu(){xn=Zn=null,ct=!1}function Wu(i){ms===null?ms=[i]:ms.push(i)}var Ku=Error(r(460)),h_=Error(r(474)),My={then:function(){}};function f_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ap(){}function p_(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(ap,ap),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Ku?Error(r(483)):i;default:if(typeof o.status=="string")o.then(ap,ap);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Ku?Error(r(483)):i}throw Yu=o,Ku}}var Yu=null;function g_(){if(Yu===null)throw Error(r(459));var i=Yu;return Yu=null,i}var Wc=null,Zu=0;function op(i){var o=Zu;return Zu+=1,Wc===null&&(Wc=[]),p_(Wc,i,o)}function Qu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function cp(i,o){throw o.$$typeof===a?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function m_(i){var o=i._init;return o(i._payload)}function y_(i){function o(Z,V){if(i){var Q=Z.deletions;Q===null?(Z.deletions=[V],Z.flags|=16):Q.push(V)}}function l(Z,V){if(!i)return null;for(;V!==null;)o(Z,V),V=V.sibling;return null}function f(Z){for(var V=new Map;Z!==null;)Z.key!==null?V.set(Z.key,Z):V.set(Z.index,Z),Z=Z.sibling;return V}function g(Z,V){return Z=pa(Z,V),Z.index=0,Z.sibling=null,Z}function b(Z,V,Q){return Z.index=Q,i?(Q=Z.alternate,Q!==null?(Q=Q.index,Q<V?(Z.flags|=33554434,V):Q):(Z.flags|=33554434,V)):(Z.flags|=1048576,V)}function C(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function $(Z,V,Q,oe){return V===null||V.tag!==6?(V=Rb(Q,Z.mode,oe),V.return=Z,V):(V=g(V,Q),V.return=Z,V)}function L(Z,V,Q,oe){var Te=Q.type;return Te===d?re(Z,V,Q.props.children,oe,Q.key):V!==null&&(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&m_(Te)===V.type)?(V=g(V,Q.props),Qu(V,Q),V.return=Z,V):(V=Np(Q.type,Q.key,Q.props,null,Z.mode,oe),Qu(V,Q),V.return=Z,V)}function K(Z,V,Q,oe){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=Pb(Q,Z.mode,oe),V.return=Z,V):(V=g(V,Q.children||[]),V.return=Z,V)}function re(Z,V,Q,oe,Te){return V===null||V.tag!==7?(V=xo(Q,Z.mode,oe,Te),V.return=Z,V):(V=g(V,Q),V.return=Z,V)}function ce(Z,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Rb(""+V,Z.mode,Q),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return Q=Np(V.type,V.key,V.props,null,Z.mode,Q),Qu(Q,V),Q.return=Z,Q;case u:return V=Pb(V,Z.mode,Q),V.return=Z,V;case N:var oe=V._init;return V=oe(V._payload),ce(Z,V,Q)}if(ie(V)||A(V))return V=xo(V,Z.mode,Q,null),V.return=Z,V;if(typeof V.then=="function")return ce(Z,op(V),Q);if(V.$$typeof===w)return ce(Z,Cp(Z,V),Q);cp(Z,V)}return null}function X(Z,V,Q,oe){var Te=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Te!==null?null:$(Z,V,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return Q.key===Te?L(Z,V,Q,oe):null;case u:return Q.key===Te?K(Z,V,Q,oe):null;case N:return Te=Q._init,Q=Te(Q._payload),X(Z,V,Q,oe)}if(ie(Q)||A(Q))return Te!==null?null:re(Z,V,Q,oe,null);if(typeof Q.then=="function")return X(Z,V,op(Q),oe);if(Q.$$typeof===w)return X(Z,V,Cp(Z,Q),oe);cp(Z,Q)}return null}function ne(Z,V,Q,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Z=Z.get(Q)||null,$(V,Z,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return Z=Z.get(oe.key===null?Q:oe.key)||null,L(V,Z,oe,Te);case u:return Z=Z.get(oe.key===null?Q:oe.key)||null,K(V,Z,oe,Te);case N:var Je=oe._init;return oe=Je(oe._payload),ne(Z,V,Q,oe,Te)}if(ie(oe)||A(oe))return Z=Z.get(Q)||null,re(V,Z,oe,Te,null);if(typeof oe.then=="function")return ne(Z,V,Q,op(oe),Te);if(oe.$$typeof===w)return ne(Z,V,Q,Cp(V,oe),Te);cp(V,oe)}return null}function Oe(Z,V,Q,oe){for(var Te=null,Je=null,Ie=V,$e=V=0,yn=null;Ie!==null&&$e<Q.length;$e++){Ie.index>$e?(yn=Ie,Ie=null):yn=Ie.sibling;var lt=X(Z,Ie,Q[$e],oe);if(lt===null){Ie===null&&(Ie=yn);break}i&&Ie&&lt.alternate===null&&o(Z,Ie),V=b(lt,V,$e),Je===null?Te=lt:Je.sibling=lt,Je=lt,Ie=yn}if($e===Q.length)return l(Z,Ie),ct&&yo(Z,$e),Te;if(Ie===null){for(;$e<Q.length;$e++)Ie=ce(Z,Q[$e],oe),Ie!==null&&(V=b(Ie,V,$e),Je===null?Te=Ie:Je.sibling=Ie,Je=Ie);return ct&&yo(Z,$e),Te}for(Ie=f(Ie);$e<Q.length;$e++)yn=ne(Ie,Z,$e,Q[$e],oe),yn!==null&&(i&&yn.alternate!==null&&Ie.delete(yn.key===null?$e:yn.key),V=b(yn,V,$e),Je===null?Te=yn:Je.sibling=yn,Je=yn);return i&&Ie.forEach(function(Ea){return o(Z,Ea)}),ct&&yo(Z,$e),Te}function ze(Z,V,Q,oe){if(Q==null)throw Error(r(151));for(var Te=null,Je=null,Ie=V,$e=V=0,yn=null,lt=Q.next();Ie!==null&&!lt.done;$e++,lt=Q.next()){Ie.index>$e?(yn=Ie,Ie=null):yn=Ie.sibling;var Ea=X(Z,Ie,lt.value,oe);if(Ea===null){Ie===null&&(Ie=yn);break}i&&Ie&&Ea.alternate===null&&o(Z,Ie),V=b(Ea,V,$e),Je===null?Te=Ea:Je.sibling=Ea,Je=Ea,Ie=yn}if(lt.done)return l(Z,Ie),ct&&yo(Z,$e),Te;if(Ie===null){for(;!lt.done;$e++,lt=Q.next())lt=ce(Z,lt.value,oe),lt!==null&&(V=b(lt,V,$e),Je===null?Te=lt:Je.sibling=lt,Je=lt);return ct&&yo(Z,$e),Te}for(Ie=f(Ie);!lt.done;$e++,lt=Q.next())lt=ne(Ie,Z,$e,lt.value,oe),lt!==null&&(i&&lt.alternate!==null&&Ie.delete(lt.key===null?$e:lt.key),V=b(lt,V,$e),Je===null?Te=lt:Je.sibling=lt,Je=lt);return i&&Ie.forEach(function(_5){return o(Z,_5)}),ct&&yo(Z,$e),Te}function Vt(Z,V,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:e:{for(var Te=Q.key;V!==null;){if(V.key===Te){if(Te=Q.type,Te===d){if(V.tag===7){l(Z,V.sibling),oe=g(V,Q.props.children),oe.return=Z,Z=oe;break e}}else if(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===N&&m_(Te)===V.type){l(Z,V.sibling),oe=g(V,Q.props),Qu(oe,Q),oe.return=Z,Z=oe;break e}l(Z,V);break}else o(Z,V);V=V.sibling}Q.type===d?(oe=xo(Q.props.children,Z.mode,oe,Q.key),oe.return=Z,Z=oe):(oe=Np(Q.type,Q.key,Q.props,null,Z.mode,oe),Qu(oe,Q),oe.return=Z,Z=oe)}return C(Z);case u:e:{for(Te=Q.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){l(Z,V.sibling),oe=g(V,Q.children||[]),oe.return=Z,Z=oe;break e}else{l(Z,V);break}else o(Z,V);V=V.sibling}oe=Pb(Q,Z.mode,oe),oe.return=Z,Z=oe}return C(Z);case N:return Te=Q._init,Q=Te(Q._payload),Vt(Z,V,Q,oe)}if(ie(Q))return Oe(Z,V,Q,oe);if(A(Q)){if(Te=A(Q),typeof Te!="function")throw Error(r(150));return Q=Te.call(Q),ze(Z,V,Q,oe)}if(typeof Q.then=="function")return Vt(Z,V,op(Q),oe);if(Q.$$typeof===w)return Vt(Z,V,Cp(Z,Q),oe);cp(Z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(l(Z,V.sibling),oe=g(V,Q),oe.return=Z,Z=oe):(l(Z,V),oe=Rb(Q,Z.mode,oe),oe.return=Z,Z=oe),C(Z)):l(Z,V)}return function(Z,V,Q,oe){try{Zu=0;var Te=Vt(Z,V,Q,oe);return Wc=null,Te}catch(Ie){if(Ie===Ku)throw Ie;var Je=Yr(29,Ie,null,Z.mode);return Je.lanes=oe,Je.return=Z,Je}finally{}}}var wo=y_(!0),b_=y_(!1),Kc=xe(null),lp=xe(0);function w_(i,o){i=Ni,Ke(lp,i),Ke(Kc,o),Ni=i|o.baseLanes}function jy(){Ke(lp,Ni),Ke(Kc,Kc.current)}function By(){Ni=lp.current,Re(Kc),Re(lp)}var Gr=xe(null),Bs=null;function ra(i){var o=i.alternate;Ke(on,on.current&1),Ke(Gr,i),Bs===null&&(o===null||Kc.current!==null||o.memoizedState!==null)&&(Bs=i)}function v_(i){if(i.tag===22){if(Ke(on,on.current),Ke(Gr,i),Bs===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Bs=i)}}else sa()}function sa(){Ke(on,on.current),Ke(Gr,Gr.current)}function mi(i){Re(Gr),Bs===i&&(Bs=null),Re(on)}var on=xe(0);function up(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var lD=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},uD=t.unstable_scheduleCallback,dD=t.unstable_NormalPriority,cn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ly(){return{controller:new lD,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&uD(dD,function(){i.controller.abort()})}var Ju=null,zy=0,Yc=0,Zc=null;function hD(i,o){if(Ju===null){var l=Ju=[];zy=0,Yc=Wb(),Zc={status:"pending",value:void 0,then:function(f){l.push(f)}}}return zy++,o.then(E_,E_),o}function E_(){if(--zy===0&&Ju!==null){Zc!==null&&(Zc.status="fulfilled");var i=Ju;Ju=null,Yc=0,Zc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function fD(i,o){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var __=O.S;O.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&hD(i,o),__!==null&&__(i,o)};var vo=xe(null);function Fy(){var i=vo.current;return i!==null?i:Rt.pooledCache}function dp(i,o){o===null?Ke(vo,vo.current):Ke(vo,o.pool)}function C_(){var i=Fy();return i===null?null:{parent:cn._currentValue,pool:i}}var ia=0,Xe=null,_t=null,en=null,hp=!1,Qc=!1,Eo=!1,fp=0,ed=0,Xc=null,pD=0;function Zt(){throw Error(r(321))}function qy(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Sr(i[l],o[l]))return!1;return!0}function Hy(i,o,l,f,g,b){return ia=b,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=i===null||i.memoizedState===null?_o:aa,Eo=!1,b=l(f,g),Eo=!1,Qc&&(b=S_(o,l,f,g)),A_(i),b}function A_(i){O.H=Ls;var o=_t!==null&&_t.next!==null;if(ia=0,en=_t=Xe=null,hp=!1,ed=0,Xc=null,o)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&_p(i)&&(gn=!0))}function S_(i,o,l,f){Xe=i;var g=0;do{if(Qc&&(Xc=null),ed=0,Qc=!1,25<=g)throw Error(r(301));if(g+=1,en=_t=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}O.H=Co,b=o(l,f)}while(Qc);return b}function gD(){var i=O.H,o=i.useState()[0];return o=typeof o.then=="function"?td(o):o,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&(Xe.flags|=1024),o}function Vy(){var i=fp!==0;return fp=0,i}function Gy(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Wy(i){if(hp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}hp=!1}ia=0,en=_t=Xe=null,Qc=!1,ed=fp=0,Xc=null}function or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Xe.memoizedState=en=i:en=en.next=i,en}function tn(){if(_t===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=en===null?Xe.memoizedState:en.next;if(o!==null)en=o,_t=i;else{if(i===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},en===null?Xe.memoizedState=en=i:en=en.next=i}return en}var pp;pp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function td(i){var o=ed;return ed+=1,Xc===null&&(Xc=[]),i=p_(Xc,i,o),o=Xe,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?_o:aa),i}function gp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return td(i);if(i.$$typeof===w)return zn(i)}throw Error(r(438,String(i)))}function Ky(i){var o=null,l=Xe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=Xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=pp(),Xe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),f=0;f<i;f++)l[f]=P;return o.index++,l}function yi(i,o){return typeof o=="function"?o(i):o}function mp(i){var o=tn();return Yy(o,_t,i)}function Yy(i,o,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,b=f.pending;if(b!==null){if(g!==null){var C=g.next;g.next=b.next,b.next=C}o.baseQueue=g=b,f.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{o=g.next;var $=C=null,L=null,K=o,re=!1;do{var ce=K.lane&-536870913;if(ce!==K.lane?(ot&ce)===ce:(ia&ce)===ce){var X=K.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ce===Yc&&(re=!0);else if((ia&X)===X){K=K.next,X===Yc&&(re=!0);continue}else ce={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?($=L=ce,C=b):L=L.next=ce,Xe.lanes|=X,ga|=X;ce=K.action,Eo&&l(b,ce),b=K.hasEagerState?K.eagerState:l(b,ce)}else X={lane:ce,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?($=L=X,C=b):L=L.next=X,Xe.lanes|=ce,ga|=ce;K=K.next}while(K!==null&&K!==o);if(L===null?C=b:L.next=$,!Sr(b,i.memoizedState)&&(gn=!0,re&&(l=Zc,l!==null)))throw l;i.memoizedState=b,i.baseState=C,i.baseQueue=L,f.lastRenderedState=b}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Zy(i){var o=tn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,b=o.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do b=i(b,C.action),C=C.next;while(C!==g);Sr(b,o.memoizedState)||(gn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,f]}function N_(i,o,l){var f=Xe,g=tn(),b=ct;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=o();var C=!Sr((_t||g).memoizedState,l);if(C&&(g.memoizedState=l,gn=!0),g=g.queue,Jy(O_.bind(null,f,g,i),[i]),g.getSnapshot!==o||C||en!==null&&en.memoizedState.tag&1){if(f.flags|=2048,Jc(9,x_.bind(null,f,g,l,o),{destroy:void 0},null),Rt===null)throw Error(r(349));b||(ia&60)!==0||T_(f,o,l)}return l}function T_(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Xe.updateQueue,o===null?(o=pp(),Xe.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function x_(i,o,l,f){o.value=l,o.getSnapshot=f,I_(o)&&R_(i)}function O_(i,o,l){return l(function(){I_(o)&&R_(i)})}function I_(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Sr(i,l)}catch{return!0}}function R_(i){var o=na(i,2);o!==null&&Qn(o,i,2)}function Qy(i){var o=or();if(typeof i=="function"){var l=i;if(i=l(),Eo){Ji(!0);try{l()}finally{Ji(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:i},o}function P_(i,o,l,f){return i.baseState=l,Yy(i,_t,typeof f=="function"?f:yi)}function mD(i,o,l,f,g){if(wp(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};O.T!==null?l(!0):b.isTransition=!1,f(b),l=o.pending,l===null?(b.next=o.pending=b,D_(o,b)):(b.next=l.next,o.pending=l.next=b)}}function D_(i,o){var l=o.action,f=o.payload,g=i.state;if(o.isTransition){var b=O.T,C={};O.T=C;try{var $=l(g,f),L=O.S;L!==null&&L(C,$),$_(i,o,$)}catch(K){Xy(i,o,K)}finally{O.T=b}}else try{b=l(g,f),$_(i,o,b)}catch(K){Xy(i,o,K)}}function $_(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){U_(i,o,f)},function(f){return Xy(i,o,f)}):U_(i,o,l)}function U_(i,o,l){o.status="fulfilled",o.value=l,k_(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,D_(i,l)))}function Xy(i,o,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,k_(o),o=o.next;while(o!==f)}i.action=null}function k_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function M_(i,o){return o}function j_(i,o){if(ct){var l=Rt.formState;if(l!==null){e:{var f=Xe;if(ct){if(xn){t:{for(var g=xn,b=js;g.nodeType!==8;){if(!b){g=null;break t}if(g=bs(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){xn=bs(g.nextSibling),f=g.data==="F!";break e}}bo(f)}f=!1}f&&(o=l[0])}}return l=or(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M_,lastRenderedState:o},l.queue=f,l=nC.bind(null,Xe,f),f.dispatch=l,f=Qy(!1),b=sb.bind(null,Xe,!1,f.queue),f=or(),g={state:o,dispatch:null,action:i,pending:null},f.queue=g,l=mD.bind(null,Xe,g,b,l),g.dispatch=l,f.memoizedState=i,[o,l,!1]}function B_(i){var o=tn();return L_(o,_t,i)}function L_(i,o,l){o=Yy(i,o,M_)[0],i=mp(yi)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?td(o):o;var f=tn(),g=f.queue,b=g.dispatch;return l!==f.memoizedState&&(Xe.flags|=2048,Jc(9,yD.bind(null,g,l),{destroy:void 0},null)),[o,b,i]}function yD(i,o){i.action=o}function z_(i){var o=tn(),l=_t;if(l!==null)return L_(o,l,i);tn(),o=o.memoizedState,l=tn();var f=l.queue.dispatch;return l.memoizedState=i,[o,f,!1]}function Jc(i,o,l,f){return i={tag:i,create:o,inst:l,deps:f,next:null},o=Xe.updateQueue,o===null&&(o=pp(),Xe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i),i}function F_(){return tn().memoizedState}function yp(i,o,l,f){var g=or();Xe.flags|=i,g.memoizedState=Jc(1|o,l,{destroy:void 0},f===void 0?null:f)}function bp(i,o,l,f){var g=tn();f=f===void 0?null:f;var b=g.memoizedState.inst;_t!==null&&f!==null&&qy(f,_t.memoizedState.deps)?g.memoizedState=Jc(o,l,b,f):(Xe.flags|=i,g.memoizedState=Jc(1|o,l,b,f))}function q_(i,o){yp(8390656,8,i,o)}function Jy(i,o){bp(2048,8,i,o)}function H_(i,o){return bp(4,2,i,o)}function V_(i,o){return bp(4,4,i,o)}function G_(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function W_(i,o,l){l=l!=null?l.concat([i]):null,bp(4,4,G_.bind(null,o,i),l)}function eb(){}function K_(i,o){var l=tn();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&qy(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function Y_(i,o){var l=tn();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&qy(o,f[1]))return f[0];if(f=i(),Eo){Ji(!0);try{i()}finally{Ji(!1)}}return l.memoizedState=[f,o],f}function tb(i,o,l){return l===void 0||(ia&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=QC(),Xe.lanes|=i,ga|=i,l)}function Z_(i,o,l,f){return Sr(l,o)?l:Kc.current!==null?(i=tb(i,l,f),Sr(i,o)||(gn=!0),i):(ia&42)===0?(gn=!0,i.memoizedState=l):(i=QC(),Xe.lanes|=i,ga|=i,o)}function Q_(i,o,l,f,g){var b=J.p;J.p=b!==0&&8>b?b:8;var C=O.T,$={};O.T=$,sb(i,!1,o,l);try{var L=g(),K=O.S;if(K!==null&&K($,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=fD(L,f);nd(i,o,re,Or(i))}else nd(i,o,f,Or(i))}catch(ce){nd(i,o,{then:function(){},status:"rejected",reason:ce},Or())}finally{J.p=b,O.T=C}}function bD(){}function nb(i,o,l,f){if(i.tag!==5)throw Error(r(476));var g=X_(i).queue;Q_(i,g,o,de,l===null?bD:function(){return J_(i),l(f)})}function X_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:de},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function J_(i){var o=X_(i).next.queue;nd(i,o,{},Or())}function rb(){return zn(_d)}function eC(){return tn().memoizedState}function tC(){return tn().memoizedState}function wD(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Or();i=la(l);var f=ua(o,i,l);f!==null&&(Qn(f,o,l),id(f,o,l)),o={cache:Ly()},i.payload=o;return}o=o.return}}function vD(i,o,l){var f=Or();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},wp(i)?rC(o,l):(l=Dy(i,o,l,f),l!==null&&(Qn(l,i,f),sC(l,o,f)))}function nC(i,o,l){var f=Or();nd(i,o,l,f)}function nd(i,o,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(wp(i))rC(o,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,$=b(C,l);if(g.hasEagerState=!0,g.eagerState=$,Sr($,C))return np(i,o,g,0),Rt===null&&tp(),!1}catch{}finally{}if(l=Dy(i,o,g,f),l!==null)return Qn(l,i,f),sC(l,o,f),!0}return!1}function sb(i,o,l,f){if(f={lane:2,revertLane:Wb(),action:f,hasEagerState:!1,eagerState:null,next:null},wp(i)){if(o)throw Error(r(479))}else o=Dy(i,l,f,2),o!==null&&Qn(o,i,2)}function wp(i){var o=i.alternate;return i===Xe||o!==null&&o===Xe}function rC(i,o){Qc=hp=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function sC(i,o,l){if((l&4194176)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,g1(i,l)}}var Ls={readContext:zn,use:gp,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt};Ls.useCacheRefresh=Zt,Ls.useMemoCache=Zt,Ls.useHostTransitionStatus=Zt,Ls.useFormState=Zt,Ls.useActionState=Zt,Ls.useOptimistic=Zt;var _o={readContext:zn,use:gp,useCallback:function(i,o){return or().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:q_,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,yp(4194308,4,G_.bind(null,o,i),l)},useLayoutEffect:function(i,o){return yp(4194308,4,i,o)},useInsertionEffect:function(i,o){yp(4,2,i,o)},useMemo:function(i,o){var l=or();o=o===void 0?null:o;var f=i();if(Eo){Ji(!0);try{i()}finally{Ji(!1)}}return l.memoizedState=[f,o],f},useReducer:function(i,o,l){var f=or();if(l!==void 0){var g=l(o);if(Eo){Ji(!0);try{l(o)}finally{Ji(!1)}}}else g=o;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=vD.bind(null,Xe,i),[f.memoizedState,i]},useRef:function(i){var o=or();return i={current:i},o.memoizedState=i},useState:function(i){i=Qy(i);var o=i.queue,l=nC.bind(null,Xe,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:eb,useDeferredValue:function(i,o){var l=or();return tb(l,i,o)},useTransition:function(){var i=Qy(!1);return i=Q_.bind(null,Xe,i.queue,!0,!1),or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var f=Xe,g=or();if(ct){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Rt===null)throw Error(r(349));(ot&60)!==0||T_(f,o,l)}g.memoizedState=l;var b={value:l,getSnapshot:o};return g.queue=b,q_(O_.bind(null,f,b,i),[i]),f.flags|=2048,Jc(9,x_.bind(null,f,b,l,o),{destroy:void 0},null),l},useId:function(){var i=or(),o=Rt.identifierPrefix;if(ct){var l=gi,f=pi;l=(f&~(1<<32-Ar(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=fp++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=pD++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return or().memoizedState=wD.bind(null,Xe)}};_o.useMemoCache=Ky,_o.useHostTransitionStatus=rb,_o.useFormState=j_,_o.useActionState=j_,_o.useOptimistic=function(i){var o=or();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=sb.bind(null,Xe,!0,l),l.dispatch=o,[i,o]};var aa={readContext:zn,use:gp,useCallback:K_,useContext:zn,useEffect:Jy,useImperativeHandle:W_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:Y_,useReducer:mp,useRef:F_,useState:function(){return mp(yi)},useDebugValue:eb,useDeferredValue:function(i,o){var l=tn();return Z_(l,_t.memoizedState,i,o)},useTransition:function(){var i=mp(yi)[0],o=tn().memoizedState;return[typeof i=="boolean"?i:td(i),o]},useSyncExternalStore:N_,useId:eC};aa.useCacheRefresh=tC,aa.useMemoCache=Ky,aa.useHostTransitionStatus=rb,aa.useFormState=B_,aa.useActionState=B_,aa.useOptimistic=function(i,o){var l=tn();return P_(l,_t,i,o)};var Co={readContext:zn,use:gp,useCallback:K_,useContext:zn,useEffect:Jy,useImperativeHandle:W_,useInsertionEffect:H_,useLayoutEffect:V_,useMemo:Y_,useReducer:Zy,useRef:F_,useState:function(){return Zy(yi)},useDebugValue:eb,useDeferredValue:function(i,o){var l=tn();return _t===null?tb(l,i,o):Z_(l,_t.memoizedState,i,o)},useTransition:function(){var i=Zy(yi)[0],o=tn().memoizedState;return[typeof i=="boolean"?i:td(i),o]},useSyncExternalStore:N_,useId:eC};Co.useCacheRefresh=tC,Co.useMemoCache=Ky,Co.useHostTransitionStatus=rb,Co.useFormState=z_,Co.useActionState=z_,Co.useOptimistic=function(i,o){var l=tn();return _t!==null?P_(l,_t,i,o):(l.baseState=i,[i,l.queue.dispatch])};function ib(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:j({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ab={isMounted:function(i){return(i=i._reactInternals)?q(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var f=Or(),g=la(f);g.payload=o,l!=null&&(g.callback=l),o=ua(i,g,f),o!==null&&(Qn(o,i,f),id(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=Or(),g=la(f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=ua(i,g,f),o!==null&&(Qn(o,i,f),id(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Or(),f=la(l);f.tag=2,o!=null&&(f.callback=o),o=ua(i,f,l),o!==null&&(Qn(o,i,l),id(o,i,l))}};function iC(i,o,l,f,g,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,C):o.prototype&&o.prototype.isPureReactComponent?!qu(l,f)||!qu(g,b):!0}function aC(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&ab.enqueueReplaceState(o,o.state,null)}function Ao(i,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(i=i.defaultProps){l===o&&(l=j({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var vp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function oC(i){vp(i)}function cC(i){console.error(i)}function lC(i){vp(i)}function Ep(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function uC(i,o,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ob(i,o,l){return l=la(l),l.tag=3,l.payload={element:null},l.callback=function(){Ep(i,o)},l}function dC(i){return i=la(i),i.tag=3,i}function hC(i,o,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;i.payload=function(){return g(b)},i.callback=function(){uC(o,l,f)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){uC(o,l,f),typeof g!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var $=f.stack;this.componentDidCatch(f.value,{componentStack:$!==null?$:""})})}function ED(i,o,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&sd(o,l,g,!0),l=Gr.current,l!==null){switch(l.tag){case 13:return Bs===null?Fb():l.alternate===null&&Ht===0&&(Ht=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===My?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),Hb(i,f,g)),!1;case 22:return l.flags|=65536,f===My?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),Hb(i,f,g)),!1}throw Error(r(435,l.tag))}return Hb(i,f,g),Fb(),!1}if(ct)return o=Gr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==ky&&(i=Error(r(422),{cause:f}),Wu(qr(i,l)))):(f!==ky&&(o=Error(r(423),{cause:f}),Wu(qr(o,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=qr(f,l),g=ob(i.stateNode,f,g),_b(i,g),Ht!==4&&(Ht=2)),!1;var b=Error(r(520),{cause:f});if(b=qr(b,l),fd===null?fd=[b]:fd.push(b),Ht!==4&&(Ht=2),o===null)return!0;f=qr(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=ob(l.stateNode,f,i),_b(l,i),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ma===null||!ma.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=dC(g),hC(g,i,l,f),_b(l,g),!1}l=l.return}while(l!==null);return!1}var fC=Error(r(461)),gn=!1;function On(i,o,l,f){o.child=i===null?b_(o,null,l,f):wo(o,i.child,l,f)}function pC(i,o,l,f,g){l=l.render;var b=o.ref;if("ref"in f){var C={};for(var $ in f)$!=="ref"&&(C[$]=f[$])}else C=f;return No(o),f=Hy(i,o,l,C,b,g),$=Vy(),i!==null&&!gn?(Gy(i,o,g),bi(i,o,g)):(ct&&$&&$y(o),o.flags|=1,On(i,o,f,g),o.child)}function gC(i,o,l,f,g){if(i===null){var b=l.type;return typeof b=="function"&&!Ib(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,mC(i,o,b,f,g)):(i=Np(l.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!mb(i,g)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:qu,l(C,f)&&i.ref===o.ref)return bi(i,o,g)}return o.flags|=1,i=pa(b,f),i.ref=o.ref,i.return=o,o.child=i}function mC(i,o,l,f,g){if(i!==null){var b=i.memoizedProps;if(qu(b,f)&&i.ref===o.ref)if(gn=!1,o.pendingProps=f=b,mb(i,g))(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,bi(i,o,g)}return cb(i,o,l,f,g)}function yC(i,o,l){var f=o.pendingProps,g=f.children,b=(o.stateNode._pendingVisibility&2)!==0,C=i!==null?i.memoizedState:null;if(rd(i,o),f.mode==="hidden"||b){if((o.flags&128)!==0){if(f=C!==null?C.baseLanes|l:l,i!==null){for(g=o.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return bC(i,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&dp(o,C!==null?C.cachePool:null),C!==null?w_(o,C):jy(),v_(o);else return o.lanes=o.childLanes=536870912,bC(i,o,C!==null?C.baseLanes|l:l,l)}else C!==null?(dp(o,C.cachePool),w_(o,C),sa(),o.memoizedState=null):(i!==null&&dp(o,null),jy(),sa());return On(i,o,g,l),o.child}function bC(i,o,l,f){var g=Fy();return g=g===null?null:{parent:cn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&dp(o,null),jy(),v_(o),i!==null&&sd(i,o,f,!0),null}function rd(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=2097664)}}function cb(i,o,l,f,g){return No(o),l=Hy(i,o,l,f,void 0,g),f=Vy(),i!==null&&!gn?(Gy(i,o,g),bi(i,o,g)):(ct&&f&&$y(o),o.flags|=1,On(i,o,l,g),o.child)}function wC(i,o,l,f,g,b){return No(o),o.updateQueue=null,l=S_(o,f,l,g),A_(i),f=Vy(),i!==null&&!gn?(Gy(i,o,b),bi(i,o,b)):(ct&&f&&$y(o),o.flags|=1,On(i,o,l,b),o.child)}function vC(i,o,l,f,g){if(No(o),o.stateNode===null){var b=Hc,C=l.contextType;typeof C=="object"&&C!==null&&(b=zn(C)),b=new l(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ab,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},vb(o),C=l.contextType,b.context=typeof C=="object"&&C!==null?zn(C):Hc,b.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(ib(o,l,C,f),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&ab.enqueueReplaceState(b,b.state,null),od(o,f,b,g),ad(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){b=o.stateNode;var $=o.memoizedProps,L=Ao(l,$);b.props=L;var K=b.context,re=l.contextType;C=Hc,typeof re=="object"&&re!==null&&(C=zn(re));var ce=l.getDerivedStateFromProps;re=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||K!==C)&&aC(o,b,f,C),ca=!1;var X=o.memoizedState;b.state=X,od(o,f,b,g),ad(),K=o.memoizedState,$||X!==K||ca?(typeof ce=="function"&&(ib(o,l,ce,f),K=o.memoizedState),(L=ca||iC(o,l,L,f,X,K,C))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=K),b.props=f,b.state=K,b.context=C,f=L):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Eb(i,o),C=o.memoizedProps,re=Ao(l,C),b.props=re,ce=o.pendingProps,X=b.context,K=l.contextType,L=Hc,typeof K=="object"&&K!==null&&(L=zn(K)),$=l.getDerivedStateFromProps,(K=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ce||X!==L)&&aC(o,b,f,L),ca=!1,X=o.memoizedState,b.state=X,od(o,f,b,g),ad();var ne=o.memoizedState;C!==ce||X!==ne||ca||i!==null&&i.dependencies!==null&&_p(i.dependencies)?(typeof $=="function"&&(ib(o,l,$,f),ne=o.memoizedState),(re=ca||iC(o,l,re,f,X,ne,L)||i!==null&&i.dependencies!==null&&_p(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ne,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ne,L)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ne),b.props=f,b.state=ne,b.context=L,f=re):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),f=!1)}return b=f,rd(i,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&f?(o.child=wo(o,i.child,null,g),o.child=wo(o,null,l,g)):On(i,o,l,g),o.memoizedState=b.state,i=o.child):i=bi(i,o,g),i}function EC(i,o,l,f){return Gu(),o.flags|=256,On(i,o,l,f),o.child}var lb={dehydrated:null,treeContext:null,retryLane:0};function ub(i){return{baseLanes:i,cachePool:C_()}}function db(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Zr),i}function _C(i,o,l){var f=o.pendingProps,g=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),C&&(g=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(ct){if(g?ra(o):sa(),ct){var $=xn,L;if(L=$){e:{for(L=$,$=js;L.nodeType!==8;){if(!$){$=null;break e}if(L=bs(L.nextSibling),L===null){$=null;break e}}$=L}$!==null?(o.memoizedState={dehydrated:$,treeContext:mo!==null?{id:pi,overflow:gi}:null,retryLane:536870912},L=Yr(18,null,null,0),L.stateNode=$,L.return=o,o.child=L,Zn=o,xn=null,L=!0):L=!1}L||bo(o)}if($=o.memoizedState,$!==null&&($=$.dehydrated,$!==null))return $.data==="$!"?o.lanes=16:o.lanes=536870912,null;mi(o)}return $=f.children,f=f.fallback,g?(sa(),g=o.mode,$=fb({mode:"hidden",children:$},g),f=xo(f,g,l,null),$.return=o,f.return=o,$.sibling=f,o.child=$,g=o.child,g.memoizedState=ub(l),g.childLanes=db(i,C,l),o.memoizedState=lb,f):(ra(o),hb(o,$))}if(L=i.memoizedState,L!==null&&($=L.dehydrated,$!==null)){if(b)o.flags&256?(ra(o),o.flags&=-257,o=pb(i,o,l)):o.memoizedState!==null?(sa(),o.child=i.child,o.flags|=128,o=null):(sa(),g=f.fallback,$=o.mode,f=fb({mode:"visible",children:f.children},$),g=xo(g,$,l,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,wo(o,i.child,null,l),f=o.child,f.memoizedState=ub(l),f.childLanes=db(i,C,l),o.memoizedState=lb,o=g);else if(ra(o),$.data==="$!"){if(C=$.nextSibling&&$.nextSibling.dataset,C)var K=C.dgst;C=K,f=Error(r(419)),f.stack="",f.digest=C,Wu({value:f,source:null,stack:null}),o=pb(i,o,l)}else if(gn||sd(i,o,l,!1),C=(l&i.childLanes)!==0,gn||C){if(C=Rt,C!==null){if(f=l&-l,(f&42)!==0)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=(f&(C.suspendedLanes|l))!==0?0:f,f!==0&&f!==L.retryLane)throw L.retryLane=f,na(i,f),Qn(C,i,f),fC}$.data==="$?"||Fb(),o=pb(i,o,l)}else $.data==="$?"?(o.flags|=128,o.child=i.child,o=kD.bind(null,i),$._reactRetry=o,o=null):(i=L.treeContext,xn=bs($.nextSibling),Zn=o,ct=!0,ms=null,js=!1,i!==null&&(Hr[Vr++]=pi,Hr[Vr++]=gi,Hr[Vr++]=mo,pi=i.id,gi=i.overflow,mo=o),o=hb(o,f.children),o.flags|=4096);return o}return g?(sa(),g=f.fallback,$=o.mode,L=i.child,K=L.sibling,f=pa(L,{mode:"hidden",children:f.children}),f.subtreeFlags=L.subtreeFlags&31457280,K!==null?g=pa(K,g):(g=xo(g,$,l,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,$=i.child.memoizedState,$===null?$=ub(l):(L=$.cachePool,L!==null?(K=cn._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=C_(),$={baseLanes:$.baseLanes|l,cachePool:L}),g.memoizedState=$,g.childLanes=db(i,C,l),o.memoizedState=lb,f):(ra(o),l=i.child,i=l.sibling,l=pa(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=l,o.memoizedState=null,l)}function hb(i,o){return o=fb({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function fb(i,o){return KC(i,o,0,null)}function pb(i,o,l){return wo(o,i.child,null,l),i=hb(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CC(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),bb(i.return,o,l)}function gb(i,o,l,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=g)}function AC(i,o,l){var f=o.pendingProps,g=f.revealOrder,b=f.tail;if(On(i,o,f.children,l),f=on.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&CC(i,l,o);else if(i.tag===19)CC(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(Ke(on,f),g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&up(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),gb(o,!1,g,l,b);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&up(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}gb(o,!0,l,null,b);break;case"together":gb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ga|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(sd(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=pa(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=pa(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function mb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&_p(i)))}function _D(i,o,l){switch(o.tag){case 3:ps(o,o.stateNode.containerInfo),oa(o,cn,i.memoizedState.cache),Gu();break;case 27:case 5:Ou(o);break;case 4:ps(o,o.stateNode.containerInfo);break;case 10:oa(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(ra(o),o.flags|=128,null):(l&o.child.childLanes)!==0?_C(i,o,l):(ra(o),i=bi(i,o,l),i!==null?i.sibling:null);ra(o);break;case 19:var g=(i.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(sd(i,o,l,!1),f=(l&o.childLanes)!==0),g){if(f)return AC(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ke(on,on.current),f)break;return null;case 22:case 23:return o.lanes=0,yC(i,o,l);case 24:oa(o,cn,i.memoizedState.cache)}return bi(i,o,l)}function SC(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)gn=!0;else{if(!mb(i,l)&&(o.flags&128)===0)return gn=!1,_D(i,o,l);gn=(i.flags&131072)!==0}else gn=!1,ct&&(o.flags&1048576)!==0&&l_(o,ip,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Ib(f)?(i=Ao(f,i),o.tag=1,o=vC(null,o,f,i,l)):(o.tag=0,o=cb(null,o,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===E){o.tag=11,o=pC(null,o,f,i,l);break e}else if(g===S){o.tag=14,o=gC(null,o,f,i,l);break e}}throw o=M(f)||f,Error(r(306,o,""))}}return o;case 0:return cb(i,o,o.type,o.pendingProps,l);case 1:return f=o.type,g=Ao(f,o.pendingProps),vC(i,o,f,g,l);case 3:e:{if(ps(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var b=o.pendingProps;g=o.memoizedState,f=g.element,Eb(i,o),od(o,b,null,l);var C=o.memoizedState;if(b=C.cache,oa(o,cn,b),b!==g.cache&&wb(o,[cn],l,!0),ad(),b=C.element,g.isDehydrated)if(g={element:b,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=EC(i,o,b,l);break e}else if(b!==f){f=qr(Error(r(424)),o),Wu(f),o=EC(i,o,b,l);break e}else for(xn=bs(o.stateNode.containerInfo.firstChild),Zn=o,ct=!0,ms=null,js=!0,l=b_(o,null,b,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Gu(),b===f){o=bi(i,o,l);break e}On(i,o,b,l)}o=o.child}return o;case 26:return rd(i,o),i===null?(l=xA(o.type,null,o.pendingProps,null))?o.memoizedState=l:ct||(l=o.type,i=o.pendingProps,f=jp(Yt.current).createElement(l),f[Ln]=o,f[ir]=i,In(f,l,i),pn(f),o.stateNode=f):o.memoizedState=xA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ou(o),i===null&&ct&&(f=o.stateNode=SA(o.type,o.pendingProps,Yt.current),Zn=o,js=!0,xn=bs(f.firstChild)),f=o.pendingProps.children,i!==null||ct?On(i,o,f,l):o.child=wo(o,null,f,l),rd(i,o),o.child;case 5:return i===null&&ct&&((g=f=xn)&&(f=XD(f,o.type,o.pendingProps,js),f!==null?(o.stateNode=f,Zn=o,xn=bs(f.firstChild),js=!1,g=!0):g=!1),g||bo(o)),Ou(o),g=o.type,b=o.pendingProps,C=i!==null?i.memoizedProps:null,f=b.children,n0(g,b)?f=null:C!==null&&n0(g,C)&&(o.flags|=32),o.memoizedState!==null&&(g=Hy(i,o,gD,null,null,l),_d._currentValue=g),rd(i,o),On(i,o,f,l),o.child;case 6:return i===null&&ct&&((i=l=xn)&&(l=JD(l,o.pendingProps,js),l!==null?(o.stateNode=l,Zn=o,xn=null,i=!0):i=!1),i||bo(o)),null;case 13:return _C(i,o,l);case 4:return ps(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=wo(o,null,f,l):On(i,o,f,l),o.child;case 11:return pC(i,o,o.type,o.pendingProps,l);case 7:return On(i,o,o.pendingProps,l),o.child;case 8:return On(i,o,o.pendingProps.children,l),o.child;case 12:return On(i,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,oa(o,o.type,f.value),On(i,o,f.children,l),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,No(o),g=zn(g),f=f(g),o.flags|=1,On(i,o,f,l),o.child;case 14:return gC(i,o,o.type,o.pendingProps,l);case 15:return mC(i,o,o.type,o.pendingProps,l);case 19:return AC(i,o,l);case 22:return yC(i,o,l);case 24:return No(o),f=zn(cn),i===null?(g=Fy(),g===null&&(g=Rt,b=Ly(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),o.memoizedState={parent:f,cache:g},vb(o),oa(o,cn,g)):((i.lanes&l)!==0&&(Eb(i,o),od(o,null,null,l),ad()),g=i.memoizedState,b=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),oa(o,cn,f)):(f=b.cache,oa(o,cn,f),f!==g.cache&&wb(o,[cn],l,!0))),On(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var yb=xe(null),So=null,wi=null;function oa(i,o,l){Ke(yb,o._currentValue),o._currentValue=l}function vi(i){i._currentValue=yb.current,Re(yb)}function bb(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function wb(i,o,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var C=g.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=g;for(var L=0;L<o.length;L++)if($.context===o[L]){b.lanes|=l,$=b.alternate,$!==null&&($.lanes|=l),bb(b.return,l,i),f||(C=null);break e}b=$.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),bb(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function sd(i,o,l,f){i=null;for(var g=o,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var $=g.type;Sr(g.pendingProps.value,C.value)||(i!==null?i.push($):i=[$])}}else if(g===Tn.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(_d):i=[_d])}g=g.return}i!==null&&wb(o,i,l,f),o.flags|=262144}function _p(i){for(i=i.firstContext;i!==null;){if(!Sr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function No(i){So=i,wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zn(i){return NC(So,i)}function Cp(i,o){return So===null&&No(i),NC(i,o)}function NC(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},wi===null){if(i===null)throw Error(r(308));wi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else wi=wi.next=o;return l}var ca=!1;function vb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eb(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function la(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ua(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(zt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=rp(i),o_(i,null,l),o}return np(i,f,o,l),rp(i)}function id(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,g1(i,l)}}function _b(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?g=b=o:b=b.next=o}else g=b=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var Cb=!1;function ad(){if(Cb){var i=Zc;if(i!==null)throw i}}function od(i,o,l,f){Cb=!1;var g=i.updateQueue;ca=!1;var b=g.firstBaseUpdate,C=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var L=$,K=L.next;L.next=null,C===null?b=K:C.next=K,C=L;var re=i.alternate;re!==null&&(re=re.updateQueue,$=re.lastBaseUpdate,$!==C&&($===null?re.firstBaseUpdate=K:$.next=K,re.lastBaseUpdate=L))}if(b!==null){var ce=g.baseState;C=0,re=K=L=null,$=b;do{var X=$.lane&-536870913,ne=X!==$.lane;if(ne?(ot&X)===X:(f&X)===X){X!==0&&X===Yc&&(Cb=!0),re!==null&&(re=re.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Oe=i,ze=$;X=o;var Vt=l;switch(ze.tag){case 1:if(Oe=ze.payload,typeof Oe=="function"){ce=Oe.call(Vt,ce,X);break e}ce=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=ze.payload,X=typeof Oe=="function"?Oe.call(Vt,ce,X):Oe,X==null)break e;ce=j({},ce,X);break e;case 2:ca=!0}}X=$.callback,X!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:$.tag,payload:$.payload,callback:$.callback,next:null},re===null?(K=re=ne,L=ce):re=re.next=ne,C|=X;if($=$.next,$===null){if($=g.shared.pending,$===null)break;ne=$,$=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);re===null&&(L=ce),g.baseState=L,g.firstBaseUpdate=K,g.lastBaseUpdate=re,b===null&&(g.shared.lanes=0),ga|=C,i.lanes=C,i.memoizedState=ce}}function TC(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function xC(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)TC(l[i],o)}function cd(i,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var b=l.create,C=l.inst;f=b(),C.destroy=f}l=l.next}while(l!==g)}}catch($){Nt(o,o.return,$)}}function da(i,o,l){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&i)===i){var C=f.inst,$=C.destroy;if($!==void 0){C.destroy=void 0,g=o;var L=l;try{$()}catch(K){Nt(g,L,K)}}}f=f.next}while(f!==b)}}catch(K){Nt(o,o.return,K)}}function OC(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{xC(o,l)}catch(f){Nt(i,i.return,f)}}}function IC(i,o,l){l.props=Ao(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Nt(i,o,f)}}function To(i,o){try{var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=f;break;default:g=f}typeof l=="function"?i.refCleanup=l(g):l.current=g}}catch(b){Nt(i,o,b)}}function Nr(i,o){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Nt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Nt(i,o,g)}else l.current=null}function RC(i){var o=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Nt(i,i.return,g)}}function PC(i,o,l){try{var f=i.stateNode;WD(f,i.type,l,o),f[ir]=o}catch(g){Nt(i,i.return,g)}}function DC(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Ab(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||DC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sb(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Mp));else if(f!==4&&f!==27&&(i=i.child,i!==null))for(Sb(i,o,l),i=i.sibling;i!==null;)Sb(i,o,l),i=i.sibling}function Ap(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&f!==27&&(i=i.child,i!==null))for(Ap(i,o,l),i=i.sibling;i!==null;)Ap(i,o,l),i=i.sibling}var Ei=!1,qt=!1,Nb=!1,$C=typeof WeakSet=="function"?WeakSet:Set,mn=null,UC=!1;function CD(i,o){if(i=i.containerInfo,e0=Hp,i=X1(i),xy(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,$=-1,L=-1,K=0,re=0,ce=i,X=null;t:for(;;){for(var ne;ce!==l||g!==0&&ce.nodeType!==3||($=C+g),ce!==b||f!==0&&ce.nodeType!==3||(L=C+f),ce.nodeType===3&&(C+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)X=ce,ce=ne;for(;;){if(ce===i)break t;if(X===l&&++K===g&&($=C),X===b&&++re===f&&(L=C),(ne=ce.nextSibling)!==null)break;ce=X,X=ce.parentNode}ce=ne}l=$===-1||L===-1?null:{start:$,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(t0={focusedElem:i,selectionRange:l},Hp=!1,mn=o;mn!==null;)if(o=mn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,mn=i;else for(;mn!==null;){switch(o=mn,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=o,g=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var Oe=Ao(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(Oe,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(ze){Nt(l,l.return,ze)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)i0(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":i0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,mn=i;break}mn=o.return}return Oe=UC,UC=!1,Oe}function kC(i,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ci(i,l),f&4&&cd(5,l);break;case 1:if(Ci(i,l),f&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch($){Nt(l,l.return,$)}else{var g=Ao(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch($){Nt(l,l.return,$)}}f&64&&OC(l),f&512&&To(l,l.return);break;case 3:if(Ci(i,l),f&64&&(f=l.updateQueue,f!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{xC(f,i)}catch($){Nt(l,l.return,$)}}break;case 26:Ci(i,l),f&512&&To(l,l.return);break;case 27:case 5:Ci(i,l),o===null&&f&4&&RC(l),f&512&&To(l,l.return);break;case 12:Ci(i,l);break;case 13:Ci(i,l),f&4&&BC(i,l);break;case 22:if(g=l.memoizedState!==null||Ei,!g){o=o!==null&&o.memoizedState!==null||qt;var b=Ei,C=qt;Ei=g,(qt=o)&&!C?ha(i,l,(l.subtreeFlags&8772)!==0):Ci(i,l),Ei=b,qt=C}f&512&&(l.memoizedProps.mode==="manual"?To(l,l.return):Nr(l,l.return));break;default:Ci(i,l)}}function MC(i){var o=i.alternate;o!==null&&(i.alternate=null,MC(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&hy(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nn=null,Tr=!1;function _i(i,o,l){for(l=l.child;l!==null;)jC(i,o,l),l=l.sibling}function jC(i,o,l){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Ru,l)}catch{}switch(l.tag){case 26:qt||Nr(l,o),_i(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qt||Nr(l,o);var f=nn,g=Tr;for(nn=l.stateNode,_i(i,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);hy(l),nn=f,Tr=g;break;case 5:qt||Nr(l,o);case 6:g=nn;var b=Tr;if(nn=null,_i(i,o,l),nn=g,Tr=b,nn!==null)if(Tr)try{i=nn,f=l.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)}catch(C){Nt(l,o,C)}else try{nn.removeChild(l.stateNode)}catch(C){Nt(l,o,C)}break;case 18:nn!==null&&(Tr?(o=nn,l=l.stateNode,o.nodeType===8?s0(o.parentNode,l):o.nodeType===1&&s0(o,l),Nd(o)):s0(nn,l.stateNode));break;case 4:f=nn,g=Tr,nn=l.stateNode.containerInfo,Tr=!0,_i(i,o,l),nn=f,Tr=g;break;case 0:case 11:case 14:case 15:qt||da(2,l,o),qt||da(4,l,o),_i(i,o,l);break;case 1:qt||(Nr(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&IC(l,o,f)),_i(i,o,l);break;case 21:_i(i,o,l);break;case 22:qt||Nr(l,o),qt=(f=qt)||l.memoizedState!==null,_i(i,o,l),qt=f;break;default:_i(i,o,l)}}function BC(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nd(i)}catch(l){Nt(o,o.return,l)}}function AD(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new $C),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new $C),o;default:throw Error(r(435,i.tag))}}function Tb(i,o){var l=AD(i);o.forEach(function(f){var g=MD.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function Wr(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],b=i,C=o,$=C;e:for(;$!==null;){switch($.tag){case 27:case 5:nn=$.stateNode,Tr=!1;break e;case 3:nn=$.stateNode.containerInfo,Tr=!0;break e;case 4:nn=$.stateNode.containerInfo,Tr=!0;break e}$=$.return}if(nn===null)throw Error(r(160));jC(b,C,g),nn=null,Tr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)LC(o,i),o=o.sibling}var ys=null;function LC(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wr(o,i),Kr(i),f&4&&(da(3,i,i.return),cd(3,i),da(5,i,i.return));break;case 1:Wr(o,i),Kr(i),f&512&&(qt||l===null||Nr(l,l.return)),f&64&&Ei&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=ys;if(Wr(o,i),Kr(i),f&512&&(qt||l===null||Nr(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[$u]||b[Ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),In(b,f,l),b[Ln]=i,pn(b),f=b;break e;case"link":var C=RA("link","href",g).get(f+(l.href||""));if(C){for(var $=0;$<C.length;$++)if(b=C[$],b.getAttribute("href")===(l.href==null?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice($,1);break t}}b=g.createElement(f),In(b,f,l),g.head.appendChild(b);break;case"meta":if(C=RA("meta","content",g).get(f+(l.content||""))){for($=0;$<C.length;$++)if(b=C[$],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice($,1);break t}}b=g.createElement(f),In(b,f,l),g.head.appendChild(b);break;default:throw Error(r(468,f))}b[Ln]=i,pn(b),f=b}i.stateNode=f}else PA(g,i.type,i.stateNode);else i.stateNode=IA(g,f,i.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?PA(g,i.type,i.stateNode):IA(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&PC(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(f&4&&i.alternate===null){g=i.stateNode,b=i.memoizedProps;try{for(var L=g.firstChild;L;){var K=L.nextSibling,re=L.nodeName;L[$u]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&L.rel.toLowerCase()==="stylesheet"||g.removeChild(L),L=K}for(var ce=i.type,X=g.attributes;X.length;)g.removeAttributeNode(X[0]);In(g,ce,b),g[Ln]=i,g[ir]=b}catch(Oe){Nt(i,i.return,Oe)}}case 5:if(Wr(o,i),Kr(i),f&512&&(qt||l===null||Nr(l,l.return)),i.flags&32){g=i.stateNode;try{Mc(g,"")}catch(Oe){Nt(i,i.return,Oe)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,PC(i,g,l!==null?l.memoizedProps:g)),f&1024&&(Nb=!0);break;case 6:if(Wr(o,i),Kr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(Oe){Nt(i,i.return,Oe)}}break;case 3:if(zp=null,g=ys,ys=Bp(o.containerInfo),Wr(o,i),ys=g,Kr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Nd(o.containerInfo)}catch(Oe){Nt(i,i.return,Oe)}Nb&&(Nb=!1,zC(i));break;case 4:f=ys,ys=Bp(i.stateNode.containerInfo),Wr(o,i),Kr(i),ys=f;break;case 12:Wr(o,i),Kr(i);break;case 13:Wr(o,i),Kr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kb=_r()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Tb(i,f)));break;case 22:if(f&512&&(qt||l===null||Nr(l,l.return)),L=i.memoizedState!==null,K=l!==null&&l.memoizedState!==null,re=Ei,ce=qt,Ei=re||L,qt=ce||K,Wr(o,i),qt=ce,Ei=re,Kr(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,f&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=Ei||qt,l===null||K||o||el(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){K=l=o;try{if(g=K.stateNode,L)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=K.stateNode,$=K.memoizedProps.style;var ne=$!=null&&$.hasOwnProperty("display")?$.display:null;C.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Oe){Nt(K,K.return,Oe)}}}else if(o.tag===6){if(l===null){K=o;try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(Oe){Nt(K,K.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Tb(i,l))));break;case 19:Wr(o,i),Kr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Tb(i,f)));break;case 21:break;default:Wr(o,i),Kr(i)}}function Kr(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(DC(l)){var f=l;break e}l=l.return}throw Error(r(160))}switch(f.tag){case 27:var g=f.stateNode,b=Ab(i);Ap(i,b,g);break;case 5:var C=f.stateNode;f.flags&32&&(Mc(C,""),f.flags&=-33);var $=Ab(i);Ap(i,$,C);break;case 3:case 4:var L=f.stateNode.containerInfo,K=Ab(i);Sb(i,K,L);break;default:throw Error(r(161))}}}catch(re){Nt(i,i.return,re)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function zC(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;zC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ci(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kC(i,o.alternate,o),o=o.sibling}function el(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:da(4,o,o.return),el(o);break;case 1:Nr(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&IC(o,o.return,l),el(o);break;case 26:case 27:case 5:Nr(o,o.return),el(o);break;case 22:Nr(o,o.return),o.memoizedState===null&&el(o);break;default:el(o)}i=i.sibling}}function ha(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=i,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:ha(g,b,l),cd(4,b);break;case 1:if(ha(g,b,l),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){Nt(f,f.return,K)}if(f=b,g=f.updateQueue,g!==null){var $=f.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)TC(L[g],$)}catch(K){Nt(f,f.return,K)}}l&&C&64&&OC(b),To(b,b.return);break;case 26:case 27:case 5:ha(g,b,l),l&&f===null&&C&4&&RC(b),To(b,b.return);break;case 12:ha(g,b,l);break;case 13:ha(g,b,l),l&&C&4&&BC(g,b);break;case 22:b.memoizedState===null&&ha(g,b,l),To(b,b.return);break;default:ha(g,b,l)}o=o.sibling}}function xb(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xu(l))}function Ob(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xu(i))}function fa(i,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)FC(i,o,l,f),o=o.sibling}function FC(i,o,l,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:fa(i,o,l,f),g&2048&&cd(9,o);break;case 3:fa(i,o,l,f),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xu(i)));break;case 12:if(g&2048){fa(i,o,l,f),i=o.stateNode;try{var b=o.memoizedProps,C=b.id,$=b.onPostCommit;typeof $=="function"&&$(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Nt(o,o.return,L)}}else fa(i,o,l,f);break;case 23:break;case 22:b=o.stateNode,o.memoizedState!==null?b._visibility&4?fa(i,o,l,f):ld(i,o):b._visibility&4?fa(i,o,l,f):(b._visibility|=4,tl(i,o,l,f,(o.subtreeFlags&10256)!==0)),g&2048&&xb(o.alternate,o);break;case 24:fa(i,o,l,f),g&2048&&Ob(o.alternate,o);break;default:fa(i,o,l,f)}}function tl(i,o,l,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,C=o,$=l,L=f,K=C.flags;switch(C.tag){case 0:case 11:case 15:tl(b,C,$,L,g),cd(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&4?tl(b,C,$,L,g):ld(b,C):(re._visibility|=4,tl(b,C,$,L,g)),g&&K&2048&&xb(C.alternate,C);break;case 24:tl(b,C,$,L,g),g&&K&2048&&Ob(C.alternate,C);break;default:tl(b,C,$,L,g)}o=o.sibling}}function ld(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,f=o,g=f.flags;switch(f.tag){case 22:ld(l,f),g&2048&&xb(f.alternate,f);break;case 24:ld(l,f),g&2048&&Ob(f.alternate,f);break;default:ld(l,f)}o=o.sibling}}var ud=8192;function nl(i){if(i.subtreeFlags&ud)for(i=i.child;i!==null;)qC(i),i=i.sibling}function qC(i){switch(i.tag){case 26:nl(i),i.flags&ud&&i.memoizedState!==null&&h5(ys,i.memoizedState,i.memoizedProps);break;case 5:nl(i);break;case 3:case 4:var o=ys;ys=Bp(i.stateNode.containerInfo),nl(i),ys=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=ud,ud=16777216,nl(i),ud=o):nl(i));break;default:nl(i)}}function HC(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function dd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];mn=f,GC(f,i)}HC(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)VC(i),i=i.sibling}function VC(i){switch(i.tag){case 0:case 11:case 15:dd(i),i.flags&2048&&da(9,i,i.return);break;case 3:dd(i);break;case 12:dd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,Sp(i)):dd(i);break;default:dd(i)}}function Sp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];mn=f,GC(f,i)}HC(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:da(8,o,o.return),Sp(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,Sp(o));break;default:Sp(o)}i=i.sibling}}function GC(i,o){for(;mn!==null;){var l=mn;switch(l.tag){case 0:case 11:case 15:da(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Xu(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,mn=f;else e:for(l=i;mn!==null;){f=mn;var g=f.sibling,b=f.return;if(MC(f),f===l){mn=null;break e}if(g!==null){g.return=b,mn=g;break e}mn=b}}}function SD(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(i,o,l,f){return new SD(i,o,l,f)}function Ib(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pa(i,o){var l=i.alternate;return l===null?(l=Yr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function WC(i,o){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Np(i,o,l,f,g,b){var C=0;if(f=i,typeof i=="function")Ib(i)&&(C=1);else if(typeof i=="string")C=u5(i,l,Et.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return xo(l.children,g,b,o);case h:C=8,g|=24;break;case p:return i=Yr(12,l,o,g|2),i.elementType=p,i.lanes=b,i;case v:return i=Yr(13,l,o,g),i.elementType=v,i.lanes=b,i;case _:return i=Yr(19,l,o,g),i.elementType=_,i.lanes=b,i;case x:return KC(l,g,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case m:case w:C=10;break e;case y:C=9;break e;case E:C=11;break e;case S:C=14;break e;case N:C=16,f=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=Yr(C,l,o,g),o.elementType=i,o.type=f,o.lanes=b,o}function xo(i,o,l,f){return i=Yr(7,i,f,o),i.lanes=l,i}function KC(i,o,l,f){i=Yr(22,i,f,o),i.elementType=x,i.lanes=l;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=g._current;if(b===null)throw Error(r(456));if((g._pendingVisibility&2)===0){var C=na(b,2);C!==null&&(g._pendingVisibility|=2,Qn(C,b,2))}},attach:function(){var b=g._current;if(b===null)throw Error(r(456));if((g._pendingVisibility&2)!==0){var C=na(b,2);C!==null&&(g._pendingVisibility&=-3,Qn(C,b,2))}}};return i.stateNode=g,i}function Rb(i,o,l){return i=Yr(6,i,null,o),i.lanes=l,i}function Pb(i,o,l){return o=Yr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Ai(i){i.flags|=4}function YC(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!DA(o)){if(o=Gr.current,o!==null&&((ot&4194176)===ot?Bs!==null:(ot&62914560)!==ot&&(ot&536870912)===0||o!==Bs))throw Yu=My,h_;i.flags|=8192}}function Tp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?f1():536870912,i.lanes|=o,sl|=o)}function hd(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Lt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&31457280,f|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function ND(i,o,l){var f=o.pendingProps;switch(Uy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(o),null;case 1:return Lt(o),null;case 3:return l=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),vi(cn),Xi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Vu(o)?Ai(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ms!==null&&(Lb(ms),ms=null))),Lt(o),null;case 26:return l=o.memoizedState,i===null?(Ai(o),l!==null?(Lt(o),YC(o,l)):(Lt(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Ai(o),Lt(o),YC(o,l)):(Lt(o),o.flags&=-16777217):(i.memoizedProps!==f&&Ai(o),Lt(o),o.flags&=-16777217),null;case 27:xc(o),l=Yt.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Ai(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}i=Et.current,Vu(o)?u_(o):(i=SA(g,f,l),o.stateNode=i,Ai(o))}return Lt(o),null;case 5:if(xc(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Ai(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}if(i=Et.current,Vu(o))u_(o);else{switch(g=jp(Yt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[Ln]=o,i[ir]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(In(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ai(o)}}return Lt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&Ai(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=Yt.current,Vu(o)){if(i=o.stateNode,l=o.memoizedProps,f=null,g=Zn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[Ln]=o,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||wA(i.nodeValue,l)),i||bo(o)}else i=jp(i).createTextNode(f),i[Ln]=o,o.stateNode=i}return Lt(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Vu(o),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Ln]=o}else Gu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Lt(o),g=!1}else ms!==null&&(Lb(ms),ms=null),g=!0;if(!g)return o.flags&256?(mi(o),o):(mi(o),null)}if(mi(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Tp(o,o.updateQueue),Lt(o),null;case 4:return Xi(),i===null&&Qb(o.stateNode.containerInfo),Lt(o),null;case 10:return vi(o.type),Lt(o),null;case 19:if(Re(on),g=o.memoizedState,g===null)return Lt(o),null;if(f=(o.flags&128)!==0,b=g.rendering,b===null)if(f)hd(g,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=up(i),b!==null){for(o.flags|=128,hd(g,!1),i=b.updateQueue,o.updateQueue=i,Tp(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)WC(l,i),l=l.sibling;return Ke(on,on.current&1|2),o.child}i=i.sibling}g.tail!==null&&_r()>xp&&(o.flags|=128,f=!0,hd(g,!1),o.lanes=4194304)}else{if(!f)if(i=up(b),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,Tp(o,i),hd(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ct)return Lt(o),null}else 2*_r()-g.renderingStartTime>xp&&l!==536870912&&(o.flags|=128,f=!0,hd(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(i=g.last,i!==null?i.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=_r(),o.sibling=null,i=on.current,Ke(on,f?i&1|2:i&1),o):(Lt(o),null);case 22:case 23:return mi(o),By(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(Lt(o),o.subtreeFlags&6&&(o.flags|=8192)):Lt(o),l=o.updateQueue,l!==null&&Tp(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),i!==null&&Re(vo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),vi(cn),Lt(o),null;case 25:return null}throw Error(r(156,o.tag))}function TD(i,o){switch(Uy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return vi(cn),Xi(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return xc(o),null;case 13:if(mi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Gu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Re(on),null;case 4:return Xi(),null;case 10:return vi(o.type),null;case 22:case 23:return mi(o),By(),i!==null&&Re(vo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return vi(cn),null;case 25:return null;default:return null}}function ZC(i,o){switch(Uy(o),o.tag){case 3:vi(cn),Xi();break;case 26:case 27:case 5:xc(o);break;case 4:Xi();break;case 13:mi(o);break;case 19:Re(on);break;case 10:vi(o.type);break;case 22:case 23:mi(o),By(),i!==null&&Re(vo);break;case 24:vi(cn)}}var xD={getCacheForType:function(i){var o=zn(cn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},OD=typeof WeakMap=="function"?WeakMap:Map,zt=0,Rt=null,tt=null,ot=0,Pt=0,xr=null,Si=!1,rl=!1,Db=!1,Ni=0,Ht=0,ga=0,Oo=0,$b=0,Zr=0,sl=0,fd=null,zs=null,Ub=!1,kb=0,xp=1/0,Op=null,ma=null,Ip=!1,Io=null,pd=0,Mb=0,jb=null,gd=0,Bb=null;function Or(){if((zt&2)!==0&&ot!==0)return ot&-ot;if(O.T!==null){var i=Yc;return i!==0?i:Wb()}return y1()}function QC(){Zr===0&&(Zr=(ot&536870912)===0||ct?h1():536870912);var i=Gr.current;return i!==null&&(i.flags|=32),Zr}function Qn(i,o,l){(i===Rt&&Pt===2||i.cancelPendingCommit!==null)&&(il(i,0),Ti(i,ot,Zr,!1)),Du(i,l),((zt&2)===0||i!==Rt)&&(i===Rt&&((zt&2)===0&&(Oo|=l),Ht===4&&Ti(i,ot,Zr,!1)),Fs(i))}function XC(i,o,l){if((zt&6)!==0)throw Error(r(327));var f=!l&&(o&60)===0&&(o&i.expiredLanes)===0||Pu(i,o),g=f?PD(i,o):qb(i,o,!0),b=f;do{if(g===0){rl&&!f&&Ti(i,o,0,!1);break}else if(g===6)Ti(i,o,0,!Si);else{if(l=i.current.alternate,b&&!ID(l)){g=qb(i,o,!1),b=!1;continue}if(g===2){if(b=o,i.errorRecoveryDisabledLanes&b)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var $=i;g=fd;var L=$.current.memoizedState.isDehydrated;if(L&&(il($,C).flags|=256),C=qb($,C,!1),C!==2){if(Db&&!L){$.errorRecoveryDisabledLanes|=b,Oo|=b,g=4;break e}b=zs,zs=g,b!==null&&Lb(b)}g=C}if(b=!1,g!==2)continue}}if(g===1){il(i,0),Ti(i,o,0,!0);break}e:{switch(f=i,g){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Ti(f,o,Zr,!Si);break e}break;case 2:zs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(f.finishedWork=l,f.finishedLanes=o,(o&62914560)===o&&(b=kb+300-_r(),10<b)){if(Ti(f,o,Zr,!Si),qf(f,0)!==0)break e;f.timeoutHandle=_A(JC.bind(null,f,l,zs,Op,Ub,o,Zr,Oo,sl,Si,2,-0,0),b);break e}JC(f,l,zs,Op,Ub,o,Zr,Oo,sl,Si,0,-0,0)}}break}while(!0);Fs(i)}function Lb(i){zs===null?zs=i:zs.push.apply(zs,i)}function JC(i,o,l,f,g,b,C,$,L,K,re,ce,X){var ne=o.subtreeFlags;if((ne&8192||(ne&16785408)===16785408)&&(Ed={stylesheets:null,count:0,unsuspend:d5},qC(o),o=f5(),o!==null)){i.cancelPendingCommit=o(aA.bind(null,i,l,f,g,C,$,L,1,ce,X)),Ti(i,b,C,!K);return}aA(i,l,f,g,C,$,L,re,ce,X)}function ID(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],b=g.getSnapshot;g=g.value;try{if(!Sr(b(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ti(i,o,l,f){o&=~$b,o&=~Oo,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var g=o;0<g;){var b=31-Ar(g),C=1<<b;f[b]=-1,g&=~C}l!==0&&p1(i,l,o)}function Rp(){return(zt&6)===0?(md(0),!1):!0}function zb(){if(tt!==null){if(Pt===0)var i=tt.return;else i=tt,wi=So=null,Wy(i),Wc=null,Zu=0,i=tt;for(;i!==null;)ZC(i.alternate,i),i=i.return;tt=null}}function il(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),zb(),Rt=i,tt=l=pa(i.current,null),ot=o,Pt=0,xr=null,Si=!1,rl=Pu(i,o),Db=!1,sl=Zr=$b=Oo=ga=Ht=0,zs=fd=null,Ub=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var g=31-Ar(f),b=1<<g;o|=i[g],f&=~b}return Ni=o,tp(),l}function eA(i,o){Xe=null,O.H=Ls,o===Ku?(o=g_(),Pt=3):o===h_?(o=g_(),Pt=4):Pt=o===fC?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,xr=o,tt===null&&(Ht=1,Ep(i,qr(o,i.current)))}function tA(){var i=O.H;return O.H=Ls,i===null?Ls:i}function nA(){var i=O.A;return O.A=xD,i}function Fb(){Ht=4,Si||(ot&4194176)!==ot&&Gr.current!==null||(rl=!0),(ga&134217727)===0&&(Oo&134217727)===0||Rt===null||Ti(Rt,ot,Zr,!1)}function qb(i,o,l){var f=zt;zt|=2;var g=tA(),b=nA();(Rt!==i||ot!==o)&&(Op=null,il(i,o)),o=!1;var C=Ht;e:do try{if(Pt!==0&&tt!==null){var $=tt,L=xr;switch(Pt){case 8:zb(),C=6;break e;case 3:case 2:case 6:Gr.current===null&&(o=!0);var K=Pt;if(Pt=0,xr=null,al(i,$,L,K),l&&rl){C=0;break e}break;default:K=Pt,Pt=0,xr=null,al(i,$,L,K)}}RD(),C=Ht;break}catch(re){eA(i,re)}while(!0);return o&&i.shellSuspendCounter++,wi=So=null,zt=f,O.H=g,O.A=b,tt===null&&(Rt=null,ot=0,tp()),C}function RD(){for(;tt!==null;)rA(tt)}function PD(i,o){var l=zt;zt|=2;var f=tA(),g=nA();Rt!==i||ot!==o?(Op=null,xp=_r()+500,il(i,o)):rl=Pu(i,o);e:do try{if(Pt!==0&&tt!==null){o=tt;var b=xr;t:switch(Pt){case 1:Pt=0,xr=null,al(i,o,b,1);break;case 2:if(f_(b)){Pt=0,xr=null,sA(o);break}o=function(){Pt===2&&Rt===i&&(Pt=7),Fs(i)},b.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:f_(b)?(Pt=0,xr=null,sA(o)):(Pt=0,xr=null,al(i,o,b,7));break;case 5:var C=null;switch(tt.tag){case 26:C=tt.memoizedState;case 5:case 27:var $=tt;if(!C||DA(C)){Pt=0,xr=null;var L=$.sibling;if(L!==null)tt=L;else{var K=$.return;K!==null?(tt=K,Pp(K)):tt=null}break t}}Pt=0,xr=null,al(i,o,b,5);break;case 6:Pt=0,xr=null,al(i,o,b,6);break;case 8:zb(),Ht=6;break e;default:throw Error(r(462))}}DD();break}catch(re){eA(i,re)}while(!0);return wi=So=null,O.H=f,O.A=g,zt=l,tt!==null?0:(Rt=null,ot=0,tp(),Ht)}function DD(){for(;tt!==null&&!kf();)rA(tt)}function rA(i){var o=SC(i.alternate,i,Ni);i.memoizedProps=i.pendingProps,o===null?Pp(i):tt=o}function sA(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=wC(l,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=wC(l,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:Wy(o);default:ZC(l,o),o=tt=WC(o,Ni),o=SC(l,o,Ni)}i.memoizedProps=i.pendingProps,o===null?Pp(i):tt=o}function al(i,o,l,f){wi=So=null,Wy(o),Wc=null,Zu=0;var g=o.return;try{if(ED(i,g,o,l,ot)){Ht=1,Ep(i,qr(l,i.current)),tt=null;return}}catch(b){if(g!==null)throw tt=g,b;Ht=1,Ep(i,qr(l,i.current)),tt=null;return}o.flags&32768?(ct||f===1?i=!0:rl||(ot&536870912)!==0?i=!1:(Si=i=!0,(f===2||f===3||f===6)&&(f=Gr.current,f!==null&&f.tag===13&&(f.flags|=16384))),iA(o,i)):Pp(o)}function Pp(i){var o=i;do{if((o.flags&32768)!==0){iA(o,Si);return}i=o.return;var l=ND(o.alternate,o,Ni);if(l!==null){tt=l;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=i}while(o!==null);Ht===0&&(Ht=5)}function iA(i,o){do{var l=TD(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);Ht=6,tt=null}function aA(i,o,l,f,g,b,C,$,L,K){var re=O.T,ce=J.p;try{J.p=2,O.T=null,$D(i,o,l,f,ce,g,b,C,$,L,K)}finally{O.T=re,J.p=ce}}function $D(i,o,l,f,g,b,C,$){do ol();while(Io!==null);if((zt&6)!==0)throw Error(r(327));var L=i.finishedWork;if(f=i.finishedLanes,L===null)return null;if(i.finishedWork=null,i.finishedLanes=0,L===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=L.lanes|L.childLanes;if(K|=Py,hP(i,f,K,b,C,$),i===Rt&&(tt=Rt=null,ot=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Ip||(Ip=!0,Mb=K,jb=l,jD(Rc,function(){return ol(),null})),l=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||l?(l=O.T,O.T=null,b=J.p,J.p=2,C=zt,zt|=4,CD(i,L),LC(L,i),sD(t0,i.containerInfo),Hp=!!e0,t0=e0=null,i.current=L,kC(i,L.alternate,L),Mf(),zt=C,J.p=b,O.T=l):i.current=L,Ip?(Ip=!1,Io=i,pd=f):oA(i,K),K=i.pendingLanes,K===0&&(ma=null),oP(L.stateNode),Fs(i),o!==null)for(g=i.onRecoverableError,L=0;L<o.length;L++)K=o[L],g(K.value,{componentStack:K.stack});return(pd&3)!==0&&ol(),K=i.pendingLanes,(f&4194218)!==0&&(K&42)!==0?i===Bb?gd++:(gd=0,Bb=i):gd=0,md(0),null}function oA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Xu(o)))}function ol(){if(Io!==null){var i=Io,o=Mb;Mb=0;var l=m1(pd),f=O.T,g=J.p;try{if(J.p=32>l?32:l,O.T=null,Io===null)var b=!1;else{l=jb,jb=null;var C=Io,$=pd;if(Io=null,pd=0,(zt&6)!==0)throw Error(r(331));var L=zt;if(zt|=4,VC(C.current),FC(C,C.current,$,l),zt=L,md(0,!1),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Ru,C)}catch{}b=!0}return b}finally{J.p=g,O.T=f,oA(i,o)}}return!1}function cA(i,o,l){o=qr(l,o),o=ob(i.stateNode,o,2),i=ua(i,o,2),i!==null&&(Du(i,2),Fs(i))}function Nt(i,o,l){if(i.tag===3)cA(i,i,l);else for(;o!==null;){if(o.tag===3){cA(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))){i=qr(l,i),l=dC(2),f=ua(o,l,2),f!==null&&(hC(l,f,o,i),Du(f,2),Fs(f));break}}o=o.return}}function Hb(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new OD;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(Db=!0,g.add(l),i=UD.bind(null,i,o,l),o.then(i,i))}function UD(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Rt===i&&(ot&l)===l&&(Ht===4||Ht===3&&(ot&62914560)===ot&&300>_r()-kb?(zt&2)===0&&il(i,0):$b|=l,sl===ot&&(sl=0)),Fs(i)}function lA(i,o){o===0&&(o=f1()),i=na(i,o),i!==null&&(Du(i,o),Fs(i))}function kD(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),lA(i,l)}function MD(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),lA(i,l)}function jD(i,o){return Ic(i,o)}var Dp=null,cl=null,Vb=!1,$p=!1,Gb=!1,Ro=0;function Fs(i){i!==cl&&i.next===null&&(cl===null?Dp=cl=i:cl=cl.next=i),$p=!0,Vb||(Vb=!0,LD(BD))}function md(i,o){if(!Gb&&$p){Gb=!0;do for(var l=!1,f=Dp;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var C=f.suspendedLanes,$=f.pingedLanes;b=(1<<31-Ar(42|i)+1)-1,b&=g&~(C&~$),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(l=!0,hA(f,b))}else b=ot,b=qf(f,f===Rt?b:0),(b&3)===0||Pu(f,b)||(l=!0,hA(f,b));f=f.next}while(l);Gb=!1}}function BD(){$p=Vb=!1;var i=0;Ro!==0&&(KD()&&(i=Ro),Ro=0);for(var o=_r(),l=null,f=Dp;f!==null;){var g=f.next,b=uA(f,o);b===0?(f.next=null,l===null?Dp=g:l.next=g,g===null&&(cl=l)):(l=f,(i!==0||(b&3)!==0)&&($p=!0)),f=g}md(i)}function uA(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var C=31-Ar(b),$=1<<C,L=g[C];L===-1?(($&l)===0||($&f)!==0)&&(g[C]=dP($,o)):L<=o&&(i.expiredLanes|=$),b&=~$}if(o=Rt,l=ot,l=qf(i,i===o?l:0),f=i.callbackNode,l===0||i===o&&Pt===2||i.cancelPendingCommit!==null)return f!==null&&f!==null&&co(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Pu(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(f!==null&&co(f),m1(l)){case 2:case 8:l=Bf;break;case 32:l=Rc;break;case 268435456:l=Lf;break;default:l=Rc}return f=dA.bind(null,i),l=Ic(l,f),i.callbackPriority=o,i.callbackNode=l,o}return f!==null&&f!==null&&co(f),i.callbackPriority=2,i.callbackNode=null,2}function dA(i,o){var l=i.callbackNode;if(ol()&&i.callbackNode!==l)return null;var f=ot;return f=qf(i,i===Rt?f:0),f===0?null:(XC(i,f,o),uA(i,_r()),i.callbackNode!=null&&i.callbackNode===l?dA.bind(null,i):null)}function hA(i,o){if(ol())return null;XC(i,o,!0)}function LD(i){ZD(function(){(zt&6)!==0?Ic(Iu,i):i()})}function Wb(){return Ro===0&&(Ro=h1()),Ro}function fA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Kf(""+i)}function pA(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function zD(i,o,l,f,g){if(o==="submit"&&l&&l.stateNode===g){var b=fA((g[ir]||null).action),C=f.submitter;C&&(o=(o=C[ir]||null)?fA(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var $=new Xf("action","action",null,f,g);i.push({event:$,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ro!==0){var L=C?pA(g,C):new FormData(g);nb(l,{pending:!0,data:L,method:g.method,action:b},null,L)}}else typeof b=="function"&&($.preventDefault(),L=C?pA(g,C):new FormData(g),nb(l,{pending:!0,data:L,method:g.method,action:b},b,L))},currentTarget:g}]})}}for(var Kb=0;Kb<a_.length;Kb++){var Yb=a_[Kb],FD=Yb.toLowerCase(),qD=Yb[0].toUpperCase()+Yb.slice(1);gs(FD,"on"+qD)}gs(t_,"onAnimationEnd"),gs(n_,"onAnimationIteration"),gs(r_,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(aD,"onTransitionRun"),gs(oD,"onTransitionStart"),gs(cD,"onTransitionCancel"),gs(s_,"onTransitionEnd"),Uc("onMouseEnter",["mouseout","mouseover"]),Uc("onMouseLeave",["mouseout","mouseover"]),Uc("onPointerEnter",["pointerout","pointerover"]),Uc("onPointerLeave",["pointerout","pointerover"]),ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ho("onBeforeInput",["compositionend","keypress","textInput","paste"]),ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yd));function gA(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var C=f.length-1;0<=C;C--){var $=f[C],L=$.instance,K=$.currentTarget;if($=$.listener,L!==b&&g.isPropagationStopped())break e;b=$,g.currentTarget=K;try{b(g)}catch(re){vp(re)}g.currentTarget=null,b=L}else for(C=0;C<f.length;C++){if($=f[C],L=$.instance,K=$.currentTarget,$=$.listener,L!==b&&g.isPropagationStopped())break e;b=$,g.currentTarget=K;try{b(g)}catch(re){vp(re)}g.currentTarget=null,b=L}}}}function nt(i,o){var l=o[dy];l===void 0&&(l=o[dy]=new Set);var f=i+"__bubble";l.has(f)||(mA(o,i,2,!1),l.add(f))}function Zb(i,o,l){var f=0;o&&(f|=4),mA(l,i,f,o)}var Up="_reactListening"+Math.random().toString(36).slice(2);function Qb(i){if(!i[Up]){i[Up]=!0,w1.forEach(function(l){l!=="selectionchange"&&(HD.has(l)||Zb(l,!1,i),Zb(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Up]||(o[Up]=!0,Zb("selectionchange",!1,o))}}function mA(i,o,l,f){switch(BA(o)){case 2:var g=m5;break;case 8:g=y5;break;default:g=u0}l=g.bind(null,o,l,i),g=void 0,!wy||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function Xb(i,o,l,f,g){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var $=f.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var L=C.tag;if((L===3||L===4)&&(L=C.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;C=C.return}for(;$!==null;){if(C=uo($),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){f=b=C;continue e}$=$.parentNode}}f=f.return}R1(function(){var K=b,re=yy(l),ce=[];e:{var X=i_.get(i);if(X!==void 0){var ne=Xf,Oe=i;switch(i){case"keypress":if(Zf(l)===0)break e;case"keydown":case"keyup":ne=MP;break;case"focusin":Oe="focus",ne=Cy;break;case"focusout":Oe="blur",ne=Cy;break;case"beforeblur":case"afterblur":ne=Cy;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=SP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=LP;break;case t_:case n_:case r_:ne=xP;break;case s_:ne=FP;break;case"scroll":case"scrollend":ne=CP;break;case"wheel":ne=HP;break;case"copy":case"cut":case"paste":ne=IP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=k1;break;case"toggle":case"beforetoggle":ne=GP}var ze=(o&4)!==0,Vt=!ze&&(i==="scroll"||i==="scrollend"),Z=ze?X!==null?X+"Capture":null:X;ze=[];for(var V=K,Q;V!==null;){var oe=V;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||Z===null||(oe=ku(V,Z),oe!=null&&ze.push(bd(V,oe,Q))),Vt)break;V=V.return}0<ze.length&&(X=new ne(X,Oe,null,l,re),ce.push({event:X,listeners:ze}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",X&&l!==my&&(Oe=l.relatedTarget||l.fromElement)&&(uo(Oe)||Oe[Pc]))break e;if((ne||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(Oe=l.relatedTarget||l.toElement,ne=K,Oe=Oe?uo(Oe):null,Oe!==null&&(Vt=q(Oe),ze=Oe.tag,Oe!==Vt||ze!==5&&ze!==27&&ze!==6)&&(Oe=null)):(ne=null,Oe=K),ne!==Oe)){if(ze=$1,oe="onMouseLeave",Z="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(ze=k1,oe="onPointerLeave",Z="onPointerEnter",V="pointer"),Vt=ne==null?X:Uu(ne),Q=Oe==null?X:Uu(Oe),X=new ze(oe,V+"leave",ne,l,re),X.target=Vt,X.relatedTarget=Q,oe=null,uo(re)===K&&(ze=new ze(Z,V+"enter",Oe,l,re),ze.target=Q,ze.relatedTarget=Vt,oe=ze),Vt=oe,ne&&Oe)t:{for(ze=ne,Z=Oe,V=0,Q=ze;Q;Q=ll(Q))V++;for(Q=0,oe=Z;oe;oe=ll(oe))Q++;for(;0<V-Q;)ze=ll(ze),V--;for(;0<Q-V;)Z=ll(Z),Q--;for(;V--;){if(ze===Z||Z!==null&&ze===Z.alternate)break t;ze=ll(ze),Z=ll(Z)}ze=null}else ze=null;ne!==null&&yA(ce,X,ne,ze,!1),Oe!==null&&Vt!==null&&yA(ce,Vt,Oe,ze,!0)}}e:{if(X=K?Uu(K):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var Te=H1;else if(F1(X))if(V1)Te=nD;else{Te=eD;var Je=JP}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&gy(K.elementType)&&(Te=H1):Te=tD;if(Te&&(Te=Te(i,K))){q1(ce,Te,l,re);break e}Je&&Je(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&py(X,"number",X.value)}switch(Je=K?Uu(K):window,i){case"focusin":(F1(Je)||Je.contentEditable==="true")&&(zc=Je,Oy=K,Hu=null);break;case"focusout":Hu=Oy=zc=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,J1(ce,l,re);break;case"selectionchange":if(iD)break;case"keydown":case"keyup":J1(ce,l,re)}var Ie;if(Sy)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Lc?L1(i,l)&&($e="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(M1&&l.locale!=="ko"&&(Lc||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Lc&&(Ie=P1()):(ta=re,vy="value"in ta?ta.value:ta.textContent,Lc=!0)),Je=kp(K,$e),0<Je.length&&($e=new U1($e,i,null,l,re),ce.push({event:$e,listeners:Je}),Ie?$e.data=Ie:(Ie=z1(l),Ie!==null&&($e.data=Ie)))),(Ie=KP?YP(i,l):ZP(i,l))&&($e=kp(K,"onBeforeInput"),0<$e.length&&(Je=new U1("onBeforeInput","beforeinput",null,l,re),ce.push({event:Je,listeners:$e}),Je.data=Ie)),zD(ce,i,K,l,re)}gA(ce,o)})}function bd(i,o,l){return{instance:i,listener:o,currentTarget:l}}function kp(i,o){for(var l=o+"Capture",f=[];i!==null;){var g=i,b=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=ku(i,l),g!=null&&f.unshift(bd(i,g,b)),g=ku(i,o),g!=null&&f.push(bd(i,g,b))),i=i.return}return f}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yA(i,o,l,f,g){for(var b=o._reactName,C=[];l!==null&&l!==f;){var $=l,L=$.alternate,K=$.stateNode;if($=$.tag,L!==null&&L===f)break;$!==5&&$!==26&&$!==27||K===null||(L=K,g?(K=ku(l,b),K!=null&&C.unshift(bd(l,K,L))):g||(K=ku(l,b),K!=null&&C.push(bd(l,K,L)))),l=l.return}C.length!==0&&i.push({event:o,listeners:C})}var VD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function bA(i){return(typeof i=="string"?i:""+i).replace(VD,`
`).replace(GD,"")}function wA(i,o){return o=bA(o),bA(i)===o}function Mp(){}function Ct(i,o,l,f,g,b){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Mc(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Mc(i,""+f);break;case"className":Vf(i,"class",f);break;case"tabIndex":Vf(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Vf(i,l,f);break;case"style":O1(i,f,b);break;case"data":if(o!=="object"){Vf(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Kf(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&Ct(i,o,"name",g.name,g,null),Ct(i,o,"formEncType",g.formEncType,g,null),Ct(i,o,"formMethod",g.formMethod,g,null),Ct(i,o,"formTarget",g.formTarget,g,null)):(Ct(i,o,"encType",g.encType,g,null),Ct(i,o,"method",g.method,g,null),Ct(i,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Kf(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Mp);break;case"onScroll":f!=null&&nt("scroll",i);break;case"onScrollEnd":f!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Kf(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Hf(i,"popover",f);break;case"xlinkActuate":fi(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":fi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":fi(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":fi(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":fi(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":fi(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":fi(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":fi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":fi(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Hf(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=EP.get(l)||l,Hf(i,l,f))}}function Jb(i,o,l,f,g,b){switch(l){case"style":O1(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Mc(i,f):(typeof f=="number"||typeof f=="bigint")&&Mc(i,""+f);break;case"onScroll":f!=null&&nt("scroll",i);break;case"onScrollEnd":f!=null&&nt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!v1.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),b=i[ir]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(o,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Hf(i,l,f)}}}function In(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var f=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(i,o,b,C,l,null)}}g&&Ct(i,o,"srcSet",l.srcSet,l,null),f&&Ct(i,o,"src",l.src,l,null);return;case"input":nt("invalid",i);var $=b=C=g=null,L=null,K=null;for(f in l)if(l.hasOwnProperty(f)){var re=l[f];if(re!=null)switch(f){case"name":g=re;break;case"type":C=re;break;case"checked":L=re;break;case"defaultChecked":K=re;break;case"value":b=re;break;case"defaultValue":$=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:Ct(i,o,f,re,l,null)}}S1(i,b,$,L,K,C,g,!1),Gf(i);return;case"select":nt("invalid",i),f=C=b=null;for(g in l)if(l.hasOwnProperty(g)&&($=l[g],$!=null))switch(g){case"value":b=$;break;case"defaultValue":C=$;break;case"multiple":f=$;default:Ct(i,o,g,$,l,null)}o=b,l=C,i.multiple=!!f,o!=null?kc(i,!!f,o,!1):l!=null&&kc(i,!!f,l,!0);return;case"textarea":nt("invalid",i),b=g=f=null;for(C in l)if(l.hasOwnProperty(C)&&($=l[C],$!=null))switch(C){case"value":f=$;break;case"defaultValue":g=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Ct(i,o,C,$,l,null)}T1(i,f,g,b),Gf(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(f=l[L],f!=null))switch(L){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ct(i,o,L,f,l,null)}return;case"dialog":nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(f=0;f<yd.length;f++)nt(yd[f],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(f=l[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(i,o,K,f,l,null)}return;default:if(gy(o)){for(re in l)l.hasOwnProperty(re)&&(f=l[re],f!==void 0&&Jb(i,o,re,f,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(f=l[$],f!=null&&Ct(i,o,$,f,l,null))}function WD(i,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,C=null,$=null,L=null,K=null,re=null;for(ne in l){var ce=l[ne];if(l.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":L=ce;default:f.hasOwnProperty(ne)||Ct(i,o,ne,null,f,ce)}}for(var X in f){var ne=f[X];if(ce=l[X],f.hasOwnProperty(X)&&(ne!=null||ce!=null))switch(X){case"type":b=ne;break;case"name":g=ne;break;case"checked":K=ne;break;case"defaultChecked":re=ne;break;case"value":C=ne;break;case"defaultValue":$=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&Ct(i,o,X,ne,f,ce)}}fy(i,C,$,L,K,re,b,g);return;case"select":ne=C=$=X=null;for(b in l)if(L=l[b],l.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":ne=L;default:f.hasOwnProperty(b)||Ct(i,o,b,null,f,L)}for(g in f)if(b=f[g],L=l[g],f.hasOwnProperty(g)&&(b!=null||L!=null))switch(g){case"value":X=b;break;case"defaultValue":$=b;break;case"multiple":C=b;default:b!==L&&Ct(i,o,g,b,f,L)}o=$,l=C,f=ne,X!=null?kc(i,!!l,X,!1):!!f!=!!l&&(o!=null?kc(i,!!l,o,!0):kc(i,!!l,l?[]:"",!1));return;case"textarea":ne=X=null;for($ in l)if(g=l[$],l.hasOwnProperty($)&&g!=null&&!f.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ct(i,o,$,null,f,g)}for(C in f)if(g=f[C],b=l[C],f.hasOwnProperty(C)&&(g!=null||b!=null))switch(C){case"value":X=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Ct(i,o,C,g,f,b)}N1(i,X,ne);return;case"option":for(var Oe in l)if(X=l[Oe],l.hasOwnProperty(Oe)&&X!=null&&!f.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:Ct(i,o,Oe,null,f,X)}for(L in f)if(X=f[L],ne=l[L],f.hasOwnProperty(L)&&X!==ne&&(X!=null||ne!=null))switch(L){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ct(i,o,L,X,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)X=l[ze],l.hasOwnProperty(ze)&&X!=null&&!f.hasOwnProperty(ze)&&Ct(i,o,ze,null,f,X);for(K in f)if(X=f[K],ne=l[K],f.hasOwnProperty(K)&&X!==ne&&(X!=null||ne!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:Ct(i,o,K,X,f,ne)}return;default:if(gy(o)){for(var Vt in l)X=l[Vt],l.hasOwnProperty(Vt)&&X!==void 0&&!f.hasOwnProperty(Vt)&&Jb(i,o,Vt,void 0,f,X);for(re in f)X=f[re],ne=l[re],!f.hasOwnProperty(re)||X===ne||X===void 0&&ne===void 0||Jb(i,o,re,X,f,ne);return}}for(var Z in l)X=l[Z],l.hasOwnProperty(Z)&&X!=null&&!f.hasOwnProperty(Z)&&Ct(i,o,Z,null,f,X);for(ce in f)X=f[ce],ne=l[ce],!f.hasOwnProperty(ce)||X===ne||X==null&&ne==null||Ct(i,o,ce,X,f,ne)}var e0=null,t0=null;function jp(i){return i.nodeType===9?i:i.ownerDocument}function vA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function n0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var r0=null;function KD(){var i=window.event;return i&&i.type==="popstate"?i===r0?!1:(r0=i,!0):(r0=null,!1)}var _A=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,CA=typeof Promise=="function"?Promise:void 0,ZD=typeof queueMicrotask=="function"?queueMicrotask:typeof CA<"u"?function(i){return CA.resolve(null).then(i).catch(QD)}:_A;function QD(i){setTimeout(function(){throw i})}function s0(i,o){var l=o,f=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){i.removeChild(g),Nd(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Nd(o)}function i0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":i0(l),hy(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XD(i,o,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[$u])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=bs(i.nextSibling),i===null)break}return null}function JD(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=bs(i.nextSibling),i===null))return null;return i}function bs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function AA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function SA(i,o,l){switch(o=jp(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Qr=new Map,NA=new Set;function Bp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var xi=J.d;J.d={f:e5,r:t5,D:n5,C:r5,L:s5,m:i5,X:o5,S:a5,M:c5};function e5(){var i=xi.f(),o=Rp();return i||o}function t5(i){var o=Dc(i);o!==null&&o.tag===5&&o.type==="form"?J_(o):xi.r(i)}var ul=typeof document>"u"?null:document;function TA(i,o,l){var f=ul;if(f&&typeof o=="string"&&o){var g=zr(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),NA.has(g)||(NA.add(g),i={rel:i,crossOrigin:l,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),In(o,"link",i),pn(o),f.head.appendChild(o)))}}function n5(i){xi.D(i),TA("dns-prefetch",i,null)}function r5(i,o){xi.C(i,o),TA("preconnect",i,o)}function s5(i,o,l){xi.L(i,o,l);var f=ul;if(f&&i&&o){var g='link[rel="preload"][as="'+zr(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+zr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+zr(l.imageSizes)+'"]')):g+='[href="'+zr(i)+'"]';var b=g;switch(o){case"style":b=dl(i);break;case"script":b=hl(i)}Qr.has(b)||(i=j({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Qr.set(b,i),f.querySelector(g)!==null||o==="style"&&f.querySelector(wd(b))||o==="script"&&f.querySelector(vd(b))||(o=f.createElement("link"),In(o,"link",i),pn(o),f.head.appendChild(o)))}}function i5(i,o){xi.m(i,o);var l=ul;if(l&&i){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+zr(f)+'"][href="'+zr(i)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=hl(i)}if(!Qr.has(b)&&(i=j({rel:"modulepreload",href:i},o),Qr.set(b,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vd(b)))return}f=l.createElement("link"),In(f,"link",i),pn(f),l.head.appendChild(f)}}}function a5(i,o,l){xi.S(i,o,l);var f=ul;if(f&&i){var g=$c(f).hoistableStyles,b=dl(i);o=o||"default";var C=g.get(b);if(!C){var $={loading:0,preload:null};if(C=f.querySelector(wd(b)))$.loading=5;else{i=j({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Qr.get(b))&&a0(i,l);var L=C=f.createElement("link");pn(L),In(L,"link",i),L._p=new Promise(function(K,re){L.onload=K,L.onerror=re}),L.addEventListener("load",function(){$.loading|=1}),L.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Lp(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:$},g.set(b,C)}}}function o5(i,o){xi.X(i,o);var l=ul;if(l&&i){var f=$c(l).hoistableScripts,g=hl(i),b=f.get(g);b||(b=l.querySelector(vd(g)),b||(i=j({src:i,async:!0},o),(o=Qr.get(g))&&o0(i,o),b=l.createElement("script"),pn(b),In(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function c5(i,o){xi.M(i,o);var l=ul;if(l&&i){var f=$c(l).hoistableScripts,g=hl(i),b=f.get(g);b||(b=l.querySelector(vd(g)),b||(i=j({src:i,async:!0,type:"module"},o),(o=Qr.get(g))&&o0(i,o),b=l.createElement("script"),pn(b),In(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function xA(i,o,l,f){var g=(g=Yt.current)?Bp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=dl(l.href),l=$c(g).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=dl(l.href);var b=$c(g).hoistableStyles,C=b.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,C),(b=g.querySelector(wd(i)))&&!b._p&&(C.instance=b,C.state.loading=5),Qr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Qr.set(i,l),b||l5(g,i,l,C.state))),o&&f===null)throw Error(r(528,""));return C}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hl(l),l=$c(g).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function dl(i){return'href="'+zr(i)+'"'}function wd(i){return'link[rel="stylesheet"]['+i+"]"}function OA(i){return j({},i,{"data-precedence":i.precedence,precedence:null})}function l5(i,o,l,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),In(o,"link",l),pn(o),i.head.appendChild(o))}function hl(i){return'[src="'+zr(i)+'"]'}function vd(i){return"script[async]"+i}function IA(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+zr(l.href)+'"]');if(f)return o.instance=f,pn(f),f;var g=j({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),pn(f),In(f,"style",g),Lp(f,l.precedence,i),o.instance=f;case"stylesheet":g=dl(l.href);var b=i.querySelector(wd(g));if(b)return o.state.loading|=4,o.instance=b,pn(b),b;f=OA(l),(g=Qr.get(g))&&a0(f,g),b=(i.ownerDocument||i).createElement("link"),pn(b);var C=b;return C._p=new Promise(function($,L){C.onload=$,C.onerror=L}),In(b,"link",f),o.state.loading|=4,Lp(b,l.precedence,i),o.instance=b;case"script":return b=hl(l.src),(g=i.querySelector(vd(b)))?(o.instance=g,pn(g),g):(f=l,(g=Qr.get(b))&&(f=j({},l),o0(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),pn(g),In(g,"link",f),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Lp(f,l.precedence,i));return o.instance}function Lp(i,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,C=0;C<f.length;C++){var $=f[C];if($.dataset.precedence===o)b=$;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function a0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function o0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var zp=null;function RA(i,o,l){if(zp===null){var f=new Map,g=zp=new Map;g.set(l,f)}else g=zp,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[$u]||b[Ln]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=i+C;var $=f.get(C);$?$.push(b):f.set(C,[b])}}return f}function PA(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function u5(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ed=null;function d5(){}function h5(i,o,l){if(Ed===null)throw Error(r(475));var f=Ed;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=dl(l.href),b=i.querySelector(wd(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Fp.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=b,pn(b);return}b=i.ownerDocument||i,l=OA(l),(g=Qr.get(g))&&a0(l,g),b=b.createElement("link"),pn(b);var C=b;C._p=new Promise(function($,L){C.onload=$,C.onerror=L}),In(b,"link",l),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Fp.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function f5(){if(Ed===null)throw Error(r(475));var i=Ed;return i.stylesheets&&i.count===0&&c0(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&c0(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Fp(){if(this.count--,this.count===0){if(this.stylesheets)c0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qp=null;function c0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qp=new Map,o.forEach(p5,i),qp=null,Fp.call(i))}function p5(i,o){if(!(o.state.loading&4)){var l=qp.get(i);if(l)var f=l.get(null);else{l=new Map,qp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var C=g[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),f=C)}f&&l.set(null,f)}g=o.instance,C=g.getAttribute("data-precedence"),b=l.get(C)||f,b===f&&l.set(null,g),l.set(C,g),this.count++,f=Fp.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var _d={$$typeof:w,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function g5(i,o,l,f,g,b,C,$){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.hiddenUpdates=uy(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function $A(i,o,l,f,g,b,C,$,L,K,re,ce){return i=new g5(i,o,l,C,$,L,K,ce),o=1,b===!0&&(o|=24),b=Yr(3,null,null,o),i.current=b,b.stateNode=i,o=Ly(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:o},vb(b),i}function UA(i){return i?(i=Hc,i):Hc}function kA(i,o,l,f,g,b){g=UA(g),f.context===null?f.context=g:f.pendingContext=g,f=la(o),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=ua(i,f,o),l!==null&&(Qn(l,i,o),id(l,i,o))}function MA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function l0(i,o){MA(i,o),(i=i.alternate)&&MA(i,o)}function jA(i){if(i.tag===13){var o=na(i,67108864);o!==null&&Qn(o,i,67108864),l0(i,67108864)}}var Hp=!0;function m5(i,o,l,f){var g=O.T;O.T=null;var b=J.p;try{J.p=2,u0(i,o,l,f)}finally{J.p=b,O.T=g}}function y5(i,o,l,f){var g=O.T;O.T=null;var b=J.p;try{J.p=8,u0(i,o,l,f)}finally{J.p=b,O.T=g}}function u0(i,o,l,f){if(Hp){var g=d0(f);if(g===null)Xb(i,o,f,Vp,l),LA(i,f);else if(w5(g,i,o,l,f))f.stopPropagation();else if(LA(i,f),o&4&&-1<b5.indexOf(i)){for(;g!==null;){var b=Dc(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=lo(b.pendingLanes);if(C!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;C;){var L=1<<31-Ar(C);$.entanglements[1]|=L,C&=~L}Fs(b),(zt&6)===0&&(xp=_r()+500,md(0))}}break;case 13:$=na(b,2),$!==null&&Qn($,b,2),Rp(),l0(b,2)}if(b=d0(f),b===null&&Xb(i,o,f,Vp,l),b===g)break;g=b}g!==null&&f.stopPropagation()}else Xb(i,o,f,null,l)}}function d0(i){return i=yy(i),h0(i)}var Vp=null;function h0(i){if(Vp=null,i=uo(i),i!==null){var o=q(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=H(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Vp=i,null}function BA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jf()){case Iu:return 2;case Bf:return 8;case Rc:case ly:return 32;case Lf:return 268435456;default:return 32}default:return 32}}var f0=!1,ya=null,ba=null,wa=null,Cd=new Map,Ad=new Map,va=[],b5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LA(i,o){switch(i){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Cd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(o.pointerId)}}function Sd(i,o,l,f,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},o!==null&&(o=Dc(o),o!==null&&jA(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function w5(i,o,l,f,g){switch(o){case"focusin":return ya=Sd(ya,i,o,l,f,g),!0;case"dragenter":return ba=Sd(ba,i,o,l,f,g),!0;case"mouseover":return wa=Sd(wa,i,o,l,f,g),!0;case"pointerover":var b=g.pointerId;return Cd.set(b,Sd(Cd.get(b)||null,i,o,l,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Ad.set(b,Sd(Ad.get(b)||null,i,o,l,f,g)),!0}return!1}function zA(i){var o=uo(i.target);if(o!==null){var l=q(o);if(l!==null){if(o=l.tag,o===13){if(o=H(l),o!==null){i.blockedOn=o,fP(i.priority,function(){if(l.tag===13){var f=Or(),g=na(l,f);g!==null&&Qn(g,l,f),l0(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=d0(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);my=f,l.target.dispatchEvent(f),my=null}else return o=Dc(l),o!==null&&jA(o),i.blockedOn=l,!1;o.shift()}return!0}function FA(i,o,l){Gp(i)&&l.delete(o)}function v5(){f0=!1,ya!==null&&Gp(ya)&&(ya=null),ba!==null&&Gp(ba)&&(ba=null),wa!==null&&Gp(wa)&&(wa=null),Cd.forEach(FA),Ad.forEach(FA)}function Wp(i,o){i.blockedOn===o&&(i.blockedOn=null,f0||(f0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v5)))}var Kp=null;function qA(i){Kp!==i&&(Kp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kp===i&&(Kp=null);for(var o=0;o<i.length;o+=3){var l=i[o],f=i[o+1],g=i[o+2];if(typeof f!="function"){if(h0(f||l)===null)continue;break}var b=Dc(l);b!==null&&(i.splice(o,3),o-=3,nb(b,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Nd(i){function o(L){return Wp(L,i)}ya!==null&&Wp(ya,i),ba!==null&&Wp(ba,i),wa!==null&&Wp(wa,i),Cd.forEach(o),Ad.forEach(o);for(var l=0;l<va.length;l++){var f=va[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<va.length&&(l=va[0],l.blockedOn===null);)zA(l),l.blockedOn===null&&va.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],b=l[f+1],C=g[ir]||null;if(typeof b=="function")C||qA(l);else if(C){var $=null;if(b&&b.hasAttribute("formAction")){if(g=b,C=b[ir]||null)$=C.formAction;else if(h0(g)!==null)continue}else $=C.action;typeof $=="function"?l[f+1]=$:(l.splice(f,3),f-=3),qA(l)}}}function p0(i){this._internalRoot=i}Yp.prototype.render=p0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=Or();kA(l,f,i,o,null,null)},Yp.prototype.unmount=p0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&ol(),kA(i.current,2,null,i,null,null),Rp(),o[Pc]=null}};function Yp(i){this._internalRoot=i}Yp.prototype.unstable_scheduleHydration=function(i){if(i){var o=y1();i={blockedOn:null,target:i,priority:o};for(var l=0;l<va.length&&o!==0&&o<va[l].priority;l++);va.splice(l,0,i),l===0&&zA(i)}};var HA=e.version;if(HA!=="19.0.0")throw Error(r(527,HA,"19.0.0"));J.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Y(o),i=i!==null?te(i):null,i=i===null?null:i.stateNode,i};var E5={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:uo,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Ru=Zp.inject(E5),Cr=Zp}catch{}}return xd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,f="",g=oC,b=cC,C=lC,$=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&($=o.unstable_transitionCallbacks)),o=$A(i,1,!1,null,null,l,f,g,b,C,$,null),i[Pc]=o.current,Qb(i.nodeType===8?i.parentNode:i),new p0(o)},xd.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var f=!1,g="",b=oC,C=cC,$=lC,L=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),o=$A(i,1,!0,o,l??null,f,g,b,C,$,L,K),o.context=UA(null),l=o.current,f=Or(),g=la(f),g.callback=null,ua(l,g,f),o.current.lanes=f,Du(o,f),Fs(o),i[Pc]=o.current,Qb(i),new Yp(o)},xd.version="19.0.0",xd}var tS;function R5(){if(tS)return b0.exports;tS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b0.exports=I5(),b0.exports}var P5=R5();const D5=Symbol(),lE=Symbol(),Od="a",sh="w";let $5=(t,e)=>new Proxy(t,e);const Fw=Object.getPrototypeOf,qw=new WeakMap,Ix=t=>t&&(qw.has(t)?qw.get(t):Fw(t)===Object.prototype||Fw(t)===Array.prototype),zg=t=>typeof t=="object"&&t!==null,U5=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(Fw(t),e)},uE=t=>t[lE]||t,Rx=(t,e,n,r)=>{if(!Ix(t))return t;let s=r&&r.get(t);if(!s){const d=uE(t);s=(h=>Object.values(Object.getOwnPropertyDescriptors(h)).some(p=>!p.configurable&&!p.writable))(d)?[d,U5(d)]:[d],r==null||r.set(t,s)}const[a,c]=s;let u=n&&n.get(a);return u&&u[1].f===!!c||(u=((d,h)=>{const p={f:h};let m=!1;const y=(E,v)=>{if(!m){let _=p[Od].get(d);if(_||(_={},p[Od].set(d,_)),E===sh)_[sh]=!0;else{let S=_[E];S||(S=new Set,_[E]=S),S.add(v)}}},w={get:(E,v)=>v===lE?d:(y("k",v),Rx(Reflect.get(E,v),p[Od],p.c,p.t)),has:(E,v)=>v===D5?(m=!0,p[Od].delete(d),!0):(y("h",v),Reflect.has(E,v)),getOwnPropertyDescriptor:(E,v)=>(y("o",v),Reflect.getOwnPropertyDescriptor(E,v)),ownKeys:E=>(y(sh),Reflect.ownKeys(E))};return h&&(w.set=w.deleteProperty=()=>!1),[w,p]})(a,!!c),u[1].p=$5(c||a,u[0]),n&&n.set(a,u)),u[1][Od]=e,u[1].c=n,u[1].t=r,u[1].p},Px=(t,e,n,r,s=Object.is)=>{if(s(t,e))return!1;if(!zg(t)||!zg(e))return!0;const a=n.get(uE(t));if(!a)return!0;if(r){const u=r.get(t);if(u&&u.n===e)return u.g;r.set(t,{n:e,g:!1})}let c=null;try{for(const u of a.h||[])if(c=Reflect.has(t,u)!==Reflect.has(e,u),c)return c;if(a[sh]===!0){if(c=((u,d)=>{const h=Reflect.ownKeys(u),p=Reflect.ownKeys(d);return h.length!==p.length||h.some((m,y)=>m!==p[y])})(t,e),c)return c}else for(const u of a.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(t,u)!=!!Reflect.getOwnPropertyDescriptor(e,u),c)return c;for(const u of a.k||[])if(c=Px(t[u],e[u],n,r,s),c)return c;return c===null&&(c=!0),c}finally{r&&r.set(t,{n:e,g:c})}},k5=t=>Ix(t)&&t[lE]||null,nS=(t,e=!0)=>{qw.set(t,e)},M5=(t,e,n)=>{const r=[],s=new WeakSet,a=(c,u)=>{if(s.has(c))return;zg(c)&&s.add(c);const d=zg(c)&&e.get(uE(c));if(d){var h,p;if((h=d.h)==null||h.forEach(y=>{const w=`:has(${String(y)})`;r.push(u?[...u,w]:[w])}),d[sh]===!0){const y=":ownKeys";r.push(u?[...u,y]:[y])}else{var m;(m=d.o)==null||m.forEach(y=>{const w=`:hasOwn(${String(y)})`;r.push(u?[...u,w]:[w])})}(p=d.k)==null||p.forEach(y=>{!("value"in(Object.getOwnPropertyDescriptor(c,y)||{}))||a(c[y],u?[...u,y]:[y])})}else u&&r.push(u)};return a(t),r},Fg={},_0=t=>typeof t=="object"&&t!==null,Da=new WeakMap,Qd=new WeakSet,j5=(t=Object.is,e=(h,p)=>new Proxy(h,p),n=h=>_0(h)&&!Qd.has(h)&&(Array.isArray(h)||!(Symbol.iterator in h))&&!(h instanceof WeakMap)&&!(h instanceof WeakSet)&&!(h instanceof Error)&&!(h instanceof Number)&&!(h instanceof Date)&&!(h instanceof String)&&!(h instanceof RegExp)&&!(h instanceof ArrayBuffer),r=h=>{switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:throw h}},s=new WeakMap,a=(h,p,m=r)=>{const y=s.get(h);if((y==null?void 0:y[0])===p)return y[1];const w=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h));return nS(w,!0),s.set(h,[p,w]),Reflect.ownKeys(h).forEach(E=>{if(Object.getOwnPropertyDescriptor(w,E))return;const v=Reflect.get(h,E),{enumerable:_}=Reflect.getOwnPropertyDescriptor(h,E),S={value:v,enumerable:_,configurable:!0};if(Qd.has(v))nS(v,!1);else if(v instanceof Promise)delete S.value,S.get=()=>m(v);else if(Da.has(v)){const[N,x]=Da.get(v);S.value=a(N,x(),m)}Object.defineProperty(w,E,S)}),Object.preventExtensions(w)},c=new WeakMap,u=[1,1],d=h=>{if(!_0(h))throw new Error("object required");const p=c.get(h);if(p)return p;let m=u[0];const y=new Set,w=(O,j=++u[0])=>{m!==j&&(m=j,y.forEach(F=>F(O,j)))};let E=u[1];const v=(O=++u[1])=>(E!==O&&!y.size&&(E=O,S.forEach(([j])=>{const F=j[1](O);F>m&&(m=F)})),m),_=O=>(j,F)=>{const ee=[...j];ee[1]=[O,...ee[1]],w(ee,F)},S=new Map,N=(O,j)=>{if((Fg?"production":void 0)!=="production"&&S.has(O))throw new Error("prop listener already exists");if(y.size){const F=j[3](_(O));S.set(O,[j,F])}else S.set(O,[j])},x=O=>{var j;const F=S.get(O);F&&(S.delete(O),(j=F[1])==null||j.call(F))},P=O=>(y.add(O),y.size===1&&S.forEach(([F,ee],ae)=>{if((Fg?"production":void 0)!=="production"&&ee)throw new Error("remove already exists");const G=F[3](_(ae));S.set(ae,[F,G])}),()=>{y.delete(O),y.size===0&&S.forEach(([F,ee],ae)=>{ee&&(ee(),S.set(ae,[F]))})}),T=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h)),R=e(T,{deleteProperty(O,j){const F=Reflect.get(O,j);x(j);const ee=Reflect.deleteProperty(O,j);return ee&&w(["delete",[j],F]),ee},set(O,j,F,ee){const ae=Reflect.has(O,j),G=Reflect.get(O,j,ee);if(ae&&(t(G,F)||c.has(F)&&t(G,c.get(F))))return!0;x(j),_0(F)&&(F=k5(F)||F);let k=F;if(F instanceof Promise)F.then(I=>{F.status="fulfilled",F.value=I,w(["resolve",[j],I])}).catch(I=>{F.status="rejected",F.reason=I,w(["reject",[j],I])});else{!Da.has(F)&&n(F)&&(k=d(F));const I=!Qd.has(k)&&Da.get(k);I&&N(j,I)}return Reflect.set(O,j,k,ee),w(["set",[j],F,G]),!0}});c.set(h,R);const M=[T,v,a,P];return Da.set(R,M),Reflect.ownKeys(h).forEach(O=>{const j=Object.getOwnPropertyDescriptor(h,O);"value"in j&&(R[O]=h[O],delete j.value,delete j.writable),Object.defineProperty(T,O,j)}),R})=>[d,Da,Qd,t,e,n,r,s,a,c,u],[B5]=j5();function jt(t={}){return B5(t)}function Gn(t,e,n){const r=Da.get(t);(Fg?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],c=r[3];let u=!1;const h=c(p=>{a.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,h()}}function ac(t,e){const n=Da.get(t);(Fg?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,a]=n;return a(r,s(),e)}function oc(t){return Qd.add(t),t}function Kn(t,e,n,r){let s=t[e];return Gn(t,()=>{const a=t[e];Object.is(s,a)||n(s=a)})}function L5(t){const e=jt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(a=>a[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const yh={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var z5=20,F5=1,yu=1e6,q5=1e6,H5=-7,V5=21,G5=!1,gf="[big.js] ",Ec=gf+"Invalid ",Nm=Ec+"decimal places",W5=Ec+"rounding mode",Dx=gf+"Division by zero",vt={},ri=void 0,K5=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function $x(){function t(e){var n=this;if(!(n instanceof t))return e===ri?$x():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Ec+"value");e=e===0&&1/e<0?"-0":String(e)}Y5(n,e)}n.constructor=t}return t.prototype=vt,t.DP=z5,t.RM=F5,t.NE=H5,t.PE=V5,t.strict=G5,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Y5(t,e){var n,r,s;if(!K5.test(e))throw Error(Ec+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function _c(t,e,n,r){var s=t.c;if(n===ri&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(W5);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ri))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==ri||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Cc(t,e,n){var r=t.e,s=t.c.join(""),a=s.length;if(e)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};vt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,a=n.s,c=t.s,u=n.e,d=t.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-c:0;if(a!=c)return a;if(e=a<0,u!=d)return u>d^e?1:-1;for(c=(u=r.length)<(d=s.length)?u:d,a=-1;++a<c;)if(r[a]!=s[a])return r[a]>s[a]^e?1:-1;return u==d?0:u>d^e?1:-1};vt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,a=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>yu)throw Error(Nm);if(!s[0])throw Error(Dx);if(!r[0])return t.s=a,t.c=[t.e=0],t;var u,d,h,p,m,y=s.slice(),w=u=s.length,E=r.length,v=r.slice(0,u),_=v.length,S=t,N=S.c=[],x=0,P=c+(S.e=e.e-t.e)+1;for(S.s=a,a=P<0?0:P,y.unshift(0);_++<u;)v.push(0);do{for(h=0;h<10;h++){if(u!=(_=v.length))p=u>_?1:-1;else for(m=-1,p=0;++m<u;)if(s[m]!=v[m]){p=s[m]>v[m]?1:-1;break}if(p<0){for(d=_==u?s:y;_;){if(v[--_]<d[_]){for(m=_;m&&!v[--m];)v[m]=9;--v[m],v[_]+=10}v[_]-=d[_]}for(;!v[0];)v.shift()}else break}N[x++]=p?h:++h,v[0]&&p?v[_]=r[w]||0:v=[r[w]]}while((w++<E||v[0]!==ri)&&a--);return!N[0]&&x!=1&&(N.shift(),S.e--,P--),x>P&&_c(S,P,n.RM,v[0]!==ri),S};vt.eq=function(t){return this.cmp(t)===0};vt.gt=function(t){return this.cmp(t)>0};vt.gte=function(t){return this.cmp(t)>-1};vt.lt=function(t){return this.cmp(t)<0};vt.lte=function(t){return this.cmp(t)<1};vt.minus=vt.sub=function(t){var e,n,r,s,a=this,c=a.constructor,u=a.s,d=(t=new c(t)).s;if(u!=d)return t.s=-d,a.plus(t);var h=a.c.slice(),p=a.e,m=t.c,y=t.e;if(!h[0]||!m[0])return m[0]?t.s=-d:h[0]?t=new c(a):t.s=1,t;if(u=p-y){for((s=u<0)?(u=-u,r=h):(y=p,r=m),r.reverse(),d=u;d--;)r.push(0);r.reverse()}else for(n=((s=h.length<m.length)?h:m).length,u=d=0;d<n;d++)if(h[d]!=m[d]){s=h[d]<m[d];break}if(s&&(r=h,h=m,m=r,t.s=-t.s),(d=(n=m.length)-(e=h.length))>0)for(;d--;)h[e++]=0;for(d=e;n>u;){if(h[--n]<m[n]){for(e=n;e&&!h[--e];)h[e]=9;--h[e],h[n]+=10}h[n]-=m[n]}for(;h[--d]===0;)h.pop();for(;h[0]===0;)h.shift(),--y;return h[0]||(t.s=1,h=[y=0]),t.c=h,t.e=y,t};vt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,a=(t=new r(t)).s;if(!t.c[0])throw Error(Dx);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=a,e?new r(n):(s=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=a,this.minus(n.times(t)))};vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};vt.plus=vt.add=function(t){var e,n,r,s=this,a=s.constructor;if(t=new a(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var c=s.e,u=s.c,d=t.e,h=t.c;if(!u[0]||!h[0])return h[0]||(u[0]?t=new a(s):t.s=s.s),t;if(u=u.slice(),e=c-d){for(e>0?(d=c,r=h):(e=-e,r=u),r.reverse();e--;)r.push(0);r.reverse()}for(u.length-h.length<0&&(r=h,h=u,u=r),e=h.length,n=0;e;u[e]%=10)n=(u[--e]=u[e]+h[e]+n)/10|0;for(n&&(u.unshift(n),++d),e=u.length;u[--e]===0;)u.pop();return t.c=u,t.e=d,t};vt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-1e6||t>q5)throw Error(Ec+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};vt.prec=function(t,e){if(t!==~~t||t<1||t>yu)throw Error(Ec+"precision");return _c(new this.constructor(this),t,e)};vt.round=function(t,e){if(t===ri)t=0;else if(t!==~~t||t<-1e6||t>yu)throw Error(Nm);return _c(new this.constructor(this),t+this.e+1,e)};vt.sqrt=function(){var t,e,n,r=this,s=r.constructor,a=r.s,c=r.e,u=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error(gf+"No square root");a=Math.sqrt(+Cc(r,!0,!0)),a===0||a===1/0?(e=r.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):t=new s(a+""),c=t.e+(s.DP+=4);do n=t,t=u.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return _c(t,(s.DP-=4)+t.e+1,s.RM)};vt.times=vt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,a=(t=new r(t)).c,c=s.length,u=a.length,d=n.e,h=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!a[0])return t.c=[t.e=0],t;for(t.e=d+h,c<u&&(e=s,s=a,a=e,h=c,c=u,u=h),e=new Array(h=c+u);h--;)e[h]=0;for(d=u;d--;){for(u=0,h=c+d;h>d;)u=e[h]+a[d]*s[h-d-1]+u,e[h--]=u%10,u=u/10|0;e[h]=u}for(u?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};vt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==ri){if(t!==~~t||t<0||t>yu)throw Error(Nm);for(n=_c(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Cc(n,!0,!!r)};vt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==ri){if(t!==~~t||t<0||t>yu)throw Error(Nm);for(n=_c(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Cc(n,!1,!!r)};vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var t=this,e=t.constructor;return Cc(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};vt.toNumber=function(){var t=+Cc(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(gf+"Imprecise conversion");return t};vt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==ri){if(t!==~~t||t<1||t>yu)throw Error(Ec+"precision");for(n=_c(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Cc(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(gf+"valueOf disallowed");return Cc(t,t.e<=e.NE||t.e>=e.PE,!0)};var Id=$x();const Z5={bigNumber(t){return t?new Id(t):new Id(0)},multiply(t,e){if(t===void 0||e===void 0)return new Id(0);const n=new Id(t),r=new Id(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Q5=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],X5=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],J5=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var rS={};const fe={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof rS<"u"?rS.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},e8={getERC20Abi:t=>fe.USDT_CONTRACT_ADDRESSES.includes(t)?J5:Q5,getSwapAbi:()=>X5},_a={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ve={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function C0(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Le={setItem(t,e){Xd()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Xd())return localStorage.getItem(t)||void 0},removeItem(t){Xd()&&localStorage.removeItem(t)},clear(){Xd()&&localStorage.clear()}};function Xd(){return typeof window<"u"&&typeof localStorage<"u"}function Hi(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var sS={};const A0=(typeof process<"u"&&typeof sS<"u"?sS.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Kte=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Yte="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",an={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:A0,SECURE_SITE_DASHBOARD:`${A0}/dashboard`,SECURE_SITE_FAVICON:`${A0}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},we={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=we.getActiveNamespace(),e=we.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Le.setItem(Ve.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Le.getItem(Ve.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Le.removeItem(Ve.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Le.setItem(Ve.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Le.setItem(Ve.ACTIVE_CAIP_NETWORK_ID,t),we.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Le.getItem(Ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Le.removeItem(Ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=C0(t);Le.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=we.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Le.setItem(Ve.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Le.getItem(Ve.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=C0(t);Le.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Le.getItem(Ve.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=C0(t);return Le.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Le.setItem(Ve.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Le.getItem(Ve.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Le.removeItem(Ve.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Le.getItem(Ve.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Le.getItem(Ve.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Le.setItem(Ve.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Le.getItem(Ve.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Le.getItem(Ve.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Le.setItem(Ve.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=we.getConnectedNamespaces();e.includes(t)||(e.push(t),we.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=we.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),we.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Le.getItem(Ve.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Le.setItem(Ve.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Le.removeItem(Ve.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Le.getItem(Ve.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=we.getBalanceCache();Le.setItem(Ve.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=we.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=we.getBalanceCache();e[t.caipAddress]=t,Le.setItem(Ve.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Le.getItem(Ve.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=we.getBalanceCache();Le.setItem(Ve.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=we.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=we.getNativeBalanceCache();e[t.caipAddress]=t,Le.setItem(Ve.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Le.getItem(Ve.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=we.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;we.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=we.getEnsCache();e[t.address]=t,Le.setItem(Ve.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=we.getEnsCache();Le.setItem(Ve.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Le.getItem(Ve.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=we.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;we.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=we.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Le.setItem(Ve.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=we.getIdentityCache();Le.setItem(Ve.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Le.removeItem(Ve.PORTFOLIO_CACHE),Le.removeItem(Ve.NATIVE_BALANCE_CACHE),Le.removeItem(Ve.ENS_CACHE),Le.removeItem(Ve.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Le.setItem(Ve.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Le.getItem(Ve.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...we.getConnections(),[e]:t};Le.setItem(Ve.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Le.getItem(Ve.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},De={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return De.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=an.TEN_SEC_MS:!0},isAllowedRetry(t,e=an.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+an.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(De.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:s?`${s}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(t,e){if(!De.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?we.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,s;if(typeof window>"u")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(s=window==null?void 0:window.navigator)==null?void 0:s.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,De.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return fe.W3M_API_URL},getBlockchainApiUrl(){return fe.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return fe.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const a=n[r.id],c=n[s.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?an.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in fe.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",a=t.substring(t.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(a),n,e);return t.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),a=e.length,c=s!==-1?s:t.length,u=t.substring(0,r+a),d=t.substring(r+a,c),h=t.substring(s),p=d+n;return u+p+h}};async function Rd(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class mf{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const a=this.createUrl(s);return(await Rd(a,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Rd(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Rd(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Rd(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Rd(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const t8={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?an.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(De.isTelegram()){if(De.isIos())return t.filter(e=>e!=="google");if(De.isMac())return t.filter(e=>e!=="x");if(De.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ue=jt({features:an.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:an.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),ue={state:Ue,subscribeKey(t,e){return Kn(Ue,t,e)},setOptions(t){Object.assign(Ue,t)},setFeatures(t){if(!t)return;Ue.features||(Ue.features=an.DEFAULT_FEATURES);const e={...Ue.features,...t};Ue.features=e,Ue.features.socials&&(Ue.features.socials=t8.filterSocialsByPlatform(Ue.features.socials))},setProjectId(t){Ue.projectId=t},setCustomRpcUrls(t){Ue.customRpcUrls=t},setAllWallets(t){Ue.allWallets=t},setIncludeWalletIds(t){Ue.includeWalletIds=t},setExcludeWalletIds(t){Ue.excludeWalletIds=t},setFeaturedWalletIds(t){Ue.featuredWalletIds=t},setTokens(t){Ue.tokens=t},setTermsConditionsUrl(t){Ue.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ue.privacyPolicyUrl=t},setCustomWallets(t){Ue.customWallets=t},setIsSiweEnabled(t){Ue.isSiweEnabled=t},setIsUniversalProvider(t){Ue.isUniversalProvider=t},setSdkVersion(t){Ue.sdkVersion=t},setMetadata(t){Ue.metadata=t},setDisableAppend(t){Ue.disableAppend=t},setEIP6963Enabled(t){Ue.enableEIP6963=t},setDebug(t){Ue.debug=t},setEnableWalletConnect(t){Ue.enableWalletConnect=t},setEnableWalletGuide(t){Ue.enableWalletGuide=t},setEnableAuthLogger(t){Ue.enableAuthLogger=t},setEnableWallets(t){Ue.enableWallets=t},setPreferUniversalLinks(t){Ue.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Ue.hasMultipleAddresses=t},setSIWX(t){Ue.siwx=t},setConnectMethodsOrder(t){Ue.features={...Ue.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ue.features={...Ue.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ue.features={...Ue.features,socials:t}},setCollapseWallets(t){Ue.features={...Ue.features,collapseWallets:t}},setEnableEmbedded(t){Ue.enableEmbedded=t},setAllowUnsupportedChain(t){Ue.allowUnsupportedChain=t},setManualWCControl(t){Ue.manualWCControl=t},setEnableNetworkSwitch(t){Ue.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ue.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ue.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ue.universalProviderConfigOverride},getSnapshot(){return ac(Ue)}},n8=Object.freeze({enabled:!0,events:[]}),r8=new mf({baseUrl:De.getAnalyticsUrl(),clientId:null}),s8=5,i8=60*1e3,Ca=jt({...n8}),a8={state:Ca,subscribeKey(t,e){return Kn(Ca,t,e)},async sendError(t,e){if(!Ca.enabled)return;const n=Date.now();if(Ca.events.filter(a=>{const c=new Date(a.properties.timestamp||"").getTime();return n-c<i8}).length>=s8)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Ca.events.push(s);try{if(typeof window>"u")return;const{projectId:a,sdkType:c,sdkVersion:u}=ue.state;await r8.post({path:"/e",params:{projectId:a,st:c,sv:u||"html-wagmi-4.2.2"},body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(a){console.error("Error sending telemetry event:",a)}},enable(){Ca.enabled=!0},disable(){Ca.enabled=!1},clearEvents(){Ca.events=[]}};class bh extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Error.captureStackTrace&&Error.captureStackTrace(this,bh)}}function iS(t,e){const n=t instanceof bh?t:new bh(t instanceof Error?t.message:String(t),e,t);throw a8.sendError(n,n.category),n}function ls(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let a=s;s.constructor.name==="AsyncFunction"?a=async(...c)=>{try{return await s(...c)}catch(u){return iS(u,e)}}:a=(...c)=>{try{return s(...c)}catch(u){return iS(u,e)}},n[r]=a}else n[r]=s}),n}const o8={handleMobileDeeplinkRedirect(t){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",s=e.split("/")[2],a=encodeURIComponent(`${r}://${s}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${a}`}B.state.activeChain===fe.CHAIN.SOLANA&&t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Ir=jt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),c8={state:Ir,subscribeNetworkImages(t){return Gn(Ir.networkImages,()=>t(Ir.networkImages))},subscribeKey(t,e){return Kn(Ir,t,e)},subscribe(t){return Gn(Ir,()=>t(Ir))},setWalletImage(t,e){Ir.walletImages[t]=e},setNetworkImage(t,e){Ir.networkImages[t]=e},setChainImage(t,e){Ir.chainImages[t]=e},setConnectorImage(t,e){Ir.connectorImages={...Ir.connectorImages,[t]:e}},setTokenImage(t,e){Ir.tokenImages[t]=e},setCurrencyImage(t,e){Ir.currencyImages[t]=e}},Ts=ls(c8),l8={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},S0=jt({networkImagePromises:{}}),Ux={async fetchWalletImage(t){if(t)return await ke._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(S0.networkImagePromises[t]||(S0.networkImagePromises[t]=ke._fetchNetworkImage(t)),await S0.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Ts.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Ts.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Ts.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ts.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Ts.state.connectorImages[t.imageId]},getChainImage(t){return Ts.state.networkImages[l8[t]]}},Aa=jt({message:"",variant:"info",open:!1}),u8={state:Aa,subscribeKey(t,e){return Kn(Aa,t,e)},open(t,e){const{debug:n}=ue.state,{shortMessage:r,longMessage:s}=t;n&&(Aa.message=r,Aa.variant=e,Aa.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Aa.open=!1,Aa.message="",Aa.variant="info"}},tr=ls(u8),d8=De.getAnalyticsUrl(),h8=new mf({baseUrl:d8,clientId:null}),f8=["MODAL_CREATED"],Oi=jt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Mt={state:Oi,subscribe(t){return Gn(Oi,()=>t(Oi))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Ne.state.address;if(f8.includes(t.data.event)||typeof window>"u")return;await h8.post({path:"/e",params:Mt.getSdkProperties(),body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Oi.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===fe.HTTP_STATUS_CODES.FORBIDDEN&&!Oi.reportedErrors.FORBIDDEN&&(tr.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Xd()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Oi.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Oi.timestamp=Date.now(),Oi.data=t,(e=ue.state.features)!=null&&e.analytics&&Mt._sendAnalyticsEvent(Oi)}},N0={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},p8=De.getApiUrl(),Rr=new mf({baseUrl:p8,clientId:null}),g8=40,aS=4,m8=20,Ge=jt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ke={state:Ge,subscribeKey(t,e){return Kn(Ge,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ue.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Rr.baseUrl}/getWalletImage/${t}`,n=await Rr.getBlob({path:e,params:ke._getSdkProperties()});Ts.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Rr.baseUrl}/public/getAssetImage/${t}`,n=await Rr.getBlob({path:e,params:ke._getSdkProperties()});Ts.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Rr.baseUrl}/public/getAssetImage/${t}`,n=await Rr.getBlob({path:e,params:ke._getSdkProperties()});Ts.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Rr.baseUrl}/public/getCurrencyImage/${t}`,n=await Rr.getBlob({path:e,params:ke._getSdkProperties()});Ts.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Rr.baseUrl}/public/getTokenImage/${t}`,n=await Rr.getBlob({path:e,params:ke._getSdkProperties()});Ts.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return De.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===N0.COINBASE||n.id===N0.PHANTOM&&B.state.activeChain==="solana"):t},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Rr.get({path:"/projects/v1/origins",params:ke._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=B.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Ux.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>ke._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ee.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>ke._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ke._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ke._fetchTokenImage(e)))},async fetchWallets(t){var a;const e=t.exclude??[];ke._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(N0));const r=await Rr.get({path:"/getWallets",params:{...ke._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(a=t.include)==null?void 0:a.join(","),exclude:e.join(",")}});return{data:ke._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ue.state;if(t!=null&&t.length){const e={...ke._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??aS,include:t},{data:n}=await ke.fetchWallets(e);n.sort((s,a)=>t.indexOf(s.id)-t.indexOf(a.id));const r=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(r.map(s=>ke._fetchWalletImage(s))),Ge.featured=n,Ge.allFeatured=n}},async fetchRecommendedWallets(){try{Ge.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ue.state,r=[...e??[],...n??[]].filter(Boolean),s=B.getRequestedCaipNetworkIds().join(","),a={page:1,entries:aS,include:t,exclude:r,chains:s},{data:c,count:u}=await ke.fetchWallets(a),d=we.getRecentWallets(),h=c.map(m=>m.image_id).filter(Boolean),p=d.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...h,...p].map(m=>ke._fetchWalletImage(m))),Ge.recommended=c,Ge.allRecommended=c,Ge.count=u??0}catch{}finally{Ge.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ue.state,s=B.getRequestedCaipNetworkIds().join(","),a=[...Ge.recommended.map(({id:p})=>p),...n??[],...r??[]].filter(Boolean),c={page:t,entries:g8,include:e,exclude:a,chains:s},{data:u,count:d}=await ke.fetchWallets(c),h=u.slice(0,m8).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(h.map(p=>ke._fetchWalletImage(p))),Ge.wallets=De.uniqueBy([...Ge.wallets,...ke._filterOutExtensions(u)],"id").filter(p=>{var m;return(m=p.chains)==null?void 0:m.some(y=>s.includes(y))}),Ge.count=d>Ge.count?d:Ge.count,Ge.page=t},async initializeExcludedWallets({ids:t}){const e=B.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await ke.fetchWallets(n);r&&r.forEach(s=>{Ge.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ue.state,s=B.getRequestedCaipNetworkIds().join(",");Ge.search=[];const a={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:c}=await ke.fetchWallets(a);Mt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...u.map(d=>ke._fetchWalletImage(d)),De.wait(300)]),Ge.search=ke._filterOutExtensions(c)},initPromise(t,e){const n=Ge.promises[t];return n||(Ge.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&ke.initPromise("connectorImages",ke.fetchConnectorImages),e&&ke.initPromise("featuredWallets",ke.fetchFeaturedWallets),n&&ke.initPromise("recommendedWallets",ke.fetchRecommendedWallets),r&&ke.initPromise("networkImages",ke.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=ue.state.features)!=null&&t.analytics&&ke.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Rr.get({path:"/getAnalyticsConfig",params:ke._getSdkProperties()});ue.setFeatures({analytics:t})}catch{ue.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ge.featured=Ge.allFeatured,Ge.recommended=Ge.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Ge.featured=Ge.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ge.recommended=Ge.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ge.filteredWallets=Ge.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ge.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ge.featured=Ge.allFeatured,Ge.recommended=Ge.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Ge.featured=Ge.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ge.recommended=Ge.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ge.filteredWallets=Ge.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},yt=jt({view:"Connect",history:["Connect"],transactionStack:[]}),y8={state:yt,subscribeKey(t,e){return Kn(yt,t,e)},pushTransactionStack(t){yt.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=yt.transactionStack.pop();if(e)if(t)at.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)at.goBack();else if(e.replace){const a=yt.history.indexOf("ConnectingSiwe");a>0?at.goBackToIndex(a-1):(Jt.close(!0),yt.history=[])}else e.view&&at.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==yt.view&&(yt.view=t,yt.history.push(t),yt.data=e)},reset(t,e){yt.view=t,yt.history=[t],yt.data=e},replace(t,e){yt.history.at(-1)===t||(yt.view=t,yt.history[yt.history.length-1]=t,yt.data=e)},goBack(){var e;const t=!B.state.activeCaipAddress&&at.state.view==="ConnectingFarcaster";if(yt.history.length>1&&!yt.history.includes("UnsupportedChain")){yt.history.pop();const[n]=yt.history.slice(-1);n&&(yt.view=n)}else Jt.close();(e=yt.data)!=null&&e.wallet&&(yt.data.wallet=void 0),setTimeout(()=>{var n,r,s;if(t){Ne.setFarcasterUrl(void 0,B.state.activeChain);const a=Ee.getAuthConnector();(n=a==null?void 0:a.provider)==null||n.reload();const c=ac(ue.state);(s=(r=a==null?void 0:a.provider)==null?void 0:r.syncDappData)==null||s.call(r,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(yt.history.length>1){yt.history=yt.history.slice(0,t+1);const[e]=yt.history.slice(-1);e&&(yt.view=e)}}},at=ls(y8),Ii=jt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Hw={state:Ii,subscribe(t){return Gn(Ii,()=>t(Ii))},setThemeMode(t){Ii.themeMode=t;try{const e=Ee.getAuthConnector();if(e){const n=Hw.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Hi(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Ii.themeVariables={...Ii.themeVariables,...t};try{const e=Ee.getAuthConnector();if(e){const n=Hw.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Hi(Ii.themeVariables,Ii.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ac(Ii)}},gr=ls(Hw),kx={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},dt=jt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...kx},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),b8={state:dt,subscribe(t){return Gn(dt,()=>{t(dt)})},subscribeKey(t,e){return Kn(dt,t,e)},initialize(t){t.forEach(e=>{const n=we.getConnectedConnectorId(e);n&&Ee.setConnectorId(n,e)})},setActiveConnector(t){t&&(dt.activeConnector=oc(t))},setConnectors(t){t.filter(s=>!dt.allConnectors.some(a=>a.id===s.id&&Ee.getConnectorName(a.name)===Ee.getConnectorName(s.name)&&a.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&dt.allConnectors.push(oc(s))});const n=Ee.getEnabledNamespaces(),r=Ee.getEnabledConnectors(n);dt.connectors=Ee.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(dt.filterByNamespaceMap).forEach(e=>{dt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{dt.filterByNamespaceMap[e]=!0}),Ee.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){dt.filterByNamespaceMap[t]=e,Ee.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ee.getEnabledNamespaces(),e=Ee.getEnabledConnectors(t),n=Ee.areAllNamespacesEnabled();dt.connectors=Ee.mergeMultiChainConnectors(e),n?ke.clearFilterByNamespaces():ke.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(dt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return dt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(dt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ee.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],a=(s==null?void 0:s.id)===fe.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=Ee.getConnectorName(r);if(!s)return;const a=e.get(s)||[];a.find(u=>u.chain===n.chain)||a.push(n),e.set(s,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===fe.CONNECTOR_ID.AUTH){const s=t,a=ac(ue.state),c=gr.getSnapshot().themeMode,u=gr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:c,themeVariables:u,w3mThemeVariables:Hi(u,c)}),Ee.setConnectors([t])}else Ee.setConnectors([t])},getAuthConnector(t){var r;const e=t||B.state.activeChain,n=dt.connectors.find(s=>s.id===fe.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(a=>a.chain===e):n},getAnnouncedConnectorRdns(){return dt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return dt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return dt.allConnectors.filter(r=>r.chain===B.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var a,c;if(t.id!=="ID_AUTH")return;const e=t,n=ac(ue.state),r=gr.getSnapshot().themeMode,s=gr.getSnapshot().themeVariables;(c=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||c.call(a,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Hi(s,r)})},getConnectorsByNamespace(t){const e=dt.allConnectors.filter(n=>n.chain===t);return Ee.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ee.getConnector(t.id,t.rdns);o8.handleMobileDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?at.push("ConnectingExternal",{connector:e}):at.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ee.getConnectorsByNamespace(t):Ee.mergeMultiChainConnectors(dt.allConnectors)},setFilterByNamespace(t){dt.filterByNamespace=t,dt.connectors=Ee.getConnectors(t),ke.setFilterByNamespace(t)},setConnectorId(t,e){t&&(dt.activeConnectorIds={...dt.activeConnectorIds,[e]:t},we.setConnectedConnectorId(e,t))},removeConnectorId(t){dt.activeConnectorIds={...dt.activeConnectorIds,[t]:void 0},we.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return dt.activeConnectorIds[t]},isConnected(t){return t?!!dt.activeConnectorIds[t]:Object.values(dt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){dt.activeConnectorIds={...kx}}},Ee=ls(b8);function Xp(t,e){return Ee.getConnectorId(t)===e}function w8(t){const e=Array.from(B.state.chains.keys());let n=[];return t?(n.push([t,B.state.chains.get(t)]),Xp(t,fe.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Xp(r,fe.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,B.state.chains.get(r)])}):Xp(t,fe.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Xp(r,fe.CONNECTOR_ID.AUTH)&&n.push([r,B.state.chains.get(r)])})):n=Array.from(B.state.chains.entries()),n}var Jp={exports:{}},oS;function v8(){if(oS)return Jp.exports;oS=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,A,R){return Function.prototype.apply.call(T,A,R)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:n=function(T){return Object.getOwnPropertyNames(T)};function r(P){console&&console.warn&&console.warn(P)}var s=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}Jp.exports=a,Jp.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(P){if(typeof P!="number"||P<0||s(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");c=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function d(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(T){for(var A=[],R=1;R<arguments.length;R++)A.push(arguments[R]);var M=T==="error",O=this._events;if(O!==void 0)M=M&&O.error===void 0;else if(!M)return!1;if(M){var j;if(A.length>0&&(j=A[0]),j instanceof Error)throw j;var F=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw F.context=j,F}var ee=O[T];if(ee===void 0)return!1;if(typeof ee=="function")e(ee,this,A);else for(var ae=ee.length,G=E(ee,ae),R=0;R<ae;++R)e(G[R],this,A);return!0};function h(P,T,A,R){var M,O,j;if(u(A),O=P._events,O===void 0?(O=P._events=Object.create(null),P._eventsCount=0):(O.newListener!==void 0&&(P.emit("newListener",T,A.listener?A.listener:A),O=P._events),j=O[T]),j===void 0)j=O[T]=A,++P._eventsCount;else if(typeof j=="function"?j=O[T]=R?[A,j]:[j,A]:R?j.unshift(A):j.push(A),M=d(P),M>0&&j.length>M&&!j.warned){j.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=P,F.type=T,F.count=j.length,r(F)}return P}a.prototype.addListener=function(T,A){return h(this,T,A,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,A){return h(this,T,A,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(P,T,A){var R={fired:!1,wrapFn:void 0,target:P,type:T,listener:A},M=p.bind(R);return M.listener=A,R.wrapFn=M,M}a.prototype.once=function(T,A){return u(A),this.on(T,m(this,T,A)),this},a.prototype.prependOnceListener=function(T,A){return u(A),this.prependListener(T,m(this,T,A)),this},a.prototype.removeListener=function(T,A){var R,M,O,j,F;if(u(A),M=this._events,M===void 0)return this;if(R=M[T],R===void 0)return this;if(R===A||R.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete M[T],M.removeListener&&this.emit("removeListener",T,R.listener||A));else if(typeof R!="function"){for(O=-1,j=R.length-1;j>=0;j--)if(R[j]===A||R[j].listener===A){F=R[j].listener,O=j;break}if(O<0)return this;O===0?R.shift():v(R,O),R.length===1&&(M[T]=R[0]),M.removeListener!==void 0&&this.emit("removeListener",T,F||A)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var A,R,M;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[T]),this;if(arguments.length===0){var O=Object.keys(R),j;for(M=0;M<O.length;++M)j=O[M],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=R[T],typeof A=="function")this.removeListener(T,A);else if(A!==void 0)for(M=A.length-1;M>=0;M--)this.removeListener(T,A[M]);return this};function y(P,T,A){var R=P._events;if(R===void 0)return[];var M=R[T];return M===void 0?[]:typeof M=="function"?A?[M.listener||M]:[M]:A?_(M):E(M,M.length)}a.prototype.listeners=function(T){return y(this,T,!0)},a.prototype.rawListeners=function(T){return y(this,T,!1)},a.listenerCount=function(P,T){return typeof P.listenerCount=="function"?P.listenerCount(T):w.call(P,T)},a.prototype.listenerCount=w;function w(P){var T=this._events;if(T!==void 0){var A=T[P];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(P,T){for(var A=new Array(T),R=0;R<T;++R)A[R]=P[R];return A}function v(P,T){for(;T+1<P.length;T++)P[T]=P[T+1];P.pop()}function _(P){for(var T=new Array(P.length),A=0;A<T.length;++A)T[A]=P[A].listener||P[A];return T}function S(P,T){return new Promise(function(A,R){function M(j){P.removeListener(T,O),R(j)}function O(){typeof P.removeListener=="function"&&P.removeListener("error",M),A([].slice.call(arguments))}x(P,T,O,{once:!0}),T!=="error"&&N(P,M,{once:!0})})}function N(P,T,A){typeof P.on=="function"&&x(P,"error",T,A)}function x(P,T,A,R){if(typeof P.on=="function")R.once?P.once(T,A):P.on(T,A);else if(typeof P.addEventListener=="function")P.addEventListener(T,function M(O){R.once&&P.removeEventListener(T,M),A(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return Jp.exports}var us=v8();const dE=mu(us);var T0={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vw=function(t,e){return Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Vw(t,e)};function E8(t,e){Vw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gw=function(){return Gw=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gw.apply(this,arguments)};function _8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function C8(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function A8(t,e){return function(n,r){e(n,r,t)}}function S8(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N8(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(p){try{h(r.next(p))}catch(m){c(m)}}function d(p){try{h(r.throw(p))}catch(m){c(m)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(t,e||[])).next())})}function T8(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return d([h,p])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=h[0]&2?s.return:h[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,h[1])).done)return a;switch(s=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],s=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function x8(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function O8(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ww(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function I8(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Mx(arguments[e]));return t}function R8(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,s++)r[s]=a[c];return r}function wh(t){return this instanceof wh?(this.v=t,this):new wh(t)}function P8(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(w){return new Promise(function(E,v){a.push([y,w,E,v])>1||u(y,w)})})}function u(y,w){try{d(r[y](w))}catch(E){m(a[0][3],E)}}function d(y){y.value instanceof wh?Promise.resolve(y.value.v).then(h,p):m(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,w){y(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function D8(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:wh(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function $8(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ww=="function"?Ww(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(u,d){c=t[a](c),s(u,d,c.done,c.value)})}}function s(a,c,u,d){Promise.resolve(d).then(function(h){a({value:h,done:u})},c)}}function U8(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k8(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function M8(t){return t&&t.__esModule?t:{default:t}}function j8(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function B8(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const L8=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Gw},__asyncDelegator:D8,__asyncGenerator:P8,__asyncValues:$8,__await:wh,__awaiter:N8,__classPrivateFieldGet:j8,__classPrivateFieldSet:B8,__createBinding:x8,__decorate:C8,__exportStar:O8,__extends:E8,__generator:T8,__importDefault:M8,__importStar:k8,__makeTemplateObject:U8,__metadata:S8,__param:A8,__read:Mx,__rest:_8,__spread:I8,__spreadArrays:R8,__values:Ww},Symbol.toStringTag,{value:"Module"})),Tm=Ox(L8);var x0={},Pd={},cS;function z8(){if(cS)return Pd;cS=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Pd.delay=t,Pd}var Po={},O0={},Do={},lS;function F8(){return lS||(lS=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.ONE_THOUSAND=Do.ONE_HUNDRED=void 0,Do.ONE_HUNDRED=100,Do.ONE_THOUSAND=1e3),Do}var I0={},uS;function q8(){return uS||(uS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(I0)),I0}var dS;function jx(){return dS||(dS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Tm;e.__exportStar(F8(),t),e.__exportStar(q8(),t)}(O0)),O0}var hS;function H8(){if(hS)return Po;hS=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.fromMiliseconds=Po.toMiliseconds=void 0;const t=jx();function e(r){return r*t.ONE_THOUSAND}Po.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Po.fromMiliseconds=n,Po}var fS;function V8(){return fS||(fS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Tm;e.__exportStar(z8(),t),e.__exportStar(H8(),t)}(x0)),x0}var fl={},pS;function G8(){if(pS)return fl;pS=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return fl.Watch=t,fl.default=t,fl}var R0={},Dd={},gS;function W8(){if(gS)return Dd;gS=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.IWatch=void 0;class t{}return Dd.IWatch=t,Dd}var mS;function K8(){return mS||(mS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Tm.__exportStar(W8(),t)}(R0)),R0}var yS;function Y8(){return yS||(yS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Tm;e.__exportStar(V8(),t),e.__exportStar(G8(),t),e.__exportStar(K8(),t),e.__exportStar(jx(),t)}(T0)),T0}var ge=Y8();class Ac{}let Z8=class extends Ac{constructor(e){super()}};const bS=ge.FIVE_SECONDS,bu={pulse:"heartbeat_pulse"};let Q8=class Bx extends Z8{constructor(e){super(e),this.events=new us.EventEmitter,this.interval=bS,this.interval=(e==null?void 0:e.interval)||bS}static async init(e){const n=new Bx(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ge.toMiliseconds(this.interval))}pulse(){this.events.emit(bu.pulse)}};const X8=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,J8=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,e6=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function t6(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){n6(t);return}return e}function n6(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function eg(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!e6.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(X8.test(t)||J8.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,t6)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function r6(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function vn(t,...e){try{return r6(t(...e))}catch(n){return Promise.reject(n)}}function s6(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function i6(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Tg(t){if(s6(t))return String(t);if(i6(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Tg(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Kw="base64:";function a6(t){return typeof t=="string"?t:Kw+l6(t)}function o6(t){return typeof t!="string"||!t.startsWith(Kw)?t:c6(t.slice(Kw.length))}function c6(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function l6(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function fr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function u6(...t){return fr(t.join(":"))}function tg(t){return t=fr(t),t?t+":":""}function d6(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function h6(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const f6="memory",p6=()=>{const t=new Map;return{name:f6,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function g6(t={}){const e={mounts:{"":t.driver||p6()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=h=>{for(const p of e.mountpoints)if(h.startsWith(p))return{base:p,relativeKey:h.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:h,driver:e.mounts[""]}},r=(h,p)=>e.mountpoints.filter(m=>m.startsWith(h)||p&&h.startsWith(m)).map(m=>({relativeBase:h.length>m.length?h.slice(m.length):void 0,mountpoint:m,driver:e.mounts[m]})),s=(h,p)=>{if(e.watching){p=fr(p);for(const m of e.watchListeners)m(h,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await wS(e.mounts[h],s,h)}},c=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},u=(h,p,m)=>{const y=new Map,w=E=>{let v=y.get(E.base);return v||(v={driver:E.driver,base:E.base,items:[]},y.set(E.base,v)),v};for(const E of h){const v=typeof E=="string",_=fr(v?E:E.key),S=v?void 0:E.value,N=v||!E.options?p:{...p,...E.options},x=n(_);w(x).items.push({key:_,value:S,relativeKey:x.relativeKey,options:N})}return Promise.all([...y.values()].map(E=>m(E))).then(E=>E.flat())},d={hasItem(h,p={}){h=fr(h);const{relativeKey:m,driver:y}=n(h);return vn(y.hasItem,m,p)},getItem(h,p={}){h=fr(h);const{relativeKey:m,driver:y}=n(h);return vn(y.getItem,m,p).then(w=>eg(w))},getItems(h,p={}){return u(h,p,m=>m.driver.getItems?vn(m.driver.getItems,m.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(w=>({key:u6(m.base,w.key),value:eg(w.value)}))):Promise.all(m.items.map(y=>vn(m.driver.getItem,y.relativeKey,y.options).then(w=>({key:y.key,value:eg(w)})))))},getItemRaw(h,p={}){h=fr(h);const{relativeKey:m,driver:y}=n(h);return y.getItemRaw?vn(y.getItemRaw,m,p):vn(y.getItem,m,p).then(w=>o6(w))},async setItem(h,p,m={}){if(p===void 0)return d.removeItem(h);h=fr(h);const{relativeKey:y,driver:w}=n(h);w.setItem&&(await vn(w.setItem,y,Tg(p),m),w.watch||s("update",h))},async setItems(h,p){await u(h,p,async m=>{if(m.driver.setItems)return vn(m.driver.setItems,m.items.map(y=>({key:y.relativeKey,value:Tg(y.value),options:y.options})),p);m.driver.setItem&&await Promise.all(m.items.map(y=>vn(m.driver.setItem,y.relativeKey,Tg(y.value),y.options)))})},async setItemRaw(h,p,m={}){if(p===void 0)return d.removeItem(h,m);h=fr(h);const{relativeKey:y,driver:w}=n(h);if(w.setItemRaw)await vn(w.setItemRaw,y,p,m);else if(w.setItem)await vn(w.setItem,y,a6(p),m);else return;w.watch||s("update",h)},async removeItem(h,p={}){typeof p=="boolean"&&(p={removeMeta:p}),h=fr(h);const{relativeKey:m,driver:y}=n(h);y.removeItem&&(await vn(y.removeItem,m,p),(p.removeMeta||p.removeMata)&&await vn(y.removeItem,m+"$",p),y.watch||s("remove",h))},async getMeta(h,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),h=fr(h);const{relativeKey:m,driver:y}=n(h),w=Object.create(null);if(y.getMeta&&Object.assign(w,await vn(y.getMeta,m,p)),!p.nativeOnly){const E=await vn(y.getItem,m+"$",p).then(v=>eg(v));E&&typeof E=="object"&&(typeof E.atime=="string"&&(E.atime=new Date(E.atime)),typeof E.mtime=="string"&&(E.mtime=new Date(E.mtime)),Object.assign(w,E))}return w},setMeta(h,p,m={}){return this.setItem(h+"$",p,m)},removeMeta(h,p={}){return this.removeItem(h+"$",p)},async getKeys(h,p={}){var _;h=tg(h);const m=r(h,!0);let y=[];const w=[];let E=!0;for(const S of m){(_=S.driver.flags)!=null&&_.maxDepth||(E=!1);const N=await vn(S.driver.getKeys,S.relativeBase,p);for(const x of N){const P=S.mountpoint+fr(x);y.some(T=>P.startsWith(T))||w.push(P)}y=[S.mountpoint,...y.filter(x=>!x.startsWith(S.mountpoint))]}const v=p.maxDepth!==void 0&&!E;return w.filter(S=>(!v||d6(S,p.maxDepth))&&h6(S,h))},async clear(h,p={}){h=tg(h),await Promise.all(r(h,!1).map(async m=>{if(m.driver.clear)return vn(m.driver.clear,m.relativeBase,p);if(m.driver.removeItem){const y=await m.driver.getKeys(m.relativeBase||"",p);return Promise.all(y.map(w=>m.driver.removeItem(w,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>vS(h)))},async watch(h){return await a(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==h),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(h,p){if(h=tg(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((m,y)=>y.length-m.length)),e.mounts[h]=p,e.watching&&Promise.resolve(wS(p,s,h)).then(m=>{e.unwatch[h]=m}).catch(console.error),d},async unmount(h,p=!0){var m,y;h=tg(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&((y=(m=e.unwatch)[h])==null||y.call(m),delete e.unwatch[h]),p&&await vS(e.mounts[h]),e.mountpoints=e.mountpoints.filter(w=>w!==h),delete e.mounts[h])},getMount(h=""){h=fr(h)+":";const p=n(h);return{driver:p.driver,base:p.base}},getMounts(h="",p={}){return h=fr(h),r(h,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(h,p={})=>d.getKeys(h,p),get:(h,p={})=>d.getItem(h,p),set:(h,p,m={})=>d.setItem(h,p,m),has:(h,p={})=>d.hasItem(h,p),del:(h,p={})=>d.removeItem(h,p),remove:(h,p={})=>d.removeItem(h,p)};return d}function wS(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function vS(t){typeof t.dispose=="function"&&await vn(t.dispose)}function Sc(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Lx(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Sc(s),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(s,a)=>r().then(c=>a(c.transaction(e,s).objectStore(e)))}let P0;function yf(){return P0||(P0=Lx("keyval-store","keyval")),P0}function ES(t,e=yf()){return e("readonly",n=>Sc(n.get(t)))}function m6(t,e,n=yf()){return n("readwrite",r=>(r.put(e,t),Sc(r.transaction)))}function y6(t,e=yf()){return e("readwrite",n=>(n.delete(t),Sc(n.transaction)))}function b6(t=yf()){return t("readwrite",e=>(e.clear(),Sc(e.transaction)))}function w6(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Sc(t.transaction)}function v6(t=yf()){return t("readonly",e=>{if(e.getAllKeys)return Sc(e.getAllKeys());const n=[];return w6(e,r=>n.push(r.key)).then(()=>n)})}const E6=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),_6=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function cc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return _6(t)}catch{return t}}function Yi(t){return typeof t=="string"?t:E6(t)||""}const C6="idb-keyval";var A6=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=Lx(t.dbName,t.storeName)),{name:C6,options:t,async hasItem(s){return!(typeof await ES(n(s),r)>"u")},async getItem(s){return await ES(n(s),r)??null},setItem(s,a){return m6(n(s),a,r)},removeItem(s){return y6(n(s),r)},getKeys(){return v6(r)},clear(){return b6(r)}}};const S6="WALLET_CONNECT_V2_INDEXED_DB",N6="keyvaluestorage";let T6=class{constructor(){this.indexedDb=g6({driver:A6({dbName:S6,storeName:N6})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Yi(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xg={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof D0<"u"&&D0.localStorage?xg.exports=D0.localStorage:typeof window<"u"&&window.localStorage?xg.exports=window.localStorage:xg.exports=new e})();function x6(t){var e;return[t[0],cc((e=t[1])!=null?e:"")]}let O6=class{constructor(){this.localStorage=xg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(x6)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return cc(n)}async setItem(e,n){this.localStorage.setItem(e,Yi(n))}async removeItem(e){this.localStorage.removeItem(e)}};const I6="wc_storage_version",_S=1,R6=async(t,e,n)=>{const r=I6,s=await e.getItem(r);if(s&&s>=_S){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const c=[];for(;a.length;){const u=a.shift();if(!u)continue;const d=u.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){const h=await t.getItem(u);await e.setItem(u,h),c.push(u)}}await e.setItem(r,_S),n(e),P6(t,c)},P6=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let D6=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new O6;this.storage=e;try{const n=new T6;R6(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var $0,CS;function $6(){if(CS)return $0;CS=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}$0=e;function e(n,r,s){var a=s&&s.stringify||t,c=1;if(typeof n=="object"&&n!==null){var u=r.length+c;if(u===1)return n;var d=new Array(u);d[0]=a(n);for(var h=1;h<u;h++)d[h]=a(r[h]);return d.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var m="",y=1-c,w=-1,E=n&&n.length||0,v=0;v<E;){if(n.charCodeAt(v)===37&&v+1<E){switch(w=w>-1?w:0,n.charCodeAt(v+1)){case 100:case 102:if(y>=p||r[y]==null)break;w<v&&(m+=n.slice(w,v)),m+=Number(r[y]),w=v+2,v++;break;case 105:if(y>=p||r[y]==null)break;w<v&&(m+=n.slice(w,v)),m+=Math.floor(Number(r[y])),w=v+2,v++;break;case 79:case 111:case 106:if(y>=p||r[y]===void 0)break;w<v&&(m+=n.slice(w,v));var _=typeof r[y];if(_==="string"){m+="'"+r[y]+"'",w=v+2,v++;break}if(_==="function"){m+=r[y].name||"<anonymous>",w=v+2,v++;break}m+=a(r[y]),w=v+2,v++;break;case 115:if(y>=p)break;w<v&&(m+=n.slice(w,v)),m+=String(r[y]),w=v+2,v++;break;case 37:w<v&&(m+=n.slice(w,v)),m+="%",w=v+2,v++,y--;break}++y}++v}return w===-1?n:(w<E&&(m+=n.slice(w)),m)}return $0}var U0,AS;function U6(){if(AS)return U0;AS=1;const t=$6();U0=s;const e=T().console||{},n={mapHttpRequest:E,mapHttpResponse:E,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:E,res:E,err:y};function r(A,R){return Array.isArray(A)?A.filter(function(O){return O!=="!stdSerializers.err"}):A===!0?Object.keys(R):!1}function s(A){A=A||{},A.browser=A.browser||{};const R=A.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const M=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const O=A.serializers||{},j=r(A.browser.serialize,O);let F=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(F=!1);const ee=["error","fatal","warn","info","debug","trace"];typeof M=="function"&&(M.error=M.fatal=M.warn=M.info=M.debug=M.trace=M),A.enabled===!1&&(A.level="silent");const ae=A.level||"info",G=Object.create(M);G.log||(G.log=_),Object.defineProperty(G,"levelVal",{get:I}),Object.defineProperty(G,"level",{get:z,set:q});const k={transmit:R,serialize:j,asObject:A.browser.asObject,levels:ee,timestamp:w(A)};G.levels=s.levels,G.level=ae,G.setMaxListeners=G.getMaxListeners=G.emit=G.addListener=G.on=G.prependListener=G.once=G.prependOnceListener=G.removeListener=G.removeAllListeners=G.listeners=G.listenerCount=G.eventNames=G.write=G.flush=_,G.serializers=O,G._serialize=j,G._stdErrSerialize=F,G.child=H,R&&(G._logEvent=m());function I(){return this.level==="silent"?1/0:this.levels.values[this.level]}function z(){return this._level}function q(D){if(D!=="silent"&&!this.levels.values[D])throw Error("unknown level "+D);this._level=D,a(k,G,"error","log"),a(k,G,"fatal","error"),a(k,G,"warn","error"),a(k,G,"info","log"),a(k,G,"debug","log"),a(k,G,"trace","log")}function H(D,Y){if(!D)throw new Error("missing bindings for child Pino");Y=Y||{},j&&D.serializers&&(Y.serializers=D.serializers);const te=Y.serializers;if(j&&te){var ie=Object.assign({},O,te),J=A.browser.serialize===!0?Object.keys(ie):j;delete D.serializers,d([D],J,ie,this._stdErrSerialize)}function de(me){this._childLevel=(me._childLevel|0)+1,this.error=h(me,D,"error"),this.fatal=h(me,D,"fatal"),this.warn=h(me,D,"warn"),this.info=h(me,D,"info"),this.debug=h(me,D,"debug"),this.trace=h(me,D,"trace"),ie&&(this.serializers=ie,this._serialize=J),R&&(this._logEvent=m([].concat(me._logEvent.bindings,D)))}return de.prototype=this,new de(this)}return G}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:N,unixTime:x,isoTime:P});function a(A,R,M,O){const j=Object.getPrototypeOf(R);R[M]=R.levelVal>R.levels.values[M]?_:j[M]?j[M]:e[M]||e[O]||_,c(A,R,M)}function c(A,R,M){!A.transmit&&R[M]===_||(R[M]=function(O){return function(){const F=A.timestamp(),ee=new Array(arguments.length),ae=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var G=0;G<ee.length;G++)ee[G]=arguments[G];if(A.serialize&&!A.asObject&&d(ee,this._serialize,this.serializers,this._stdErrSerialize),A.asObject?O.call(ae,u(this,M,ee,F)):O.apply(ae,ee),A.transmit){const k=A.transmit.level||R.level,I=s.levels.values[k],z=s.levels.values[M];if(z<I)return;p(this,{ts:F,methodLevel:M,methodValue:z,transmitValue:s.levels.values[A.transmit.level||R.level],send:A.transmit.send,val:R.levelVal},ee)}}}(R[M]))}function u(A,R,M,O){A._serialize&&d(M,A._serialize,A.serializers,A._stdErrSerialize);const j=M.slice();let F=j[0];const ee={};O&&(ee.time=O),ee.level=s.levels.values[R];let ae=(A._childLevel|0)+1;if(ae<1&&(ae=1),F!==null&&typeof F=="object"){for(;ae--&&typeof j[0]=="object";)Object.assign(ee,j.shift());F=j.length?t(j.shift(),j):void 0}else typeof F=="string"&&(F=t(j.shift(),j));return F!==void 0&&(ee.msg=F),ee}function d(A,R,M,O){for(const j in A)if(O&&A[j]instanceof Error)A[j]=s.stdSerializers.err(A[j]);else if(typeof A[j]=="object"&&!Array.isArray(A[j]))for(const F in A[j])R&&R.indexOf(F)>-1&&F in M&&(A[j][F]=M[F](A[j][F]))}function h(A,R,M){return function(){const O=new Array(1+arguments.length);O[0]=R;for(var j=1;j<O.length;j++)O[j]=arguments[j-1];return A[M].apply(this,O)}}function p(A,R,M){const O=R.send,j=R.ts,F=R.methodLevel,ee=R.methodValue,ae=R.val,G=A._logEvent.bindings;d(M,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=j,A._logEvent.messages=M.filter(function(k){return G.indexOf(k)===-1}),A._logEvent.level.label=F,A._logEvent.level.value=ee,O(F,A._logEvent,ae),A._logEvent=m(G)}function m(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function y(A){const R={type:A.constructor.name,msg:A.message,stack:A.stack};for(const M in A)R[M]===void 0&&(R[M]=A[M]);return R}function w(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?S:N}function E(){return{}}function v(A){return A}function _(){}function S(){return!1}function N(){return Date.now()}function x(){return Math.round(Date.now()/1e3)}function P(){return new Date(Date.now()).toISOString()}function T(){function A(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return U0}var Dl=U6();const bf=mu(Dl),k6={level:"info"},wf="custom_context",hE=1e3*1024;let M6=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},SS=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new M6(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},zx=class{constructor(e,n=hE){this.level=e??"error",this.levelValue=Dl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new SS(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Dl.levels.values.error?console.error(e):n===Dl.levels.values.warn?console.warn(e):n===Dl.levels.values.debug?console.debug(e):n===Dl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Yi({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new SS(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Yi({extraMetadata:e})),new Blob(n,{type:"application/json"})}},j6=class{constructor(e,n=hE){this.baseChunkLogger=new zx(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},B6=class{constructor(e,n=hE){this.baseChunkLogger=new zx(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var L6=Object.defineProperty,z6=Object.defineProperties,F6=Object.getOwnPropertyDescriptors,NS=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,H6=Object.prototype.propertyIsEnumerable,TS=(t,e,n)=>e in t?L6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qg=(t,e)=>{for(var n in e||(e={}))q6.call(e,n)&&TS(t,n,e[n]);if(NS)for(var n of NS(e))H6.call(e,n)&&TS(t,n,e[n]);return t},Hg=(t,e)=>z6(t,F6(e));function wu(t){return Hg(qg({},t),{level:(t==null?void 0:t.level)||k6.level})}function V6(t,e=wf){return t[e]||""}function G6(t,e,n=wf){return t[n]=e,t}function vr(t,e=wf){let n="";return typeof t.bindings>"u"?n=V6(t,e):n=t.bindings().context||"",n}function W6(t,e,n=wf){const r=vr(t,n);return r.trim()?`${r}/${e}`:e}function Yn(t,e,n=wf){const r=W6(t,e,n),s=t.child({context:r});return G6(s,r,n)}function K6(t){var e,n;const r=new j6((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:bf(Hg(qg({},t.opts),{level:"trace",browser:Hg(qg({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Y6(t){var e;const n=new B6((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:bf(Hg(qg({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function fE(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?K6(t):Y6(t)}var Z6=Object.defineProperty,Q6=(t,e,n)=>e in t?Z6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xS=(t,e,n)=>Q6(t,typeof e!="symbol"?e+"":e,n);let X6=class extends Ac{constructor(e){super(),this.opts=e,xS(this,"protocol","wc"),xS(this,"version",2)}};var J6=Object.defineProperty,e$=(t,e,n)=>e in t?J6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t$=(t,e,n)=>e$(t,e+"",n);let n$=class extends Ac{constructor(e,n){super(),this.core=e,this.logger=n,t$(this,"records",new Map)}},r$=class{constructor(e,n){this.logger=e,this.core=n}},s$=class extends Ac{constructor(e,n){super(),this.relayer=e,this.logger=n}},i$=class extends Ac{constructor(e){super()}},a$=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},o$=class extends Ac{constructor(e,n){super(),this.relayer=e,this.logger=n}},c$=class extends Ac{constructor(e,n){super(),this.core=e,this.logger=n}},l$=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},u$=class{constructor(e,n){this.projectId=e,this.logger=n}},d$=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var h$=Object.defineProperty,f$=(t,e,n)=>e in t?h$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OS=(t,e,n)=>f$(t,typeof e!="symbol"?e+"":e,n);let p$=class{constructor(e){this.opts=e,OS(this,"protocol","wc"),OS(this,"version",2)}},g$=class{constructor(e){this.client=e}};function m$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fx(t,...e){if(!m$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function IS(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function y$(t,e){Fx(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const pl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function b$(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function qx(t){return typeof t=="string"&&(t=b$(t)),Fx(t),t}let w$=class{clone(){return this._cloneInto()}};function v$(t){const e=r=>t().update(qx(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Hx(t=32){if(pl&&typeof pl.getRandomValues=="function")return pl.getRandomValues(new Uint8Array(t));if(pl&&typeof pl.randomBytes=="function")return pl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function E$(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,h=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+h,u,r)}let _$=class extends w${constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=k0(this.buffer)}update(e){IS(this);const{view:n,buffer:r,blockLen:s}=this;e=qx(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=k0(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){IS(this),y$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)n[m]=0;E$(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=k0(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const ng=BigInt(2**32-1),Yw=BigInt(32);function Vx(t,e=!1){return e?{h:Number(t&ng),l:Number(t>>Yw&ng)}:{h:Number(t>>Yw&ng)|0,l:Number(t&ng)|0}}function C$(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=Vx(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const A$=(t,e)=>BigInt(t>>>0)<<Yw|BigInt(e>>>0),S$=(t,e,n)=>t>>>n,N$=(t,e,n)=>t<<32-n|e>>>n,T$=(t,e,n)=>t>>>n|e<<32-n,x$=(t,e,n)=>t<<32-n|e>>>n,O$=(t,e,n)=>t<<64-n|e>>>n-32,I$=(t,e,n)=>t>>>n-32|e<<64-n,R$=(t,e)=>e,P$=(t,e)=>t,D$=(t,e,n)=>t<<n|e>>>32-n,$$=(t,e,n)=>e<<n|t>>>32-n,U$=(t,e,n)=>e<<n-32|t>>>64-n,k$=(t,e,n)=>t<<n-32|e>>>64-n;function M$(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const j$=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),B$=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,L$=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),z$=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,F$=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),q$=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,Ze={fromBig:Vx,split:C$,toBig:A$,shrSH:S$,shrSL:N$,rotrSH:T$,rotrSL:x$,rotrBH:O$,rotrBL:I$,rotr32H:R$,rotr32L:P$,rotlSH:D$,rotlSL:$$,rotlBH:U$,rotlBL:k$,add:M$,add3L:j$,add3H:B$,add4L:L$,add4H:z$,add5H:q$,add5L:F$},[H$,V$]=Ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Sa=new Uint32Array(80),Na=new Uint32Array(80);let G$=class extends _${constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:a,Cl:c,Dh:u,Dl:d,Eh:h,El:p,Fh:m,Fl:y,Gh:w,Gl:E,Hh:v,Hl:_}=this;return[e,n,r,s,a,c,u,d,h,p,m,y,w,E,v,_]}set(e,n,r,s,a,c,u,d,h,p,m,y,w,E,v,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=d|0,this.Eh=h|0,this.El=p|0,this.Fh=m|0,this.Fl=y|0,this.Gh=w|0,this.Gl=E|0,this.Hh=v|0,this.Hl=_|0}process(e,n){for(let x=0;x<16;x++,n+=4)Sa[x]=e.getUint32(n),Na[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const P=Sa[x-15]|0,T=Na[x-15]|0,A=Ze.rotrSH(P,T,1)^Ze.rotrSH(P,T,8)^Ze.shrSH(P,T,7),R=Ze.rotrSL(P,T,1)^Ze.rotrSL(P,T,8)^Ze.shrSL(P,T,7),M=Sa[x-2]|0,O=Na[x-2]|0,j=Ze.rotrSH(M,O,19)^Ze.rotrBH(M,O,61)^Ze.shrSH(M,O,6),F=Ze.rotrSL(M,O,19)^Ze.rotrBL(M,O,61)^Ze.shrSL(M,O,6),ee=Ze.add4L(R,F,Na[x-7],Na[x-16]),ae=Ze.add4H(ee,A,j,Sa[x-7],Sa[x-16]);Sa[x]=ae|0,Na[x]=ee|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:u,Cl:d,Dh:h,Dl:p,Eh:m,El:y,Fh:w,Fl:E,Gh:v,Gl:_,Hh:S,Hl:N}=this;for(let x=0;x<80;x++){const P=Ze.rotrSH(m,y,14)^Ze.rotrSH(m,y,18)^Ze.rotrBH(m,y,41),T=Ze.rotrSL(m,y,14)^Ze.rotrSL(m,y,18)^Ze.rotrBL(m,y,41),A=m&w^~m&v,R=y&E^~y&_,M=Ze.add5L(N,T,R,V$[x],Na[x]),O=Ze.add5H(M,S,P,A,H$[x],Sa[x]),j=M|0,F=Ze.rotrSH(r,s,28)^Ze.rotrBH(r,s,34)^Ze.rotrBH(r,s,39),ee=Ze.rotrSL(r,s,28)^Ze.rotrBL(r,s,34)^Ze.rotrBL(r,s,39),ae=r&a^r&u^a&u,G=s&c^s&d^c&d;S=v|0,N=_|0,v=w|0,_=E|0,w=m|0,E=y|0,{h:m,l:y}=Ze.add(h|0,p|0,O|0,j|0),h=u|0,p=d|0,u=a|0,d=c|0,a=r|0,c=s|0;const k=Ze.add3L(j,ee,G);r=Ze.add3H(k,O,F,ae),s=k|0}({h:r,l:s}=Ze.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=Ze.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:d}=Ze.add(this.Ch|0,this.Cl|0,u|0,d|0),{h,l:p}=Ze.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:m,l:y}=Ze.add(this.Eh|0,this.El|0,m|0,y|0),{h:w,l:E}=Ze.add(this.Fh|0,this.Fl|0,w|0,E|0),{h:v,l:_}=Ze.add(this.Gh|0,this.Gl|0,v|0,_|0),{h:S,l:N}=Ze.add(this.Hh|0,this.Hl|0,S|0,N|0),this.set(r,s,a,c,u,d,h,p,m,y,w,E,v,_,S,N)}roundClean(){Sa.fill(0),Na.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const W$=v$(()=>new G$);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pE=BigInt(0),Gx=BigInt(1),K$=BigInt(2);function gE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mE(t){if(!gE(t))throw new Error("Uint8Array expected")}function M0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Y$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yE(t){mE(t);let e="";for(let n=0;n<t.length;n++)e+=Y$[t[n]];return e}function Wx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?pE:BigInt("0x"+t)}const Ri={_0:48,_9:57,A:65,F:70,a:97,f:102};function RS(t){if(t>=Ri._0&&t<=Ri._9)return t-Ri._0;if(t>=Ri.A&&t<=Ri.F)return t-(Ri.A-10);if(t>=Ri.a&&t<=Ri.f)return t-(Ri.a-10)}function Kx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=RS(t.charCodeAt(a)),u=RS(t.charCodeAt(a+1));if(c===void 0||u===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=c*16+u}return r}function Z$(t){return Wx(yE(t))}function Og(t){return mE(t),Wx(yE(Uint8Array.from(t).reverse()))}function Yx(t,e){return Kx(t.toString(16).padStart(e*2,"0"))}function Zw(t,e){return Yx(t,e).reverse()}function Pi(t,e,n){let r;if(typeof e=="string")try{r=Kx(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(gE(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function PS(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];mE(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}const j0=t=>typeof t=="bigint"&&pE<=t;function Q$(t,e,n){return j0(t)&&j0(e)&&j0(n)&&e<=t&&t<n}function $d(t,e,n,r){if(!Q$(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function X$(t){let e;for(e=0;t>pE;t>>=Gx,e+=1);return e}const J$=t=>(K$<<BigInt(t-1))-Gx,e4={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||gE(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function bE(t,e,n={}){const r=(s,a,c)=>{const u=e4[a];if(typeof u!="function")throw new Error("invalid validator function");const d=t[s];if(!(c&&d===void 0)&&!u(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+d)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}function DS(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}const Sn=BigInt(0),Qt=BigInt(1),zo=BigInt(2),t4=BigInt(3),Qw=BigInt(4),$S=BigInt(5),US=BigInt(8);function hn(t,e){const n=t%e;return n>=Sn?n:e+n}function n4(t,e,n){if(e<Sn)throw new Error("invalid exponent, negatives unsupported");if(n<=Sn)throw new Error("invalid modulus");if(n===Qt)return Sn;let r=Qt;for(;e>Sn;)e&Qt&&(r=r*t%n),t=t*t%n,e>>=Qt;return r}function qs(t,e,n){let r=t;for(;e-- >Sn;)r*=r,r%=n;return r}function kS(t,e){if(t===Sn)throw new Error("invert: expected non-zero number");if(e<=Sn)throw new Error("invert: expected positive modulus, got "+e);let n=hn(t,e),r=e,s=Sn,a=Qt;for(;n!==Sn;){const c=r/n,u=r%n,d=s-a*c;r=n,n=u,s=a,a=d}if(r!==Qt)throw new Error("invert: does not exist");return hn(s,e)}function r4(t){const e=(t-Qt)/zo;let n,r,s;for(n=t-Qt,r=0;n%zo===Sn;n/=zo,r++);for(s=zo;s<t&&n4(s,e,t)!==t-Qt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+Qt)/Qw;return function(u,d){const h=u.pow(d,c);if(!u.eql(u.sqr(h),d))throw new Error("Cannot find square root");return h}}const a=(n+Qt)/zo;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=r,h=c.pow(c.mul(c.ONE,s),n),p=c.pow(u,a),m=c.pow(u,n);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let y=1;for(let E=c.sqr(m);y<d&&!c.eql(E,c.ONE);y++)E=c.sqr(E);const w=c.pow(h,Qt<<BigInt(d-y-1));h=c.sqr(w),p=c.mul(p,w),m=c.mul(m,h),d=y}return p}}function s4(t){if(t%Qw===t4){const e=(t+Qt)/Qw;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%US===$S){const e=(t-$S)/US;return function(n,r){const s=n.mul(r,zo),a=n.pow(s,e),c=n.mul(r,a),u=n.mul(n.mul(c,zo),a),d=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return r4(t)}const i4=(t,e)=>(hn(t,e)&Qt)===Qt,a4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function o4(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=a4.reduce((r,s)=>(r[s]="function",r),e);return bE(t,n)}function c4(t,e,n){if(n<Sn)throw new Error("invalid exponent, negatives unsupported");if(n===Sn)return t.ONE;if(n===Qt)return e;let r=t.ONE,s=e;for(;n>Sn;)n&Qt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Qt;return r}function l4(t,e){const n=new Array(e.length),r=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),s),n}function Zx(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Qx(t,e,n=!1,r={}){if(t<=Sn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=Zx(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:J$(s),ZERO:Sn,ONE:Qt,create:d=>hn(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Sn<=d&&d<t},is0:d=>d===Sn,isOdd:d=>(d&Qt)===Qt,neg:d=>hn(-d,t),eql:(d,h)=>d===h,sqr:d=>hn(d*d,t),add:(d,h)=>hn(d+h,t),sub:(d,h)=>hn(d-h,t),mul:(d,h)=>hn(d*h,t),pow:(d,h)=>c4(u,d,h),div:(d,h)=>hn(d*kS(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>kS(d,t),sqrt:r.sqrt||(d=>(c||(c=s4(t)),c(u,d))),invertBatch:d=>l4(u,d),cmov:(d,h,p)=>p?h:d,toBytes:d=>n?Zw(d,a):Yx(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?Og(d):Z$(d)}});return Object.freeze(u)}const MS=BigInt(0),rg=BigInt(1);function B0(t,e){const n=e.negate();return t?n:e}function Xx(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function L0(t,e){Xx(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function u4(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function d4(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const z0=new WeakMap,Jx=new WeakMap;function F0(t){return Jx.get(t)||1}function h4(t,e){return{constTimeNegate:B0,hasPrecomputes(n){return F0(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>MS;)r&rg&&(s=s.add(a)),a=a.double(),r>>=rg;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=L0(r,e),c=[];let u=n,d=u;for(let h=0;h<s;h++){d=u,c.push(d);for(let p=1;p<a;p++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=L0(n,e);let u=t.ZERO,d=t.BASE;const h=BigInt(2**n-1),p=2**n,m=BigInt(n);for(let y=0;y<a;y++){const w=y*c;let E=Number(s&h);s>>=m,E>c&&(E-=p,s+=rg);const v=w,_=w+Math.abs(E)-1,S=y%2!==0,N=E<0;E===0?d=d.add(B0(S,r[v])):u=u.add(B0(N,r[_]))}return{p:u,f:d}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:u}=L0(n,e),d=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let m=0;m<c;m++){const y=m*u;if(s===MS)break;let w=Number(s&d);if(s>>=p,w>u&&(w-=h,s+=rg),w===0)continue;let E=r[y+Math.abs(w)-1];w<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(n,r,s){let a=z0.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&z0.set(r,s(a))),a},wNAFCached(n,r,s){const a=F0(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=F0(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){Xx(r,e),Jx.set(n,r),z0.delete(n)}}}function f4(t,e,n,r){if(u4(n,t),d4(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=X$(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,d=new Array(u+1).fill(s),h=Math.floor((e.BITS-1)/c)*c;let p=s;for(let m=h;m>=0;m-=c){d.fill(s);for(let w=0;w<r.length;w++){const E=r[w],v=Number(E>>BigInt(m)&BigInt(u));d[v]=d[v].add(n[w])}let y=s;for(let w=d.length-1,E=s;w>0;w--)E=E.add(d[w]),y=y.add(E);if(p=p.add(y),m!==0)for(let w=0;w<c;w++)p=p.double()}return p}function p4(t){return o4(t.Fp),bE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zx(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ws=BigInt(0),cr=BigInt(1),sg=BigInt(2),g4=BigInt(8),m4={zip215:!0};function y4(t){const e=p4(t);return bE(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function b4(t){const e=y4(t),{Fp:n,n:r,prehash:s,hash:a,randomBytes:c,nByteLength:u,h:d}=e,h=sg<<BigInt(u*8)-cr,p=n.create,m=Qx(e.n,e.nBitLength),y=e.uvRatio||((k,I)=>{try{return{isValid:!0,value:n.sqrt(k*n.inv(I))}}catch{return{isValid:!1,value:ws}}}),w=e.adjustScalarBytes||(k=>k),E=e.domain||((k,I,z)=>{if(M0("phflag",z),I.length||z)throw new Error("Contexts/pre-hash are not supported");return k});function v(k,I){$d("coordinate "+k,I,ws,h)}function _(k){if(!(k instanceof x))throw new Error("ExtendedPoint expected")}const S=DS((k,I)=>{const{ex:z,ey:q,ez:H}=k,D=k.is0();I==null&&(I=D?g4:n.inv(H));const Y=p(z*I),te=p(q*I),ie=p(H*I);if(D)return{x:ws,y:cr};if(ie!==cr)throw new Error("invZ was invalid");return{x:Y,y:te}}),N=DS(k=>{const{a:I,d:z}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:q,ey:H,ez:D,et:Y}=k,te=p(q*q),ie=p(H*H),J=p(D*D),de=p(J*J),me=p(te*I),qe=p(J*p(me+ie)),xe=p(de+p(z*p(te*ie)));if(qe!==xe)throw new Error("bad point: equation left != right (1)");const Re=p(q*H),Ke=p(D*Y);if(Re!==Ke)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(I,z,q,H){this.ex=I,this.ey=z,this.ez=q,this.et=H,v("x",I),v("y",z),v("z",q),v("t",H),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof x)throw new Error("extended point not allowed");const{x:z,y:q}=I||{};return v("x",z),v("y",q),new x(z,q,cr,p(z*q))}static normalizeZ(I){const z=n.invertBatch(I.map(q=>q.ez));return I.map((q,H)=>q.toAffine(z[H])).map(x.fromAffine)}static msm(I,z){return f4(x,m,I,z)}_setWindowSize(I){A.setWindowSize(this,I)}assertValidity(){N(this)}equals(I){_(I);const{ex:z,ey:q,ez:H}=this,{ex:D,ey:Y,ez:te}=I,ie=p(z*te),J=p(D*H),de=p(q*te),me=p(Y*H);return ie===J&&de===me}is0(){return this.equals(x.ZERO)}negate(){return new x(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:I}=e,{ex:z,ey:q,ez:H}=this,D=p(z*z),Y=p(q*q),te=p(sg*p(H*H)),ie=p(I*D),J=z+q,de=p(p(J*J)-D-Y),me=ie+Y,qe=me-te,xe=ie-Y,Re=p(de*qe),Ke=p(me*xe),Et=p(de*xe),Kt=p(qe*me);return new x(Re,Ke,Kt,Et)}add(I){_(I);const{a:z,d:q}=e,{ex:H,ey:D,ez:Y,et:te}=this,{ex:ie,ey:J,ez:de,et:me}=I;if(z===BigInt(-1)){const Oc=p((D-H)*(J+ie)),Ic=p((D+H)*(J-ie)),co=p(Ic-Oc);if(co===ws)return this.double();const kf=p(Y*sg*me),Mf=p(te*sg*de),_r=Mf+kf,jf=Ic+Oc,Iu=Mf-kf,Bf=p(_r*co),Rc=p(jf*Iu),ly=p(_r*Iu),Lf=p(co*jf);return new x(Bf,Rc,Lf,ly)}const qe=p(H*ie),xe=p(D*J),Re=p(te*q*me),Ke=p(Y*de),Et=p((H+D)*(ie+J)-qe-xe),Kt=Ke-Re,Yt=Ke+Re,Tn=p(xe-z*qe),ps=p(Et*Kt),Xi=p(Yt*Tn),Ou=p(Et*Tn),xc=p(Kt*Yt);return new x(ps,Xi,xc,Ou)}subtract(I){return this.add(I.negate())}wNAF(I){return A.wNAFCached(this,I,x.normalizeZ)}multiply(I){const z=I;$d("scalar",z,cr,r);const{p:q,f:H}=this.wNAF(z);return x.normalizeZ([q,H])[0]}multiplyUnsafe(I,z=x.ZERO){const q=I;return $d("scalar",q,ws,r),q===ws?T:this.is0()||q===cr?this:A.wNAFCachedUnsafe(this,q,x.normalizeZ,z)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(I){return S(this,I)}clearCofactor(){const{h:I}=e;return I===cr?this:this.multiplyUnsafe(I)}static fromHex(I,z=!1){const{d:q,a:H}=e,D=n.BYTES;I=Pi("pointHex",I,D),M0("zip215",z);const Y=I.slice(),te=I[D-1];Y[D-1]=te&-129;const ie=Og(Y),J=z?h:n.ORDER;$d("pointHex.y",ie,ws,J);const de=p(ie*ie),me=p(de-cr),qe=p(q*de-H);let{isValid:xe,value:Re}=y(me,qe);if(!xe)throw new Error("Point.fromHex: invalid y coordinate");const Ke=(Re&cr)===cr,Et=(te&128)!==0;if(!z&&Re===ws&&Et)throw new Error("Point.fromHex: x=0 and x_0=1");return Et!==Ke&&(Re=p(-Re)),x.fromAffine({x:Re,y:ie})}static fromPrivateKey(I){return O(I).point}toRawBytes(){const{x:I,y:z}=this.toAffine(),q=Zw(z,n.BYTES);return q[q.length-1]|=I&cr?128:0,q}toHex(){return yE(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,cr,p(e.Gx*e.Gy)),x.ZERO=new x(ws,cr,cr,ws);const{BASE:P,ZERO:T}=x,A=h4(x,u*8);function R(k){return hn(k,r)}function M(k){return R(Og(k))}function O(k){const I=n.BYTES;k=Pi("private key",k,I);const z=Pi("hashed private key",a(k),2*I),q=w(z.slice(0,I)),H=z.slice(I,2*I),D=M(q),Y=P.multiply(D),te=Y.toRawBytes();return{head:q,prefix:H,scalar:D,point:Y,pointBytes:te}}function j(k){return O(k).pointBytes}function F(k=new Uint8Array,...I){const z=PS(...I);return M(a(E(z,Pi("context",k),!!s)))}function ee(k,I,z={}){k=Pi("message",k),s&&(k=s(k));const{prefix:q,scalar:H,pointBytes:D}=O(I),Y=F(z.context,q,k),te=P.multiply(Y).toRawBytes(),ie=F(z.context,te,D,k),J=R(Y+ie*H);$d("signature.s",J,ws,r);const de=PS(te,Zw(J,n.BYTES));return Pi("result",de,n.BYTES*2)}const ae=m4;function G(k,I,z,q=ae){const{context:H,zip215:D}=q,Y=n.BYTES;k=Pi("signature",k,2*Y),I=Pi("message",I),z=Pi("publicKey",z,Y),D!==void 0&&M0("zip215",D),s&&(I=s(I));const te=Og(k.slice(Y,2*Y));let ie,J,de;try{ie=x.fromHex(z,D),J=x.fromHex(k.slice(0,Y),D),de=P.multiplyUnsafe(te)}catch{return!1}if(!D&&ie.isSmallOrder())return!1;const me=F(H,J.toRawBytes(),ie.toRawBytes(),I);return J.add(ie.multiplyUnsafe(me)).subtract(de).clearCofactor().equals(x.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:j,sign:ee,verify:G,ExtendedPoint:x,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>c(n.BYTES),precompute(k=8,I=x.BASE){return I._setWindowSize(k),I.multiply(BigInt(3)),I}}}}BigInt(0),BigInt(1);const wE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),jS=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const w4=BigInt(1),BS=BigInt(2);BigInt(3);const v4=BigInt(5),E4=BigInt(8);function _4(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=wE,c=t*t%a*t%a,u=qs(c,BS,a)*c%a,d=qs(u,w4,a)*t%a,h=qs(d,v4,a)*d%a,p=qs(h,e,a)*h%a,m=qs(p,n,a)*p%a,y=qs(m,r,a)*m%a,w=qs(y,s,a)*y%a,E=qs(w,s,a)*y%a,v=qs(E,e,a)*h%a;return{pow_p_5_8:qs(v,BS,a)*t%a,b2:c}}function C4(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function A4(t,e){const n=wE,r=hn(e*e*e,n),s=hn(r*r*e,n),a=_4(t*s).pow_p_5_8;let c=hn(t*r*a,n);const u=hn(e*c*c,n),d=c,h=hn(c*jS,n),p=u===t,m=u===hn(-t,n),y=u===hn(-t*jS,n);return p&&(c=d),(m||y)&&(c=h),i4(c,n)&&(c=hn(-c,n)),{isValid:p||m,value:c}}const S4=Qx(wE,void 0,!0),N4={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:S4,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:E4,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:W$,randomBytes:Hx,adjustScalarBytes:C4,uvRatio:A4},eO=b4(N4),T4="EdDSA",x4="JWT",Vg=".",xm="base64url",tO="utf8",nO="utf8",O4=":",I4="did",R4="key",LS="base58btc",P4="z",D4="K36",$4=32;function vE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function rO(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?vE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function sO(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=rO(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return vE(n)}function U4(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,S=0,N=E.length;S!==N&&E[S]===0;)S++,v++;for(var x=(N-S)*p+1>>>0,P=new Uint8Array(x);S!==N;){for(var T=E[S],A=0,R=x-1;(T!==0||A<_)&&R!==-1;R--,A++)T+=256*P[R]>>>0,P[R]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");_=A,S++}for(var M=x-_;M!==x&&P[M]===0;)M++;for(var O=d.repeat(v);M<x;++M)O+=t.charAt(P[M]);return O}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,S=0;E[v]===d;)_++,v++;for(var N=(E.length-v)*h+1>>>0,x=new Uint8Array(N);E[v];){var P=n[E.charCodeAt(v)];if(P===255)return;for(var T=0,A=N-1;(P!==0||T<S)&&A!==-1;A--,T++)P+=u*x[A]>>>0,x[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=T,v++}if(E[v]!==" "){for(var R=N-S;R!==N&&x[R]===0;)R++;for(var M=new Uint8Array(_+(N-R)),O=_;R!==N;)M[O++]=x[R++];return M}}}function w(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:w}}var k4=U4,M4=k4;const iO=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},j4=t=>new TextEncoder().encode(t),B4=t=>new TextDecoder().decode(t);let L4=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},z4=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return aO(this,e)}},F4=class{constructor(e){this.decoders=e}or(e){return aO(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const aO=(t,e)=>new F4({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let q4=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new L4(e,n,r),this.decoder=new z4(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Om=({name:t,prefix:e,encode:n,decode:r})=>new q4(t,e,n,r),vf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=M4(n,e);return Om({prefix:t,name:e,encode:r,decode:a=>iO(s(a))})},H4=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,u+=n,u>=8&&(u-=8,c[h++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},V4=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},Mn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Om({prefix:e,name:t,encode(s){return V4(s,r,n)},decode(s){return H4(s,r,n,t)}}),G4=Om({prefix:"\0",name:"identity",encode:t=>B4(t),decode:t=>j4(t)});var W4=Object.freeze({__proto__:null,identity:G4});const K4=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Y4=Object.freeze({__proto__:null,base2:K4});const Z4=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Q4=Object.freeze({__proto__:null,base8:Z4});const X4=vf({prefix:"9",name:"base10",alphabet:"0123456789"});var J4=Object.freeze({__proto__:null,base10:X4});const eU=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tU=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var nU=Object.freeze({__proto__:null,base16:eU,base16upper:tU});const rU=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sU=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iU=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aU=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oU=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cU=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lU=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uU=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dU=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hU=Object.freeze({__proto__:null,base32:rU,base32upper:sU,base32pad:iU,base32padupper:aU,base32hex:oU,base32hexupper:cU,base32hexpad:lU,base32hexpadupper:uU,base32z:dU});const fU=vf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pU=vf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gU=Object.freeze({__proto__:null,base36:fU,base36upper:pU});const mU=vf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yU=vf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bU=Object.freeze({__proto__:null,base58btc:mU,base58flickr:yU});const wU=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vU=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),EU=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_U=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var CU=Object.freeze({__proto__:null,base64:wU,base64pad:vU,base64url:EU,base64urlpad:_U});const oO=Array.from(""),AU=oO.reduce((t,e,n)=>(t[n]=e,t),[]),SU=oO.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function NU(t){return t.reduce((e,n)=>(e+=AU[n],e),"")}function TU(t){const e=[];for(const n of t){const r=SU[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const xU=Om({prefix:"",name:"base256emoji",encode:NU,decode:TU});var OU=Object.freeze({__proto__:null,base256emoji:xU}),IU=cO,zS=128,RU=-128,PU=Math.pow(2,31);function cO(t,e,n){e=e||[],n=n||0;for(var r=n;t>=PU;)e[n++]=t&255|zS,t/=128;for(;t&RU;)e[n++]=t&255|zS,t>>>=7;return e[n]=t|0,cO.bytes=n-r+1,e}var DU=Xw,$U=128,FS=127;function Xw(t,r){var n=0,r=r||0,s=0,a=r,c,u=t.length;do{if(a>=u)throw Xw.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&FS)<<s:(c&FS)*Math.pow(2,s),s+=7}while(c>=$U);return Xw.bytes=a-r,n}var UU=Math.pow(2,7),kU=Math.pow(2,14),MU=Math.pow(2,21),jU=Math.pow(2,28),BU=Math.pow(2,35),LU=Math.pow(2,42),zU=Math.pow(2,49),FU=Math.pow(2,56),qU=Math.pow(2,63),HU=function(t){return t<UU?1:t<kU?2:t<MU?3:t<jU?4:t<BU?5:t<LU?6:t<zU?7:t<FU?8:t<qU?9:10},VU={encode:IU,decode:DU,encodingLength:HU},lO=VU;const qS=(t,e,n=0)=>(lO.encode(t,e,n),e),HS=t=>lO.encodingLength(t),Jw=(t,e)=>{const n=e.byteLength,r=HS(t),s=r+HS(n),a=new Uint8Array(s+n);return qS(t,a,0),qS(n,a,r),a.set(e,s),new GU(t,n,e,a)};let GU=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const uO=({name:t,code:e,encode:n})=>new WU(t,e,n);let WU=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Jw(this.code,n):n.then(r=>Jw(this.code,r))}else throw Error("Unknown type, must be binary type")}};const dO=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),KU=uO({name:"sha2-256",code:18,encode:dO("SHA-256")}),YU=uO({name:"sha2-512",code:19,encode:dO("SHA-512")});var ZU=Object.freeze({__proto__:null,sha256:KU,sha512:YU});const hO=0,QU="identity",fO=iO,XU=t=>Jw(hO,fO(t)),JU={code:hO,name:QU,encode:fO,digest:XU};var ek=Object.freeze({__proto__:null,identity:JU});new TextEncoder,new TextDecoder;const VS={...W4,...Y4,...Q4,...J4,...nU,...hU,...gU,...bU,...CU,...OU};({...ZU,...ek});function pO(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const GS=pO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),q0=pO("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=rO(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),gO={utf8:GS,"utf-8":GS,hex:VS.base16,latin1:q0,ascii:q0,binary:q0,...VS};function Im(t,e="utf8"){const n=gO[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function vu(t,e="utf8"){const n=gO[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?vE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function WS(t){return cc(Im(vu(t,xm),tO))}function Gg(t){return Im(vu(Yi(t),tO),xm)}function mO(t){const e=vu(D4,LS),n=P4+Im(sO([e,t]),LS);return[I4,R4,n].join(O4)}function tk(t){return Im(t,xm)}function nk(t){return vu(t,xm)}function rk(t){return vu([Gg(t.header),Gg(t.payload)].join(Vg),nO)}function sk(t){return[Gg(t.header),Gg(t.payload),tk(t.signature)].join(Vg)}function ev(t){const e=t.split(Vg),n=WS(e[0]),r=WS(e[1]),s=nk(e[2]),a=vu(e.slice(0,2).join(Vg),nO);return{header:n,payload:r,signature:s,data:a}}function KS(t=Hx($4)){const e=eO.getPublicKey(t);return{secretKey:sO([t,e]),publicKey:e}}async function ik(t,e,n,r,s=ge.fromMiliseconds(Date.now())){const a={alg:T4,typ:x4},c=mO(r.publicKey),u=s+n,d={iss:c,sub:t,aud:e,iat:s,exp:u},h=rk({header:a,payload:d}),p=eO.sign(h,r.secretKey.slice(0,32));return sk({header:a,payload:d,signature:p})}var YS=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},ak=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),ok=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ck=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),lk=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),uk=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),dk=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hk=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ZS=3,fk=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",dk]],QS=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pk(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new uk:typeof navigator<"u"?mk(navigator.userAgent):bk()}function gk(t){return t!==""&&fk.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var a=s.exec(t);return!!a&&[r,a]},!1)}function mk(t){var e=gk(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new lk;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<ZS&&(s=YS(YS([],s,!0),wk(ZS-s.length),!0)):s=[];var a=s.join("."),c=yk(t),u=hk.exec(t);return u&&u[1]?new ck(n,a,c,u[1]):new ak(n,a,c)}function yk(t){for(var e=0,n=QS.length;e<n;e++){var r=QS[e],s=r[0],a=r[1],c=a.exec(t);if(c)return s}return null}function bk(){var t=typeof process<"u"&&process.version;return t?new ok(process.version.slice(1)):null}function wk(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Tt={},XS;function yO(){if(XS)return Tt;XS=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getLocalStorage=Tt.getLocalStorageOrThrow=Tt.getCrypto=Tt.getCryptoOrThrow=Tt.getLocation=Tt.getLocationOrThrow=Tt.getNavigator=Tt.getNavigatorOrThrow=Tt.getDocument=Tt.getDocumentOrThrow=Tt.getFromWindowOrThrow=Tt.getFromWindow=void 0;function t(y){let w;return typeof window<"u"&&typeof window[y]<"u"&&(w=window[y]),w}Tt.getFromWindow=t;function e(y){const w=t(y);if(!w)throw new Error(`${y} is not defined in Window`);return w}Tt.getFromWindowOrThrow=e;function n(){return e("document")}Tt.getDocumentOrThrow=n;function r(){return t("document")}Tt.getDocument=r;function s(){return e("navigator")}Tt.getNavigatorOrThrow=s;function a(){return t("navigator")}Tt.getNavigator=a;function c(){return e("location")}Tt.getLocationOrThrow=c;function u(){return t("location")}Tt.getLocation=u;function d(){return e("crypto")}Tt.getCryptoOrThrow=d;function h(){return t("crypto")}Tt.getCrypto=h;function p(){return e("localStorage")}Tt.getLocalStorageOrThrow=p;function m(){return t("localStorage")}return Tt.getLocalStorage=m,Tt}var lc=yO(),Ud={},JS;function vk(){if(JS)return Ud;JS=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.getWindowMetadata=void 0;const t=yO();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const w=n.getElementsByTagName("link"),E=[];for(let v=0;v<w.length;v++){const _=w[v],S=_.getAttribute("rel");if(S&&S.toLowerCase().indexOf("icon")>-1){const N=_.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let x=r.protocol+"//"+r.host;if(N.indexOf("/")===0)x+=N;else{const P=r.pathname.split("/");P.pop();const T=P.join("/");x+=T+"/"+N}E.push(x)}else if(N.indexOf("//")===0){const x=r.protocol+N;E.push(x)}else E.push(N)}}return E}function a(...w){const E=n.getElementsByTagName("meta");for(let v=0;v<E.length;v++){const _=E[v],S=["itemprop","property","name"].map(N=>_.getAttribute(N)).filter(N=>N?w.includes(N):!1);if(S.length&&S){const N=_.getAttribute("content");if(N)return N}}return""}function c(){let w=a("name","og:site_name","og:title","twitter:title");return w||(w=n.title),w}function u(){return a("description","og:description","twitter:description","keywords")}const d=c(),h=u(),p=r.origin,m=s();return{description:h,url:p,icons:m,name:d}}return Ud.getWindowMetadata=e,Ud}var Ek=vk();const _k="1.0.8";let ds=class tv extends Error{constructor(e,n={}){var c;const r=n.cause instanceof tv?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details,s=n.cause instanceof tv&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_k}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Qi(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const bO=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wO=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,vO=/^\(.+?\).*?$/,e2=/^tuple(?<array>(\[(\d*)\])*)$/;function nv(t){let e=t.type;if(e2.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const a=t.components[s];e+=nv(a),s<n-1&&(e+=", ")}const r=Qi(e2,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,nv({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function kd(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=nv(s),r!==n-1&&(e+=", ")}return e}function Ck(t){var e;return t.type==="function"?`function ${t.name}(${kd(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${kd(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${kd(t.inputs)})`:t.type==="error"?`error ${t.name}(${kd(t.inputs)})`:t.type==="constructor"?`constructor(${kd(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const EO=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ak(t){return EO.test(t)}function Sk(t){return Qi(EO,t)}const _O=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Nk(t){return _O.test(t)}function Tk(t){return Qi(_O,t)}const CO=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function xk(t){return CO.test(t)}function Ok(t){return Qi(CO,t)}const AO=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function SO(t){return AO.test(t)}function Ik(t){return Qi(AO,t)}const NO=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Rk(t){return NO.test(t)}function Pk(t){return Qi(NO,t)}const TO=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Dk(t){return TO.test(t)}function $k(t){return Qi(TO,t)}const Uk=/^receive\(\) external payable$/;function kk(t){return Uk.test(t)}const Mk=new Set(["indexed"]),rv=new Set(["calldata","memory","storage"]);class jk extends ds{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Bk extends ds{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Lk extends ds{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class zk extends ds{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Fk extends ds{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class qk extends ds{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hk extends ds{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Eu extends ds{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Vk extends ds{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Gk extends ds{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Wk extends ds{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Kk extends ds{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Yk(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const c of s[1])a+=`[${c.type}${c.name?`:${c.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const H0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zk(t,e={}){if(xk(t))return Qk(t,e);if(Nk(t))return Xk(t,e);if(Ak(t))return Jk(t,e);if(Rk(t))return eM(t,e);if(Dk(t))return tM(t);if(kk(t))return{type:"receive",stateMutability:"payable"};throw new Vk({signature:t})}function Qk(t,e={}){const n=Ok(t);if(!n)throw new Eu({signature:t,type:"function"});const r=xs(n.parameters),s=[],a=r.length;for(let u=0;u<a;u++)s.push(uc(r[u],{modifiers:rv,structs:e,type:"function"}));const c=[];if(n.returns){const u=xs(n.returns),d=u.length;for(let h=0;h<d;h++)c.push(uc(u[h],{modifiers:rv,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:c}}function Xk(t,e={}){const n=Tk(t);if(!n)throw new Eu({signature:t,type:"event"});const r=xs(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(uc(r[c],{modifiers:Mk,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Jk(t,e={}){const n=Sk(t);if(!n)throw new Eu({signature:t,type:"error"});const r=xs(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(uc(r[c],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function eM(t,e={}){const n=Pk(t);if(!n)throw new Eu({signature:t,type:"constructor"});const r=xs(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(uc(r[c],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function tM(t){const e=$k(t);if(!e)throw new Eu({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const nM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rM=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sM=/^u?int$/;function uc(t,e){var m,y;const n=Yk(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(H0.has(n))return H0.get(n);const r=vO.test(t),s=Qi(r?rM:nM,t);if(!s)throw new Lk({param:t});if(s.name&&aM(s.name))throw new zk({param:t,name:s.name});const a=s.name?{name:s.name}:{},c=s.modifier==="indexed"?{indexed:!0}:{},u=(e==null?void 0:e.structs)??{};let d,h={};if(r){d="tuple";const w=xs(s.type),E=[],v=w.length;for(let _=0;_<v;_++)E.push(uc(w[_],{structs:u}));h={components:E}}else if(s.type in u)d="tuple",h={components:u[s.type]};else if(sM.test(s.type))d=`${s.type}256`;else if(d=s.type,(e==null?void 0:e.type)!=="struct"&&!xO(d))throw new Bk({type:d});if(s.modifier){if(!((y=(m=e==null?void 0:e.modifiers)==null?void 0:m.has)!=null&&y.call(m,s.modifier)))throw new Fk({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(rv.has(s.modifier)&&!oM(d,!!s.array))throw new qk({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const p={type:`${d}${s.array??""}`,...a,...c,...h};return H0.set(n,p),p}function xs(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const c=t[a],u=t.slice(a+1);switch(c){case",":return r===0?xs(u,[...e,n.trim()]):xs(u,e,`${n}${c}`,r);case"(":return xs(u,e,`${n}${c}`,r+1);case")":return xs(u,e,`${n}${c}`,r-1);default:return xs(u,e,`${n}${c}`,r)}}if(n==="")return e;if(r!==0)throw new Kk({current:n,depth:r});return e.push(n.trim()),e}function xO(t){return t==="address"||t==="bool"||t==="function"||t==="string"||bO.test(t)||wO.test(t)}const iM=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function aM(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||bO.test(t)||wO.test(t)||iM.test(t)}function oM(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function cM(t){const e={},n=t.length;for(let c=0;c<n;c++){const u=t[c];if(!SO(u))continue;const d=Ik(u);if(!d)throw new Eu({signature:u,type:"struct"});const h=d.properties.split(";"),p=[],m=h.length;for(let y=0;y<m;y++){const E=h[y].trim();if(!E)continue;const v=uc(E,{type:"struct"});p.push(v)}if(!p.length)throw new Gk({signature:u});e[d.name]=p}const r={},s=Object.entries(e),a=s.length;for(let c=0;c<a;c++){const[u,d]=s[c];r[u]=OO(d,e)}return r}const lM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function OO(t,e,n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const c=t[a];if(vO.test(c.type))r.push(c);else{const d=Qi(lM,c.type);if(!(d!=null&&d.type))throw new Hk({abiParameter:c});const{array:h,type:p}=d;if(p in e){if(n.has(p))throw new Wk({type:p});r.push({...c,type:`tuple${h??""}`,components:OO(e[p]??[],e,new Set([...n,p]))})}else if(xO(p))r.push(c);else throw new jk({type:p})}}return r}function IO(t){const e=cM(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];SO(a)||n.push(Zk(a,e))}return n}function vh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function t2(t){return vh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const RO="2.23.2";let Md={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${RO}`},Rm=class sv extends Error{constructor(e,n={}){var u;const r=(()=>{var d;return n.cause instanceof sv?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof sv&&n.cause.docsPath||n.docsPath,a=(u=Md.getDocsUrl)==null?void 0:u.call(Md,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Md.version?[`Version: ${Md.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=RO}walk(e){return PO(this,e)}};function PO(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?PO(t.cause,e):e?null:t}let DO=class extends Rm{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function _u(t,{dir:e,size:n=32}={}){return typeof t=="string"?uM(t,{dir:e,size:n}):dM(t,{dir:e,size:n})}function uM(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new DO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dM(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new DO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}let hM=class extends Rm{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},fM=class extends Rm{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Cu(t,{size:e}){if(t2(t)>e)throw new fM({givenSize:t2(t),maxSize:e})}function iv(t,e={}){const{signed:n}=e;e.size&&Cu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function pM(t,e={}){return Number(iv(t,e))}const gM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function av(t,e={}){return typeof t=="number"||typeof t=="bigint"?UO(t,e):typeof t=="string"?bM(t,e):typeof t=="boolean"?mM(t,e):$O(t,e)}function mM(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Cu(n,{size:e.size}),_u(n,{size:e.size})):n}function $O(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=gM[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Cu(r,{size:e.size}),_u(r,{dir:"right",size:e.size})):r}function UO(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const d=typeof t=="bigint"?"n":"";throw new hM({max:a?`${a}${d}`:void 0,min:`${c}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?_u(u,{size:r}):u}const yM=new TextEncoder;function bM(t,e={}){const n=yM.encode(t);return $O(n,e)}const wM=new TextEncoder;function vM(t,e={}){return typeof t=="number"||typeof t=="bigint"?_M(t,e):typeof t=="boolean"?EM(t,e):vh(t)?kO(t,e):MO(t,e)}function EM(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Cu(n,{size:e.size}),_u(n,{size:e.size})):n}const Di={zero:48,nine:57,A:65,F:70,a:97,f:102};function n2(t){if(t>=Di.zero&&t<=Di.nine)return t-Di.zero;if(t>=Di.A&&t<=Di.F)return t-(Di.A-10);if(t>=Di.a&&t<=Di.f)return t-(Di.a-10)}function kO(t,e={}){let n=t;e.size&&(Cu(n,{size:e.size}),n=_u(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=n2(r.charCodeAt(u++)),h=n2(r.charCodeAt(u++));if(d===void 0||h===void 0)throw new Rm(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[c]=d*16+h}return a}function _M(t,e){const n=UO(t,e);return kO(n)}function MO(t,e={}){const n=wM.encode(t);return typeof e.size=="number"?(Cu(n,{size:e.size}),_u(n,{dir:"right",size:e.size})):n}function Wg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function CM(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Pm(t,...e){if(!CM(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Ine(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wg(t.outputLen),Wg(t.blockLen)}function r2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function AM(t,e){Pm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ig=BigInt(2**32-1),s2=BigInt(32);function SM(t,e=!1){return e?{h:Number(t&ig),l:Number(t>>s2&ig)}:{h:Number(t>>s2&ig)|0,l:Number(t&ig)|0}}function NM(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=SM(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const TM=(t,e,n)=>t<<n|e>>>32-n,xM=(t,e,n)=>e<<n|t>>>32-n,OM=(t,e,n)=>e<<n-32|t>>>64-n,IM=(t,e,n)=>t<<n-32|e>>>64-n,gl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function RM(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rne(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pne(t,e){return t<<32-e|t>>>e}const i2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PM(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function a2(t){for(let e=0;e<t.length;e++)t[e]=PM(t[e])}function DM(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jO(t){return typeof t=="string"&&(t=DM(t)),Pm(t),t}function Dne(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Pm(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let $M=class{clone(){return this._cloneInto()}};function UM(t){const e=r=>t().update(jO(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Une(t=32){if(gl&&typeof gl.getRandomValues=="function")return gl.getRandomValues(new Uint8Array(t));if(gl&&typeof gl.randomBytes=="function")return gl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const BO=[],LO=[],zO=[],kM=BigInt(0),jd=BigInt(1),MM=BigInt(2),jM=BigInt(7),BM=BigInt(256),LM=BigInt(113);for(let t=0,e=jd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],BO.push(2*(5*r+n)),LO.push((t+1)*(t+2)/2%64);let s=kM;for(let a=0;a<7;a++)e=(e<<jd^(e>>jM)*LM)%BM,e&MM&&(s^=jd<<(jd<<BigInt(a))-jd);zO.push(s)}const[zM,FM]=NM(zO,!0),o2=(t,e,n)=>n>32?OM(t,e,n):TM(t,e,n),c2=(t,e,n)=>n>32?IM(t,e,n):xM(t,e,n);function qM(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,h=n[d],p=n[d+1],m=o2(h,p,1)^n[u],y=c2(h,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=m,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=LO[c],d=o2(s,a,u),h=c2(s,a,u),p=BO[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=zM[r],t[1]^=FM[r]}n.fill(0)}let HM=class FO extends $M{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wg(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=RM(this.state)}keccak(){i2||a2(this.state32),qM(this.state32,this.rounds),i2||a2(this.state32),this.posOut=0,this.pos=0}update(e){r2(this);const{blockLen:n,state:r}=this;e=jO(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){r2(this,!1),Pm(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(AM(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new FO(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const VM=(t,e,n)=>UM(()=>new HM(e,t,n)),GM=VM(1,136,256/8);function qO(t,e){const n=e||"hex",r=GM(vh(t,{strict:!1})?vM(t):t);return n==="bytes"?r:av(r)}let WM=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const V0=new WM(8192);function KM(t,e){if(V0.has(`${t}.${e}`))return V0.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=qO(MO(n),"bytes"),s=n.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return V0.set(`${t}.${e}`,a),a}function YM(t){const e=qO(`0x${t.substring(4)}`).substring(26);return KM(`0x${e}`)}const ZM="modulepreload",QM=function(t){return"/"+t},l2={},er=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=c(n.map(h=>{if(h=QM(h),h in l2)return;l2[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":ZM,p||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((w,E)=>{y.addEventListener("load",w),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};async function XM({hash:t,signature:e}){const n=vh(t)?t:av(t),{secp256k1:r}=await er(async()=>{const{secp256k1:c}=await import("./secp256k1-CpDxkEuh.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:p,v:m,yParity:y}=e,w=Number(y??m),E=u2(w);return new r.Signature(iv(h),iv(p)).addRecoveryBit(E)}const c=vh(e)?e:av(e),u=pM(`0x${c.slice(130)}`),d=u2(u);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function u2(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function JM({hash:t,signature:e}){return YM(await XM({hash:t,signature:e}))}function ej(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){const p=t.charAt(h),m=p.charCodeAt(0);if(e[m]!==255)throw new TypeError(p+" is ambiguous");e[m]=h}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,m=0,y=0;const w=h.length;for(;y!==w&&h[y]===0;)y++,p++;const E=(w-y)*a+1>>>0,v=new Uint8Array(E);for(;y!==w;){let N=h[y],x=0;for(let P=E-1;(N!==0||x<m)&&P!==-1;P--,x++)N+=256*v[P]>>>0,v[P]=N%n>>>0,N=N/n>>>0;if(N!==0)throw new Error("Non-zero carry");m=x,y++}let _=E-m;for(;_!==E&&v[_]===0;)_++;let S=r.repeat(p);for(;_<E;++_)S+=t.charAt(v[_]);return S}function u(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,m=0,y=0;for(;h[p]===r;)m++,p++;const w=(h.length-p)*s+1>>>0,E=new Uint8Array(w);for(;p<h.length;){const N=h.charCodeAt(p);if(N>255)return;let x=e[N];if(x===255)return;let P=0;for(let T=w-1;(x!==0||P<y)&&T!==-1;T--,P++)x+=n*E[T]>>>0,E[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=P,p++}let v=w-y;for(;v!==w&&E[v]===0;)v++;const _=new Uint8Array(m+(w-v));let S=m;for(;v!==w;)_[S++]=E[v++];return _}function d(h){const p=u(h);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:u,decode:d}}var tj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const HO=ej(tj);function VO(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function ih(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=VO(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function nj(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,S=0,N=E.length;S!==N&&E[S]===0;)S++,v++;for(var x=(N-S)*p+1>>>0,P=new Uint8Array(x);S!==N;){for(var T=E[S],A=0,R=x-1;(T!==0||A<_)&&R!==-1;R--,A++)T+=256*P[R]>>>0,P[R]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");_=A,S++}for(var M=x-_;M!==x&&P[M]===0;)M++;for(var O=d.repeat(v);M<x;++M)O+=t.charAt(P[M]);return O}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,S=0;E[v]===d;)_++,v++;for(var N=(E.length-v)*h+1>>>0,x=new Uint8Array(N);E[v];){var P=n[E.charCodeAt(v)];if(P===255)return;for(var T=0,A=N-1;(P!==0||T<S)&&A!==-1;A--,T++)P+=u*x[A]>>>0,x[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=T,v++}if(E[v]!==" "){for(var R=N-S;R!==N&&x[R]===0;)R++;for(var M=new Uint8Array(_+(N-R)),O=_;R!==N;)M[O++]=x[R++];return M}}}function w(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:w}}var rj=nj,sj=rj;const ij=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aj=t=>new TextEncoder().encode(t),oj=t=>new TextDecoder().decode(t);class cj{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lj{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GO(this,e)}}class uj{constructor(e){this.decoders=e}or(e){return GO(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const GO=(t,e)=>new uj({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class dj{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new cj(e,n,r),this.decoder=new lj(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Dm=({name:t,prefix:e,encode:n,decode:r})=>new dj(t,e,n,r),Ef=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=sj(n,e);return Dm({prefix:t,name:e,encode:r,decode:a=>ij(s(a))})},hj=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,u+=n,u>=8&&(u-=8,c[h++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},fj=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},jn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Dm({prefix:e,name:t,encode(s){return fj(s,r,n)},decode(s){return hj(s,r,n,t)}}),pj=Dm({prefix:"\0",name:"identity",encode:t=>oj(t),decode:t=>aj(t)}),gj=Object.freeze(Object.defineProperty({__proto__:null,identity:pj},Symbol.toStringTag,{value:"Module"})),mj=jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),yj=Object.freeze(Object.defineProperty({__proto__:null,base2:mj},Symbol.toStringTag,{value:"Module"})),bj=jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),wj=Object.freeze(Object.defineProperty({__proto__:null,base8:bj},Symbol.toStringTag,{value:"Module"})),vj=Ef({prefix:"9",name:"base10",alphabet:"0123456789"}),Ej=Object.freeze(Object.defineProperty({__proto__:null,base10:vj},Symbol.toStringTag,{value:"Module"})),_j=jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cj=jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Aj=Object.freeze(Object.defineProperty({__proto__:null,base16:_j,base16upper:Cj},Symbol.toStringTag,{value:"Module"})),Sj=jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nj=jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tj=jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xj=jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Oj=jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ij=jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rj=jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pj=jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Dj=jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$j=Object.freeze(Object.defineProperty({__proto__:null,base32:Sj,base32hex:Oj,base32hexpad:Rj,base32hexpadupper:Pj,base32hexupper:Ij,base32pad:Tj,base32padupper:xj,base32upper:Nj,base32z:Dj},Symbol.toStringTag,{value:"Module"})),Uj=Ef({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kj=Ef({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Mj=Object.freeze(Object.defineProperty({__proto__:null,base36:Uj,base36upper:kj},Symbol.toStringTag,{value:"Module"})),jj=Ef({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bj=Ef({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Lj=Object.freeze(Object.defineProperty({__proto__:null,base58btc:jj,base58flickr:Bj},Symbol.toStringTag,{value:"Module"})),zj=jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fj=jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qj=jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hj=jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Vj=Object.freeze(Object.defineProperty({__proto__:null,base64:zj,base64pad:Fj,base64url:qj,base64urlpad:Hj},Symbol.toStringTag,{value:"Module"})),WO=Array.from(""),Gj=WO.reduce((t,e,n)=>(t[n]=e,t),[]),Wj=WO.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Kj(t){return t.reduce((e,n)=>(e+=Gj[n],e),"")}function Yj(t){const e=[];for(const n of t){const r=Wj[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Zj=Dm({prefix:"",name:"base256emoji",encode:Kj,decode:Yj}),Qj=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Zj},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const d2={...gj,...yj,...wj,...Ej,...Aj,...$j,...Mj,...Lj,...Vj,...Qj};function KO(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const h2=KO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),G0=KO("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=VO(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),YO={utf8:h2,"utf-8":h2,hex:d2.base16,latin1:G0,ascii:G0,binary:G0,...d2};function as(t,e="utf8"){const n=YO[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function yr(t,e="utf8"){const n=YO[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Xj={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Jj={};const eB=":";function Bl(t){const[e,n]=t.split(eB);return{namespace:e,reference:n}}function ZO(t,e){return t.includes(":")?[t]:e.chains||[]}var tB=Object.defineProperty,nB=Object.defineProperties,rB=Object.getOwnPropertyDescriptors,f2=Object.getOwnPropertySymbols,sB=Object.prototype.hasOwnProperty,iB=Object.prototype.propertyIsEnumerable,p2=(t,e,n)=>e in t?tB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g2=(t,e)=>{for(var n in e||(e={}))sB.call(e,n)&&p2(t,n,e[n]);if(f2)for(var n of f2(e))iB.call(e,n)&&p2(t,n,e[n]);return t},aB=(t,e)=>nB(t,rB(e));const oB="ReactNative",Mr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},cB="js";function Kg(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ao(){return!lc.getDocument()&&!!lc.getNavigator()&&navigator.product===oB}function lB(){return ao()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function uB(){return ao()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function _f(){return!Kg()&&!!lc.getNavigator()&&!!lc.getDocument()}function Cf(){return ao()?Mr.reactNative:Kg()?Mr.node:_f()?Mr.browser:Mr.unknown}function m2(){var t;try{return ao()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function dB(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function hB(t){var e,n;const r=QO();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),aB(g2(g2({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function QO(){return Ek.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function fB(){if(Cf()===Mr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=pk();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function pB(){var t;const e=Cf();return e===Mr.browser?[e,((t=lc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function XO(t,e,n){const r=fB(),s=pB();return[[t,e].join("-"),[cB,n].join("-"),r,s].join("/")}function gB({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:a,useOnCloseEvent:c,bundleId:u,packageName:d}){const h=n.split("?"),p=XO(t,e,r),m={auth:s,ua:p,projectId:a,useOnCloseEvent:c,packageName:d||void 0,bundleId:u||void 0},y=dB(h[1]||"",m);return h[0]+"?"+y}function Vo(t,e){return t.filter(n=>e.includes(n)).length===t.length}function ov(t){return Object.fromEntries(t.entries())}function cv(t){return new Map(Object.entries(t))}function Bo(t=ge.FIVE_MINUTES,e){const n=ge.toMiliseconds(t||ge.FIVE_MINUTES);let r,s,a,c;return{resolve:u=>{a&&r&&(clearTimeout(a),r(u),c=Promise.resolve(u))},reject:u=>{a&&s&&(clearTimeout(a),s(u))},done:()=>new Promise((u,d)=>{if(c)return u(c);a=setTimeout(()=>{const h=new Error(e);c=Promise.reject(h),d(h)},n),r=u,s=d})}}function Ha(t,e,n){return new Promise(async(r,s)=>{const a=setTimeout(()=>s(new Error(n)),e);try{const c=await t;r(c)}catch(c){s(c)}clearTimeout(a)})}function JO(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mB(t){return JO("topic",t)}function yB(t){return JO("id",t)}function eI(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function un(t,e){return ge.fromMiliseconds(Date.now()+ge.toMiliseconds(t))}function $a(t){return Date.now()>=ge.toMiliseconds(t)}function bt(t,e){return`${t}${e?`:${e}`:""}`}function Ig(t=[],e=[]){return[...new Set([...t,...e])]}async function bB({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,a=s==null?void 0:s.href;if(typeof a!="string")return;const c=wB(a,t,e),u=Cf();if(u===Mr.browser){if(!((r=lc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}vB(c)}else u===Mr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function wB(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${a}${AB(r,!0)}`}else s=`${s}/wc?${r}`;return s}function vB(t){let e="_self";CB()?e="_top":(_B()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function EB(t,e){let n="";try{if(_f()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function y2(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function b2(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function EE(){return typeof process<"u"&&Jj.IS_VITEST==="true"}function _B(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function CB(){try{return window.self!==window.top}catch{return!1}}function AB(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function tI(t){return Buffer.from(t,"base64").toString("utf-8")}function SB(t){return new Promise(e=>setTimeout(e,t))}function Eh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function NB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Af(t,...e){if(!NB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _E(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Eh(t.outputLen),Eh(t.blockLen)}function Jl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nI(t,e){Af(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ag=BigInt(2**32-1),w2=BigInt(32);function TB(t,e=!1){return e?{h:Number(t&ag),l:Number(t>>w2&ag)}:{h:Number(t>>w2&ag)|0,l:Number(t&ag)|0}}function xB(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=TB(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const OB=(t,e,n)=>t<<n|e>>>32-n,IB=(t,e,n)=>e<<n|t>>>32-n,RB=(t,e,n)=>e<<n-32|t>>>64-n,PB=(t,e,n)=>t<<n-32|e>>>64-n,ml=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function DB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function W0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hs(t,e){return t<<32-e|t>>>e}const v2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $B(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function E2(t){for(let e=0;e<t.length;e++)t[e]=$B(t[e])}function UB(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function eu(t){return typeof t=="string"&&(t=UB(t)),Af(t),t}function kB(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Af(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let CE=class{clone(){return this._cloneInto()}};function rI(t){const e=r=>t().update(eu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Au(t=32){if(ml&&typeof ml.getRandomValues=="function")return ml.getRandomValues(new Uint8Array(t));if(ml&&typeof ml.randomBytes=="function")return ml.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const sI=[],iI=[],aI=[],MB=BigInt(0),Bd=BigInt(1),jB=BigInt(2),BB=BigInt(7),LB=BigInt(256),zB=BigInt(113);for(let t=0,e=Bd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sI.push(2*(5*r+n)),iI.push((t+1)*(t+2)/2%64);let s=MB;for(let a=0;a<7;a++)e=(e<<Bd^(e>>BB)*zB)%LB,e&jB&&(s^=Bd<<(Bd<<BigInt(a))-Bd);aI.push(s)}const[FB,qB]=xB(aI,!0),_2=(t,e,n)=>n>32?RB(t,e,n):OB(t,e,n),C2=(t,e,n)=>n>32?PB(t,e,n):IB(t,e,n);function HB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,h=n[d],p=n[d+1],m=_2(h,p,1)^n[u],y=C2(h,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=m,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=iI[c],d=_2(s,a,u),h=C2(s,a,u),p=sI[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=FB[r],t[1]^=qB[r]}n.fill(0)}let VB=class oI extends CE{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Eh(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=DB(this.state)}keccak(){v2||E2(this.state32),HB(this.state32,this.rounds),v2||E2(this.state32),this.posOut=0,this.pos=0}update(e){Jl(this);const{blockLen:n,state:r}=this;e=eu(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Jl(this,!1),Af(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Eh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new oI(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const GB=(t,e,n)=>rI(()=>new VB(e,t,n)),WB=GB(1,136,256/8),KB="https://rpc.walletconnect.org/v1";function cI(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(WB(n)).toString("hex")}async function YB(t,e,n,r,s,a){switch(n.t){case"eip191":return await ZB(t,e,n.s);case"eip1271":return await QB(t,e,n.s,r,s,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function ZB(t,e,n){return(await JM({hash:cI(e),signature:n})).toLowerCase()===t.toLowerCase()}async function QB(t,e,n,r,s,a){const c=Bl(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const u="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",h="0000000000000000000000000000000000000000000000000000000000000041",p=n.substring(2),m=cI(e).substring(2),y=u+m+d+h+p,w=await fetch(`${a||KB}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:XB(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:E}=await w.json();return E?E.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function XB(){return Date.now()+Math.floor(Math.random()*1e3)}function JB(t){const e=atob(t),n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=Buffer.from(t,"base64").slice(1,65);return HO.encode(a)}var eL=Object.defineProperty,tL=Object.defineProperties,nL=Object.getOwnPropertyDescriptors,A2=Object.getOwnPropertySymbols,rL=Object.prototype.hasOwnProperty,sL=Object.prototype.propertyIsEnumerable,S2=(t,e,n)=>e in t?eL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iL=(t,e)=>{for(var n in e||(e={}))rL.call(e,n)&&S2(t,n,e[n]);if(A2)for(var n of A2(e))sL.call(e,n)&&S2(t,n,e[n]);return t},aL=(t,e)=>tL(t,nL(e));const oL="did:pkh:",AE=t=>t==null?void 0:t.split(":"),cL=t=>{const e=t&&AE(t);if(e)return t.includes(oL)?e[3]:e[1]},lv=t=>{const e=t&&AE(t);if(e)return e[2]+":"+e[3]},Yg=t=>{const e=t&&AE(t);if(e)return e.pop()};async function N2(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,a=lI(s,s.iss),c=Yg(s.iss);return await YB(c,a,r,lv(s.iss),n)}const lI=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Yg(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,u=`Chain ID: ${cL(e)}`,d=`Nonce: ${t.nonce}`,h=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,m=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,w=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,E=Rg(t.resources);if(E){const v=_h(E);s=yL(s,v)}return[n,r,"",s,"",a,c,u,d,h,p,m,y,w].filter(v=>v!=null).join(`
`)};function lL(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function uL(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function dc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const a=r[s];if(!Array.isArray(a))throw new Error(`Ability limits ${s} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function dL(t,e,n,r={}){return n==null||n.sort((s,a)=>s.localeCompare(a)),{att:{[t]:hL(e,n,r)}}}function hL(t,e,n={}){e=e==null?void 0:e.sort((s,a)=>s.localeCompare(a));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function uI(t){return dc(t),`urn:recap:${lL(t).replace(/=/g,"")}`}function _h(t){const e=uL(t.replace("urn:recap:",""));return dc(e),e}function fL(t,e,n){const r=dL(t,e,n);return uI(r)}function pL(t){return t&&t.includes("urn:recap:")}function gL(t,e){const n=_h(t),r=_h(e),s=mL(n,r);return uI(s)}function mL(t,e){dc(t),dc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,a)=>s.localeCompare(a)),r={att:{}};return n.forEach(s=>{var a,c;Object.keys(((a=t.att)==null?void 0:a[s])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[s])||{})).sort((u,d)=>u.localeCompare(d)).forEach(u=>{var d,h;r.att[s]=aL(iL({},r.att[s]),{[u]:((d=t.att[s])==null?void 0:d[u])||((h=e.att[s])==null?void 0:h[u])})})}),r}function yL(t="",e){dc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(u=>{const d=Object.keys(e.att[u]).map(m=>({ability:m.split("/")[0],action:m.split("/")[1]}));d.sort((m,y)=>m.action.localeCompare(y.action));const h={};d.forEach(m=>{h[m.ability]||(h[m.ability]=[]),h[m.ability].push(m.action)});const p=Object.keys(h).map(m=>(s++,`(${s}) '${m}': '${h[m].join("', '")}' for '${u}'.`));r.push(p.join(", ").replace(".,","."))});const a=r.join(" "),c=`${n}${a}`;return`${t?t+" ":""}${c}`}function T2(t){var e;const n=_h(t);dc(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function x2(t){const e=_h(t);dc(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var a;(a=s==null?void 0:s[0])!=null&&a.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Rg(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return pL(e)?e:void 0}function K0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function dI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ur(t,...e){if(!dI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function O2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bL(t,e){Ur(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function I2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Ka=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),wL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vL)throw new Error("Non little-endian hardware is not supported");function EL(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function uv(t){if(typeof t=="string")t=EL(t);else if(dI(t))t=dv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function _L(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function CL(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const AL=(t,e)=>{function n(r,...s){if(Ur(r),t.nonceLength!==void 0){const h=s[0];if(!h)throw new Error("nonce / iv required");t.varSizeNonce?Ur(h):Ur(h,t.nonceLength)}const a=t.tagLength;a&&s[1]!==void 0&&Ur(s[1]);const c=e(r,...s),u=(h,p)=>{if(p!==void 0){if(h!==2)throw new Error("cipher output not supported");Ur(p)}};let d=!1;return{encrypt(h,p){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,Ur(h),u(c.encrypt.length,p),c.encrypt(h,p)},decrypt(h,p){if(Ur(h),a&&h.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return u(c.decrypt.length,p),c.decrypt(h,p)}}}return Object.assign(n,t),n};function R2(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!SL(e))throw new Error("invalid output, must be aligned");return e}function P2(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a);t.setUint32(e+4,c,r),t.setUint32(e+0,u,r)}function SL(t){return t.byteOffset%4===0}function dv(t){return Uint8Array.from(t)}function tu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const hI=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),NL=hI("expand 16-byte k"),TL=hI("expand 32-byte k"),xL=Ka(NL),OL=Ka(TL);function ht(t,e){return t<<e|t>>>32-e}function hv(t){return t.byteOffset%4===0}const og=64,IL=16,fI=2**32-1,D2=new Uint32Array;function RL(t,e,n,r,s,a,c,u){const d=s.length,h=new Uint8Array(og),p=Ka(h),m=hv(s)&&hv(a),y=m?Ka(s):D2,w=m?Ka(a):D2;for(let E=0;E<d;c++){if(t(e,n,r,p,c,u),c>=fI)throw new Error("arx: counter overflow");const v=Math.min(og,d-E);if(m&&v===og){const _=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let S=0,N;S<IL;S++)N=_+S,w[N]=y[N]^p[S];E+=og;continue}for(let _=0,S;_<v;_++)S=E+_,a[S]=s[S]^h[_];E+=v}}function PL(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:a,rounds:c}=_L({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return K0(s),K0(c),I2(a),I2(n),(u,d,h,p,m=0)=>{Ur(u),Ur(d),Ur(h);const y=h.length;if(p===void 0&&(p=new Uint8Array(y)),Ur(p),K0(m),m<0||m>=fI)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const w=[];let E=u.length,v,_;if(E===32)w.push(v=dv(u)),_=OL;else if(E===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),_=xL,w.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);hv(d)||w.push(d=dv(d));const S=Ka(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(_,S,Ka(d.subarray(0,16)),S),d=d.subarray(16)}const N=16-s;if(N!==d.length)throw new Error(`arx: nonce must be ${N} or 16 bytes`);if(N!==12){const P=new Uint8Array(12);P.set(d,a?0:12-d.length),d=P,w.push(d)}const x=Ka(d);return RL(t,_,S,x,h,p,m,c),tu(...w),p}}const Rn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class DL{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=uv(e),Ur(e,32);const n=Rn(e,0),r=Rn(e,2),s=Rn(e,4),a=Rn(e,6),c=Rn(e,8),u=Rn(e,10),d=Rn(e,12),h=Rn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|u<<2)&8191,this.r[7]=(u>>>11|d<<5)&8065,this.r[8]=(d>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let p=0;p<8;p++)this.pad[p]=Rn(e,16+2*p)}process(e,n,r=!1){const s=r?0:2048,{h:a,r:c}=this,u=c[0],d=c[1],h=c[2],p=c[3],m=c[4],y=c[5],w=c[6],E=c[7],v=c[8],_=c[9],S=Rn(e,n+0),N=Rn(e,n+2),x=Rn(e,n+4),P=Rn(e,n+6),T=Rn(e,n+8),A=Rn(e,n+10),R=Rn(e,n+12),M=Rn(e,n+14);let O=a[0]+(S&8191),j=a[1]+((S>>>13|N<<3)&8191),F=a[2]+((N>>>10|x<<6)&8191),ee=a[3]+((x>>>7|P<<9)&8191),ae=a[4]+((P>>>4|T<<12)&8191),G=a[5]+(T>>>1&8191),k=a[6]+((T>>>14|A<<2)&8191),I=a[7]+((A>>>11|R<<5)&8191),z=a[8]+((R>>>8|M<<8)&8191),q=a[9]+(M>>>5|s),H=0,D=H+O*u+j*(5*_)+F*(5*v)+ee*(5*E)+ae*(5*w);H=D>>>13,D&=8191,D+=G*(5*y)+k*(5*m)+I*(5*p)+z*(5*h)+q*(5*d),H+=D>>>13,D&=8191;let Y=H+O*d+j*u+F*(5*_)+ee*(5*v)+ae*(5*E);H=Y>>>13,Y&=8191,Y+=G*(5*w)+k*(5*y)+I*(5*m)+z*(5*p)+q*(5*h),H+=Y>>>13,Y&=8191;let te=H+O*h+j*d+F*u+ee*(5*_)+ae*(5*v);H=te>>>13,te&=8191,te+=G*(5*E)+k*(5*w)+I*(5*y)+z*(5*m)+q*(5*p),H+=te>>>13,te&=8191;let ie=H+O*p+j*h+F*d+ee*u+ae*(5*_);H=ie>>>13,ie&=8191,ie+=G*(5*v)+k*(5*E)+I*(5*w)+z*(5*y)+q*(5*m),H+=ie>>>13,ie&=8191;let J=H+O*m+j*p+F*h+ee*d+ae*u;H=J>>>13,J&=8191,J+=G*(5*_)+k*(5*v)+I*(5*E)+z*(5*w)+q*(5*y),H+=J>>>13,J&=8191;let de=H+O*y+j*m+F*p+ee*h+ae*d;H=de>>>13,de&=8191,de+=G*u+k*(5*_)+I*(5*v)+z*(5*E)+q*(5*w),H+=de>>>13,de&=8191;let me=H+O*w+j*y+F*m+ee*p+ae*h;H=me>>>13,me&=8191,me+=G*d+k*u+I*(5*_)+z*(5*v)+q*(5*E),H+=me>>>13,me&=8191;let qe=H+O*E+j*w+F*y+ee*m+ae*p;H=qe>>>13,qe&=8191,qe+=G*h+k*d+I*u+z*(5*_)+q*(5*v),H+=qe>>>13,qe&=8191;let xe=H+O*v+j*E+F*w+ee*y+ae*m;H=xe>>>13,xe&=8191,xe+=G*p+k*h+I*d+z*u+q*(5*_),H+=xe>>>13,xe&=8191;let Re=H+O*_+j*v+F*E+ee*w+ae*y;H=Re>>>13,Re&=8191,Re+=G*m+k*p+I*h+z*d+q*u,H+=Re>>>13,Re&=8191,H=(H<<2)+H|0,H=H+D|0,D=H&8191,H=H>>>13,Y+=H,a[0]=D,a[1]=Y,a[2]=te,a[3]=ie,a[4]=J,a[5]=de,a[6]=me,a[7]=qe,a[8]=xe,a[9]=Re}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let u=2;u<10;u++)e[u]+=s,s=e[u]>>>13,e[u]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let u=1;u<10;u++)r[u]=e[u]+s,s=r[u]>>>13,r[u]&=8191;r[9]-=8192;let a=(s^1)-1;for(let u=0;u<10;u++)r[u]&=a;a=~a;for(let u=0;u<10;u++)e[u]=e[u]&a|r[u];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let u=1;u<8;u++)c=(e[u]+n[u]|0)+(c>>>16)|0,e[u]=c&65535;tu(r)}update(e){O2(this);const{buffer:n,blockLen:r}=this;e=uv(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);if(c===r){for(;r<=s-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){tu(this.h,this.r,this.buffer,this.pad)}digestInto(e){O2(this),bL(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=r[c]>>>0,e[a++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function $L(t){const e=(r,s)=>t(s).update(uv(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const UL=$L(t=>new DL(t));function kL(t,e,n,r,s,a=20){let c=t[0],u=t[1],d=t[2],h=t[3],p=e[0],m=e[1],y=e[2],w=e[3],E=e[4],v=e[5],_=e[6],S=e[7],N=s,x=n[0],P=n[1],T=n[2],A=c,R=u,M=d,O=h,j=p,F=m,ee=y,ae=w,G=E,k=v,I=_,z=S,q=N,H=x,D=P,Y=T;for(let ie=0;ie<a;ie+=2)A=A+j|0,q=ht(q^A,16),G=G+q|0,j=ht(j^G,12),A=A+j|0,q=ht(q^A,8),G=G+q|0,j=ht(j^G,7),R=R+F|0,H=ht(H^R,16),k=k+H|0,F=ht(F^k,12),R=R+F|0,H=ht(H^R,8),k=k+H|0,F=ht(F^k,7),M=M+ee|0,D=ht(D^M,16),I=I+D|0,ee=ht(ee^I,12),M=M+ee|0,D=ht(D^M,8),I=I+D|0,ee=ht(ee^I,7),O=O+ae|0,Y=ht(Y^O,16),z=z+Y|0,ae=ht(ae^z,12),O=O+ae|0,Y=ht(Y^O,8),z=z+Y|0,ae=ht(ae^z,7),A=A+F|0,Y=ht(Y^A,16),I=I+Y|0,F=ht(F^I,12),A=A+F|0,Y=ht(Y^A,8),I=I+Y|0,F=ht(F^I,7),R=R+ee|0,q=ht(q^R,16),z=z+q|0,ee=ht(ee^z,12),R=R+ee|0,q=ht(q^R,8),z=z+q|0,ee=ht(ee^z,7),M=M+ae|0,H=ht(H^M,16),G=G+H|0,ae=ht(ae^G,12),M=M+ae|0,H=ht(H^M,8),G=G+H|0,ae=ht(ae^G,7),O=O+j|0,D=ht(D^O,16),k=k+D|0,j=ht(j^k,12),O=O+j|0,D=ht(D^O,8),k=k+D|0,j=ht(j^k,7);let te=0;r[te++]=c+A|0,r[te++]=u+R|0,r[te++]=d+M|0,r[te++]=h+O|0,r[te++]=p+j|0,r[te++]=m+F|0,r[te++]=y+ee|0,r[te++]=w+ae|0,r[te++]=E+G|0,r[te++]=v+k|0,r[te++]=_+I|0,r[te++]=S+z|0,r[te++]=N+q|0,r[te++]=x+H|0,r[te++]=P+D|0,r[te++]=T+Y|0}const ML=PL(kL,{counterRight:!1,counterLength:4,allowShortKeys:!1}),jL=new Uint8Array(16),$2=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(jL.subarray(n))},BL=new Uint8Array(32);function U2(t,e,n,r,s){const a=t(e,n,BL),c=UL.create(a);s&&$2(c,s),$2(c,r);const u=new Uint8Array(16),d=wL(u);P2(d,0,BigInt(s?s.length:0),!0),P2(d,8,BigInt(r.length),!0),c.update(u);const h=c.digest();return tu(a,u),h}const LL=t=>(e,n,r)=>({encrypt(s,a){const c=s.length;a=R2(c+16,a,!1),a.set(s);const u=a.subarray(0,-16);t(e,n,u,u,1);const d=U2(t,e,n,u,r);return a.set(d,c),tu(d),a},decrypt(s,a){a=R2(s.length-16,a,!1);const c=s.subarray(0,-16),u=s.subarray(-16),d=U2(t,e,n,c,r);if(!CL(u,d))throw new Error("invalid tag");return a.set(s.subarray(0,-16)),t(e,n,a,a,1),tu(d),a}}),pI=AL({blockSize:64,nonceLength:12,tagLength:16},LL(ML));let gI=class extends CE{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,_E(e);const r=eu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return Jl(this),this.iHash.update(e),this}digestInto(e){Jl(this),Af(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const $m=(t,e,n)=>new gI(t,e).update(n).digest();$m.create=(t,e)=>new gI(t,e);function zL(t,e,n){return _E(t),n===void 0&&(n=new Uint8Array(t.outputLen)),$m(t,eu(n),eu(e))}const Y0=new Uint8Array([0]),k2=new Uint8Array;function FL(t,e,n,r=32){if(_E(t),Eh(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=k2);const a=new Uint8Array(s*t.outputLen),c=$m.create(t,e),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let h=0;h<s;h++)Y0[0]=h+1,u.update(h===0?k2:d).update(n).update(Y0).digestInto(d),a.set(d,t.outputLen*h),c._cloneInto(u);return c.destroy(),u.destroy(),d.fill(0),Y0.fill(0),a.slice(0,r)}const qL=(t,e,n,r,s)=>FL(t,zL(t,e,n),r,s);function HL(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,h=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+h,u,r)}function VL(t,e,n){return t&e^~t&n}function GL(t,e,n){return t&e^t&n^e&n}let WL=class extends CE{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=W0(this.buffer)}update(e){Jl(this);const{view:n,buffer:r,blockLen:s}=this;e=eu(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=W0(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jl(this),nI(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)n[m]=0;HL(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=W0(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const KL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ta=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xa=new Uint32Array(64);class YL extends WL{constructor(){super(64,32,8,!1),this.A=Ta[0]|0,this.B=Ta[1]|0,this.C=Ta[2]|0,this.D=Ta[3]|0,this.E=Ta[4]|0,this.F=Ta[5]|0,this.G=Ta[6]|0,this.H=Ta[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:u,H:d}=this;return[e,n,r,s,a,c,u,d]}set(e,n,r,s,a,c,u,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(e,n){for(let m=0;m<16;m++,n+=4)xa[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const y=xa[m-15],w=xa[m-2],E=Hs(y,7)^Hs(y,18)^y>>>3,v=Hs(w,17)^Hs(w,19)^w>>>10;xa[m]=v+xa[m-7]+E+xa[m-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:d,G:h,H:p}=this;for(let m=0;m<64;m++){const y=Hs(u,6)^Hs(u,11)^Hs(u,25),w=p+y+VL(u,d,h)+KL[m]+xa[m]|0,E=(Hs(r,2)^Hs(r,13)^Hs(r,22))+GL(r,s,a)|0;p=h,h=d,d=u,u=c+w|0,c=a,a=s,s=r,r=w+E|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,d,h,p)}roundClean(){xa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sf=rI(()=>new YL);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Um=BigInt(0),km=BigInt(1),ZL=BigInt(2);function hc(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Nf(t){if(!hc(t))throw new Error("Uint8Array expected")}function nu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const QL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ru(t){Nf(t);let e="";for(let n=0;n<t.length;n++)e+=QL[t[n]];return e}function Ml(t){const e=t.toString(16);return e.length&1?"0"+e:e}function SE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Um:BigInt("0x"+t)}const $i={_0:48,_9:57,A:65,F:70,a:97,f:102};function M2(t){if(t>=$i._0&&t<=$i._9)return t-$i._0;if(t>=$i.A&&t<=$i.F)return t-($i.A-10);if(t>=$i.a&&t<=$i.f)return t-($i.a-10)}function su(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=M2(t.charCodeAt(a)),u=M2(t.charCodeAt(a+1));if(c===void 0||u===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=c*16+u}return r}function nc(t){return SE(ru(t))}function Ch(t){return Nf(t),SE(ru(Uint8Array.from(t).reverse()))}function iu(t,e){return su(t.toString(16).padStart(e*2,"0"))}function Mm(t,e){return iu(t,e).reverse()}function XL(t){return su(Ml(t))}function $r(t,e,n){let r;if(typeof e=="string")try{r=su(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(hc(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function Ah(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Nf(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}function JL(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function e9(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Z0=t=>typeof t=="bigint"&&Um<=t;function jm(t,e,n){return Z0(t)&&Z0(e)&&Z0(n)&&e<=t&&t<n}function Vi(t,e,n,r){if(!jm(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function mI(t){let e;for(e=0;t>Um;t>>=km,e+=1);return e}function t9(t,e){return t>>BigInt(e)&km}function n9(t,e,n){return t|(n?km:Um)<<BigInt(e)}const NE=t=>(ZL<<BigInt(t-1))-km,Q0=t=>new Uint8Array(t),j2=t=>Uint8Array.from(t);function yI(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Q0(t),s=Q0(t),a=0;const c=()=>{r.fill(1),s.fill(0),a=0},u=(...p)=>n(s,r,...p),d=(p=Q0())=>{s=u(j2([0]),p),r=u(),p.length!==0&&(s=u(j2([1]),p),r=u())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=u();const y=r.slice();m.push(y),p+=r.length}return Ah(...m)};return(p,m)=>{c(),d(p);let y;for(;!(y=m(h()));)d();return c(),y}}const r9={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||hc(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Su(t,e,n={}){const r=(s,a,c)=>{const u=r9[a];if(typeof u!="function")throw new Error("invalid validator function");const d=t[s];if(!(c&&d===void 0)&&!u(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+d)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}const s9=()=>{throw new Error("not implemented")};function fv(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}var i9=Object.freeze({__proto__:null,isBytes:hc,abytes:Nf,abool:nu,bytesToHex:ru,numberToHexUnpadded:Ml,hexToNumber:SE,hexToBytes:su,bytesToNumberBE:nc,bytesToNumberLE:Ch,numberToBytesBE:iu,numberToBytesLE:Mm,numberToVarBytesBE:XL,ensureBytes:$r,concatBytes:Ah,equalBytes:JL,utf8ToBytes:e9,inRange:jm,aInRange:Vi,bitLen:mI,bitGet:t9,bitSet:n9,bitMask:NE,createHmacDrbg:yI,validateObject:Su,notImplemented:s9,memoized:fv});const Nn=BigInt(0),Xt=BigInt(1),Fo=BigInt(2),a9=BigInt(3),pv=BigInt(4),B2=BigInt(5),L2=BigInt(8);function mr(t,e){const n=t%e;return n>=Nn?n:e+n}function bI(t,e,n){if(e<Nn)throw new Error("invalid exponent, negatives unsupported");if(n<=Nn)throw new Error("invalid modulus");if(n===Xt)return Nn;let r=Xt;for(;e>Nn;)e&Xt&&(r=r*t%n),t=t*t%n,e>>=Xt;return r}function Cs(t,e,n){let r=t;for(;e-- >Nn;)r*=r,r%=n;return r}function gv(t,e){if(t===Nn)throw new Error("invert: expected non-zero number");if(e<=Nn)throw new Error("invert: expected positive modulus, got "+e);let n=mr(t,e),r=e,s=Nn,a=Xt;for(;n!==Nn;){const c=r/n,u=r%n,d=s-a*c;r=n,n=u,s=a,a=d}if(r!==Xt)throw new Error("invert: does not exist");return mr(s,e)}function o9(t){const e=(t-Xt)/Fo;let n,r,s;for(n=t-Xt,r=0;n%Fo===Nn;n/=Fo,r++);for(s=Fo;s<t&&bI(s,e,t)!==t-Xt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+Xt)/pv;return function(u,d){const h=u.pow(d,c);if(!u.eql(u.sqr(h),d))throw new Error("Cannot find square root");return h}}const a=(n+Xt)/Fo;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=r,h=c.pow(c.mul(c.ONE,s),n),p=c.pow(u,a),m=c.pow(u,n);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let y=1;for(let E=c.sqr(m);y<d&&!c.eql(E,c.ONE);y++)E=c.sqr(E);const w=c.pow(h,Xt<<BigInt(d-y-1));h=c.sqr(w),p=c.mul(p,w),m=c.mul(m,h),d=y}return p}}function c9(t){if(t%pv===a9){const e=(t+Xt)/pv;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%L2===B2){const e=(t-B2)/L2;return function(n,r){const s=n.mul(r,Fo),a=n.pow(s,e),c=n.mul(r,a),u=n.mul(n.mul(c,Fo),a),d=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return o9(t)}const l9=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function u9(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l9.reduce((r,s)=>(r[s]="function",r),e);return Su(t,n)}function d9(t,e,n){if(n<Nn)throw new Error("invalid exponent, negatives unsupported");if(n===Nn)return t.ONE;if(n===Xt)return e;let r=t.ONE,s=e;for(;n>Nn;)n&Xt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Xt;return r}function h9(t,e){const n=new Array(e.length),r=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),s),n}function wI(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vI(t,e,n=!1,r={}){if(t<=Nn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=wI(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:NE(s),ZERO:Nn,ONE:Xt,create:d=>mr(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Nn<=d&&d<t},is0:d=>d===Nn,isOdd:d=>(d&Xt)===Xt,neg:d=>mr(-d,t),eql:(d,h)=>d===h,sqr:d=>mr(d*d,t),add:(d,h)=>mr(d+h,t),sub:(d,h)=>mr(d-h,t),mul:(d,h)=>mr(d*h,t),pow:(d,h)=>d9(u,d,h),div:(d,h)=>mr(d*gv(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>gv(d,t),sqrt:r.sqrt||(d=>(c||(c=c9(t)),c(u,d))),invertBatch:d=>h9(u,d),cmov:(d,h,p)=>p?h:d,toBytes:d=>n?Mm(d,a):iu(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?Ch(d):nc(d)}});return Object.freeze(u)}function EI(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function _I(t){const e=EI(t);return e+Math.ceil(e/2)}function f9(t,e,n=!1){const r=t.length,s=EI(e),a=_I(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const c=n?Ch(t):nc(t),u=mr(c,e-Xt)+Xt;return n?Mm(u,s):iu(u,s)}const z2=BigInt(0),cg=BigInt(1);function X0(t,e){const n=e.negate();return t?n:e}function CI(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function J0(t,e){CI(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function p9(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function g9(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ew=new WeakMap,AI=new WeakMap;function tw(t){return AI.get(t)||1}function m9(t,e){return{constTimeNegate:X0,hasPrecomputes(n){return tw(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>z2;)r&cg&&(s=s.add(a)),a=a.double(),r>>=cg;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=J0(r,e),c=[];let u=n,d=u;for(let h=0;h<s;h++){d=u,c.push(d);for(let p=1;p<a;p++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=J0(n,e);let u=t.ZERO,d=t.BASE;const h=BigInt(2**n-1),p=2**n,m=BigInt(n);for(let y=0;y<a;y++){const w=y*c;let E=Number(s&h);s>>=m,E>c&&(E-=p,s+=cg);const v=w,_=w+Math.abs(E)-1,S=y%2!==0,N=E<0;E===0?d=d.add(X0(S,r[v])):u=u.add(X0(N,r[_]))}return{p:u,f:d}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:u}=J0(n,e),d=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let m=0;m<c;m++){const y=m*u;if(s===z2)break;let w=Number(s&d);if(s>>=p,w>u&&(w-=h,s+=cg),w===0)continue;let E=r[y+Math.abs(w)-1];w<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(n,r,s){let a=ew.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&ew.set(r,s(a))),a},wNAFCached(n,r,s){const a=tw(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=tw(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){CI(r,e),AI.set(n,r),ew.delete(n)}}}function y9(t,e,n,r){if(p9(n,t),g9(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=mI(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,d=new Array(u+1).fill(s),h=Math.floor((e.BITS-1)/c)*c;let p=s;for(let m=h;m>=0;m-=c){d.fill(s);for(let w=0;w<r.length;w++){const E=r[w],v=Number(E>>BigInt(m)&BigInt(u));d[v]=d[v].add(n[w])}let y=s;for(let w=d.length-1,E=s;w>0;w--)E=E.add(d[w]),y=y.add(E);if(p=p.add(y),m!==0)for(let w=0;w<c;w++)p=p.double()}return p}function SI(t){return u9(t.Fp),Su(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wI(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const yl=BigInt(0),nw=BigInt(1);function b9(t){return Su(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function w9(t){const e=b9(t),{P:n}=e,r=N=>mr(N,n),s=e.montgomeryBits,a=Math.ceil(s/8),c=e.nByteLength,u=e.adjustScalarBytes||(N=>N),d=e.powPminus2||(N=>bI(N,n-BigInt(2),n));function h(N,x,P){const T=r(N*(x-P));return x=r(x-T),P=r(P+T),[x,P]}const p=(e.a-BigInt(2))/BigInt(4);function m(N,x){Vi("u",N,yl,n),Vi("scalar",x,yl,n);const P=x,T=N;let A=nw,R=yl,M=N,O=nw,j=yl,F;for(let ae=BigInt(s-1);ae>=yl;ae--){const G=P>>ae&nw;j^=G,F=h(j,A,M),A=F[0],M=F[1],F=h(j,R,O),R=F[0],O=F[1],j=G;const k=A+R,I=r(k*k),z=A-R,q=r(z*z),H=I-q,D=M+O,Y=M-O,te=r(Y*k),ie=r(D*z),J=te+ie,de=te-ie;M=r(J*J),O=r(T*r(de*de)),A=r(I*q),R=r(H*(I+r(p*H)))}F=h(j,A,M),A=F[0],M=F[1],F=h(j,R,O),R=F[0],O=F[1];const ee=d(R);return r(A*ee)}function y(N){return Mm(r(N),a)}function w(N){const x=$r("u coordinate",N,a);return c===32&&(x[31]&=127),Ch(x)}function E(N){const x=$r("scalar",N),P=x.length;if(P!==a&&P!==c){let T=""+a+" or "+c;throw new Error("invalid scalar, expected "+T+" bytes, got "+P)}return Ch(u(x))}function v(N,x){const P=w(x),T=E(N),A=m(P,T);if(A===yl)throw new Error("invalid private or public key received");return y(A)}const _=y(e.Gu);function S(N){return v(N,_)}return{scalarMult:v,scalarMultBase:S,getSharedSecret:(N,x)=>v(N,x),getPublicKey:N=>S(N),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:_}}const mv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const v9=BigInt(1),F2=BigInt(2),E9=BigInt(3),_9=BigInt(5);BigInt(8);function C9(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=mv,c=t*t%a*t%a,u=Cs(c,F2,a)*c%a,d=Cs(u,v9,a)*t%a,h=Cs(d,_9,a)*d%a,p=Cs(h,e,a)*h%a,m=Cs(p,n,a)*p%a,y=Cs(m,r,a)*m%a,w=Cs(y,s,a)*y%a,E=Cs(w,s,a)*y%a,v=Cs(E,e,a)*h%a;return{pow_p_5_8:Cs(v,F2,a)*t%a,b2:c}}function A9(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const yv=w9({P:mv,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=mv,{pow_p_5_8:n,b2:r}=C9(t);return mr(Cs(n,E9,e)*r,e)},adjustScalarBytes:A9,randomBytes:Au});function q2(t){t.lowS!==void 0&&nu("lowS",t.lowS),t.prehash!==void 0&&nu("prehash",t.prehash)}function S9(t){const e=SI(t);Su(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:N9,hexToBytes:T9}=i9;class x9 extends Error{constructor(e=""){super(e)}}const Li={Err:x9,_tlv:{encode:(t,e)=>{const{Err:n}=Li;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Ml(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Ml(s.length/2|128):"";return Ml(t)+a+s+e},decode(t,e){const{Err:n}=Li;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let c=0;if(!a)c=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+d);if(h.length!==d)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of h)c=c<<8|p;if(r+=d,c<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+c)}}},_int:{encode(t){const{Err:e}=Li;if(t<qi)throw new e("integer: negative integers are not allowed");let n=Ml(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Li;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return N9(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Li,s=typeof t=="string"?T9(t):t;Nf(s);const{v:a,l:c}=r.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:d}=r.decode(2,a),{v:h,l:p}=r.decode(2,d);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(h)}},hexFromSig(t){const{_tlv:e,_int:n}=Li,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}},qi=BigInt(0),En=BigInt(1);BigInt(2);const H2=BigInt(3);BigInt(4);function O9(t){const e=S9(t),{Fp:n}=e,r=vI(e.n,e.nBitLength),s=e.toBytes||((v,_,S)=>{const N=_.toAffine();return Ah(Uint8Array.from([4]),n.toBytes(N.x),n.toBytes(N.y))}),a=e.fromBytes||(v=>{const _=v.subarray(1),S=n.fromBytes(_.subarray(0,n.BYTES)),N=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:S,y:N}});function c(v){const{a:_,b:S}=e,N=n.sqr(v),x=n.mul(N,v);return n.add(n.add(x,n.mul(v,_)),S)}if(!n.eql(n.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function u(v){return jm(v,En,e.n)}function d(v){const{allowedPrivateKeyLengths:_,nByteLength:S,wrapPrivateKey:N,n:x}=e;if(_&&typeof v!="bigint"){if(hc(v)&&(v=ru(v)),typeof v!="string"||!_.includes(v.length))throw new Error("invalid private key");v=v.padStart(S*2,"0")}let P;try{P=typeof v=="bigint"?v:nc($r("private key",v,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof v)}return N&&(P=mr(P,x)),Vi("private key",P,En,x),P}function h(v){if(!(v instanceof y))throw new Error("ProjectivePoint expected")}const p=fv((v,_)=>{const{px:S,py:N,pz:x}=v;if(n.eql(x,n.ONE))return{x:S,y:N};const P=v.is0();_==null&&(_=P?n.ONE:n.inv(x));const T=n.mul(S,_),A=n.mul(N,_),R=n.mul(x,_);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:T,y:A}}),m=fv(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:_,y:S}=v.toAffine();if(!n.isValid(_)||!n.isValid(S))throw new Error("bad point: x or y not FE");const N=n.sqr(S),x=c(_);if(!n.eql(N,x))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(_,S,N){if(this.px=_,this.py=S,this.pz=N,_==null||!n.isValid(_))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(N==null||!n.isValid(N))throw new Error("z required");Object.freeze(this)}static fromAffine(_){const{x:S,y:N}=_||{};if(!_||!n.isValid(S)||!n.isValid(N))throw new Error("invalid affine point");if(_ instanceof y)throw new Error("projective point not allowed");const x=P=>n.eql(P,n.ZERO);return x(S)&&x(N)?y.ZERO:new y(S,N,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const S=n.invertBatch(_.map(N=>N.pz));return _.map((N,x)=>N.toAffine(S[x])).map(y.fromAffine)}static fromHex(_){const S=y.fromAffine(a($r("pointHex",_)));return S.assertValidity(),S}static fromPrivateKey(_){return y.BASE.multiply(d(_))}static msm(_,S){return y9(y,r,_,S)}_setWindowSize(_){E.setWindowSize(this,_)}assertValidity(){m(this)}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){h(_);const{px:S,py:N,pz:x}=this,{px:P,py:T,pz:A}=_,R=n.eql(n.mul(S,A),n.mul(P,x)),M=n.eql(n.mul(N,A),n.mul(T,x));return R&&M}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:S}=e,N=n.mul(S,H2),{px:x,py:P,pz:T}=this;let A=n.ZERO,R=n.ZERO,M=n.ZERO,O=n.mul(x,x),j=n.mul(P,P),F=n.mul(T,T),ee=n.mul(x,P);return ee=n.add(ee,ee),M=n.mul(x,T),M=n.add(M,M),A=n.mul(_,M),R=n.mul(N,F),R=n.add(A,R),A=n.sub(j,R),R=n.add(j,R),R=n.mul(A,R),A=n.mul(ee,A),M=n.mul(N,M),F=n.mul(_,F),ee=n.sub(O,F),ee=n.mul(_,ee),ee=n.add(ee,M),M=n.add(O,O),O=n.add(M,O),O=n.add(O,F),O=n.mul(O,ee),R=n.add(R,O),F=n.mul(P,T),F=n.add(F,F),O=n.mul(F,ee),A=n.sub(A,O),M=n.mul(F,j),M=n.add(M,M),M=n.add(M,M),new y(A,R,M)}add(_){h(_);const{px:S,py:N,pz:x}=this,{px:P,py:T,pz:A}=_;let R=n.ZERO,M=n.ZERO,O=n.ZERO;const j=e.a,F=n.mul(e.b,H2);let ee=n.mul(S,P),ae=n.mul(N,T),G=n.mul(x,A),k=n.add(S,N),I=n.add(P,T);k=n.mul(k,I),I=n.add(ee,ae),k=n.sub(k,I),I=n.add(S,x);let z=n.add(P,A);return I=n.mul(I,z),z=n.add(ee,G),I=n.sub(I,z),z=n.add(N,x),R=n.add(T,A),z=n.mul(z,R),R=n.add(ae,G),z=n.sub(z,R),O=n.mul(j,I),R=n.mul(F,G),O=n.add(R,O),R=n.sub(ae,O),O=n.add(ae,O),M=n.mul(R,O),ae=n.add(ee,ee),ae=n.add(ae,ee),G=n.mul(j,G),I=n.mul(F,I),ae=n.add(ae,G),G=n.sub(ee,G),G=n.mul(j,G),I=n.add(I,G),ee=n.mul(ae,I),M=n.add(M,ee),ee=n.mul(z,I),R=n.mul(k,R),R=n.sub(R,ee),ee=n.mul(k,ae),O=n.mul(z,O),O=n.add(O,ee),new y(R,M,O)}subtract(_){return this.add(_.negate())}is0(){return this.equals(y.ZERO)}wNAF(_){return E.wNAFCached(this,_,y.normalizeZ)}multiplyUnsafe(_){const{endo:S,n:N}=e;Vi("scalar",_,qi,N);const x=y.ZERO;if(_===qi)return x;if(this.is0()||_===En)return this;if(!S||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,_,y.normalizeZ);let{k1neg:P,k1:T,k2neg:A,k2:R}=S.splitScalar(_),M=x,O=x,j=this;for(;T>qi||R>qi;)T&En&&(M=M.add(j)),R&En&&(O=O.add(j)),j=j.double(),T>>=En,R>>=En;return P&&(M=M.negate()),A&&(O=O.negate()),O=new y(n.mul(O.px,S.beta),O.py,O.pz),M.add(O)}multiply(_){const{endo:S,n:N}=e;Vi("scalar",_,En,N);let x,P;if(S){const{k1neg:T,k1:A,k2neg:R,k2:M}=S.splitScalar(_);let{p:O,f:j}=this.wNAF(A),{p:F,f:ee}=this.wNAF(M);O=E.constTimeNegate(T,O),F=E.constTimeNegate(R,F),F=new y(n.mul(F.px,S.beta),F.py,F.pz),x=O.add(F),P=j.add(ee)}else{const{p:T,f:A}=this.wNAF(_);x=T,P=A}return y.normalizeZ([x,P])[0]}multiplyAndAddUnsafe(_,S,N){const x=y.BASE,P=(A,R)=>R===qi||R===En||!A.equals(x)?A.multiplyUnsafe(R):A.multiply(R),T=P(this,S).add(P(_,N));return T.is0()?void 0:T}toAffine(_){return p(this,_)}isTorsionFree(){const{h:_,isTorsionFree:S}=e;if(_===En)return!0;if(S)return S(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:S}=e;return _===En?this:S?S(y,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return nu("isCompressed",_),this.assertValidity(),s(y,this,_)}toHex(_=!0){return nu("isCompressed",_),ru(this.toRawBytes(_))}}y.BASE=new y(e.Gx,e.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,E=m9(y,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:u}}function I9(t){const e=SI(t);return Su(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function R9(t){const e=I9(t),{Fp:n,n:r}=e,s=n.BYTES+1,a=2*n.BYTES+1;function c(G){return mr(G,r)}function u(G){return gv(G,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:m}=O9({...e,toBytes(G,k,I){const z=k.toAffine(),q=n.toBytes(z.x),H=Ah;return nu("isCompressed",I),I?H(Uint8Array.from([k.hasEvenY()?2:3]),q):H(Uint8Array.from([4]),q,n.toBytes(z.y))},fromBytes(G){const k=G.length,I=G[0],z=G.subarray(1);if(k===s&&(I===2||I===3)){const q=nc(z);if(!jm(q,En,n.ORDER))throw new Error("Point is not on curve");const H=p(q);let D;try{D=n.sqrt(H)}catch(te){const ie=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ie)}const Y=(D&En)===En;return(I&1)===1!==Y&&(D=n.neg(D)),{x:q,y:D}}else if(k===a&&I===4){const q=n.fromBytes(z.subarray(0,n.BYTES)),H=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:q,y:H}}else{const q=s,H=a;throw new Error("invalid Point, expected length of "+q+", or uncompressed "+H+", got "+k)}}}),y=G=>ru(iu(G,e.nByteLength));function w(G){const k=r>>En;return G>k}function E(G){return w(G)?c(-G):G}const v=(G,k,I)=>nc(G.slice(k,I));class _{constructor(k,I,z){this.r=k,this.s=I,this.recovery=z,this.assertValidity()}static fromCompact(k){const I=e.nByteLength;return k=$r("compactSignature",k,I*2),new _(v(k,0,I),v(k,I,2*I))}static fromDER(k){const{r:I,s:z}=Li.toSig($r("DER",k));return new _(I,z)}assertValidity(){Vi("r",this.r,En,r),Vi("s",this.s,En,r)}addRecoveryBit(k){return new _(this.r,this.s,k)}recoverPublicKey(k){const{r:I,s:z,recovery:q}=this,H=A($r("msgHash",k));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const D=q===2||q===3?I+e.n:I;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=(q&1)===0?"02":"03",te=d.fromHex(Y+y(D)),ie=u(D),J=c(-H*ie),de=c(z*ie),me=d.BASE.multiplyAndAddUnsafe(te,J,de);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return su(this.toDERHex())}toDERHex(){return Li.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return su(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const S={isValidPrivateKey(G){try{return h(G),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const G=_I(e.n);return f9(e.randomBytes(G),e.n)},precompute(G=8,k=d.BASE){return k._setWindowSize(G),k.multiply(BigInt(3)),k}};function N(G,k=!0){return d.fromPrivateKey(G).toRawBytes(k)}function x(G){const k=hc(G),I=typeof G=="string",z=(k||I)&&G.length;return k?z===s||z===a:I?z===2*s||z===2*a:G instanceof d}function P(G,k,I=!0){if(x(G))throw new Error("first arg must be private key");if(!x(k))throw new Error("second arg must be public key");return d.fromHex(k).multiply(h(G)).toRawBytes(I)}const T=e.bits2int||function(G){if(G.length>8192)throw new Error("input is too large");const k=nc(G),I=G.length*8-e.nBitLength;return I>0?k>>BigInt(I):k},A=e.bits2int_modN||function(G){return c(T(G))},R=NE(e.nBitLength);function M(G){return Vi("num < 2^"+e.nBitLength,G,qi,R),iu(G,e.nByteLength)}function O(G,k,I=j){if(["recovered","canonical"].some(xe=>xe in I))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:q}=e;let{lowS:H,prehash:D,extraEntropy:Y}=I;H==null&&(H=!0),G=$r("msgHash",G),q2(I),D&&(G=$r("prehashed msgHash",z(G)));const te=A(G),ie=h(k),J=[M(ie),M(te)];if(Y!=null&&Y!==!1){const xe=Y===!0?q(n.BYTES):Y;J.push($r("extraEntropy",xe))}const de=Ah(...J),me=te;function qe(xe){const Re=T(xe);if(!m(Re))return;const Ke=u(Re),Et=d.BASE.multiply(Re).toAffine(),Kt=c(Et.x);if(Kt===qi)return;const Yt=c(Ke*c(me+Kt*ie));if(Yt===qi)return;let Tn=(Et.x===Kt?0:2)|Number(Et.y&En),ps=Yt;return H&&w(Yt)&&(ps=E(Yt),Tn^=1),new _(Kt,ps,Tn)}return{seed:de,k2sig:qe}}const j={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function ee(G,k,I=j){const{seed:z,k2sig:q}=O(G,k,I),H=e;return yI(H.hash.outputLen,H.nByteLength,H.hmac)(z,q)}d.BASE._setWindowSize(8);function ae(G,k,I,z=F){var Yt;const q=G;k=$r("msgHash",k),I=$r("publicKey",I);const{lowS:H,prehash:D,format:Y}=z;if(q2(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const te=typeof q=="string"||hc(q),ie=!te&&!Y&&typeof q=="object"&&q!==null&&typeof q.r=="bigint"&&typeof q.s=="bigint";if(!te&&!ie)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,de;try{if(ie&&(J=new _(q.r,q.s)),te){try{Y!=="compact"&&(J=_.fromDER(q))}catch(Tn){if(!(Tn instanceof Li.Err))throw Tn}!J&&Y!=="der"&&(J=_.fromCompact(q))}de=d.fromHex(I)}catch{return!1}if(!J||H&&J.hasHighS())return!1;D&&(k=e.hash(k));const{r:me,s:qe}=J,xe=A(k),Re=u(qe),Ke=c(xe*Re),Et=c(me*Re),Kt=(Yt=d.BASE.multiplyAndAddUnsafe(de,Ke,Et))==null?void 0:Yt.toAffine();return Kt?c(Kt.x)===me:!1}return{CURVE:e,getPublicKey:N,getSharedSecret:P,sign:ee,verify:ae,ProjectivePoint:d,Signature:_,utils:S}}function P9(t){return{hash:t,hmac:(e,...n)=>$m(t,e,kB(...n)),randomBytes:Au}}function D9(t,e){const n=r=>R9({...t,...P9(r)});return{...n(e),create:n}}const NI=vI(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),$9=NI.create(BigInt("-3")),U9=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),k9=D9({a:$9,b:U9,Fp:NI,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Sf),TI="base10",rr="base16",Is="base64pad",ka="base64url",Tf="utf8",xI=0,Gi=1,xf=2,M9=0,V2=1,ah=12,TE=32;function j9(){const t=yv.utils.randomPrivateKey(),e=yv.getPublicKey(t);return{privateKey:yr(t,rr),publicKey:yr(e,rr)}}function bv(){const t=Au(TE);return yr(t,rr)}function B9(t,e){const n=yv.getSharedSecret(as(t,rr),as(e,rr)),r=qL(Sf,n,void 0,void 0,TE);return yr(r,rr)}function Pg(t){const e=Sf(as(t,rr));return yr(e,rr)}function ti(t){const e=Sf(as(t,Tf));return yr(e,rr)}function OI(t){return as(`${t}`,TI)}function fc(t){return Number(yr(t,TI))}function II(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function RI(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function L9(t){const e=OI(typeof t.type<"u"?t.type:xI);if(fc(e)===Gi&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?as(t.senderPublicKey,rr):void 0,r=typeof t.iv<"u"?as(t.iv,rr):Au(ah),s=as(t.symKey,rr),a=pI(s,r).encrypt(as(t.message,Tf)),c=PI({type:e,sealed:a,iv:r,senderPublicKey:n});return t.encoding===ka?II(c):c}function z9(t){const e=as(t.symKey,rr),{sealed:n,iv:r}=Sh({encoded:t.encoded,encoding:t.encoding}),s=pI(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return yr(s,Tf)}function F9(t,e){const n=OI(xf),r=Au(ah),s=as(t,Tf),a=PI({type:n,sealed:s,iv:r});return e===ka?II(a):a}function q9(t,e){const{sealed:n}=Sh({encoded:t,encoding:e});return yr(n,Tf)}function PI(t){if(fc(t.type)===xf)return yr(ih([t.type,t.sealed]),Is);if(fc(t.type)===Gi){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return yr(ih([t.type,t.senderPublicKey,t.iv,t.sealed]),Is)}return yr(ih([t.type,t.iv,t.sealed]),Is)}function Sh(t){const e=(t.encoding||Is)===ka?RI(t.encoded):t.encoded,n=as(e,Is),r=n.slice(M9,V2),s=V2;if(fc(r)===Gi){const d=s+TE,h=d+ah,p=n.slice(s,d),m=n.slice(d,h),y=n.slice(h);return{type:r,sealed:y,iv:m,senderPublicKey:p}}if(fc(r)===xf){const d=n.slice(s),h=Au(ah);return{type:r,sealed:d,iv:h}}const a=s+ah,c=n.slice(s,a),u=n.slice(a);return{type:r,sealed:u,iv:c}}function H9(t,e){const n=Sh({encoded:t,encoding:e==null?void 0:e.encoding});return DI({type:fc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?yr(n.senderPublicKey,rr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function DI(t){const e=(t==null?void 0:t.type)||xI;if(e===Gi){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function G2(t){return t.type===Gi&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function W2(t){return t.type===xf}function V9(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return ih([new Uint8Array([4]),e,n])}function G9(t,e){const[n,r,s]=t.split("."),a=Buffer.from(RI(s),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),u=a.slice(32,64),d=`${n}.${r}`,h=Sf(d),p=V9(e);if(!k9.verify(ih([c,u]),h,p))throw new Error("Invalid signature");return ev(t).payload}const W9="irn";function Zg(t){return(t==null?void 0:t.relay)||{protocol:W9}}function Jd(t){const e=Xj[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function K9(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const a=s.replace(r,""),c=t[s];n[a]=c}}),n}function K2(t){if(!t.includes("wc:")){const h=tI(t);h!=null&&h.includes("wc:")&&(t=h)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",c=new URLSearchParams(a),u={};c.forEach((h,p)=>{u[p]=h});const d=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:r,topic:Y9(s[0]),version:parseInt(s[1],10),symKey:u.symKey,relay:K9(u),methods:d,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function Y9(t){return t.startsWith("//")?t.substring(2):t}function Z9(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const a=s,c=n+e+a;t[a]&&(r[c]=t[a])}),r}function Y2(t){const e=new URLSearchParams,n=Z9(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function lg(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Nu(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function Q9(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Nu(n.accounts))}),e}function X9(t,e){const n=[];return Object.values(t).forEach(r=>{Nu(r.accounts).includes(e)&&n.push(...r.methods)}),n}function J9(t,e){const n=[];return Object.values(t).forEach(r=>{Nu(r.accounts).includes(e)&&n.push(...r.events)}),n}function xE(t){return t.includes(":")}function eh(t){return xE(t)?t.split(":")[0]:t}function e7(t){const e={};return t==null||t.forEach(n=>{var r;const[s,a]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${a}`)}),e}function Z2(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=e7(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Ig(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}const t7={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},n7={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ye(t,e){const{message:n,code:r}=n7[t];return{message:e?`${n} ${e}`:n,code:r}}function St(t,e){const{message:n,code:r}=t7[t];return{message:e?`${n} ${e}`:n,code:r}}function Ya(t,e){return!!Array.isArray(t)}function Nh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Un(t){return typeof t>"u"}function sn(t,e){return e&&Un(t)?!0:typeof t=="string"&&!!t.trim().length}function OE(t,e){return e&&Un(t)?!0:typeof t=="number"&&!isNaN(t)}function r7(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let a=!0;return Vo(s,r)?(r.forEach(c=>{const{accounts:u,methods:d,events:h}=t.namespaces[c],p=Nu(u),m=n[c];(!Vo(ZO(c,m),p)||!Vo(m.methods,d)||!Vo(m.events,h))&&(a=!1)}),a):!1}function Qg(t){return sn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function s7(t){if(sn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Qg(n)}}return!1}function i7(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(sn(t,!1)){if(e(t))return!0;const n=tI(t);return e(n)}}catch{}return!1}function a7(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function o7(t){return t==null?void 0:t.topic}function c7(t,e){let n=null;return sn(t==null?void 0:t.publicKey,!1)||(n=ye("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Q2(t){let e=!0;return Ya(t)?t.length&&(e=t.every(n=>sn(n,!1))):e=!1,e}function l7(t,e,n){let r=null;return Ya(e)&&e.length?e.forEach(s=>{r||Qg(s)||(r=St("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Qg(t)||(r=St("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function u7(t,e,n){let r=null;return Object.entries(t).forEach(([s,a])=>{if(r)return;const c=l7(s,ZO(s,a),`${e} ${n}`);c&&(r=c)}),r}function d7(t,e){let n=null;return Ya(t)?t.forEach(r=>{n||s7(r)||(n=St("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=St("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function h7(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=d7(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function f7(t,e){let n=null;return Q2(t==null?void 0:t.methods)?Q2(t==null?void 0:t.events)||(n=St("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=St("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function $I(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=f7(r,`${e}, namespace`);s&&(n=s)}),n}function p7(t,e,n){let r=null;if(t&&Nh(t)){const s=$I(t,e);s&&(r=s);const a=u7(t,e,n);a&&(r=a)}else r=ye("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function rw(t,e){let n=null;if(t&&Nh(t)){const r=$I(t,e);r&&(n=r);const s=h7(t,e);s&&(n=s)}else n=ye("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function UI(t){return sn(t.protocol,!0)}function g7(t,e){let n=!1;return t?t&&Ya(t)&&t.length&&t.forEach(r=>{n=UI(r)}):n=!0,n}function m7(t){return typeof t=="number"}function pr(t){return typeof t<"u"&&typeof t!==null}function y7(t){return!(!t||typeof t!="object"||!t.code||!OE(t.code,!1)||!t.message||!sn(t.message,!1))}function b7(t){return!(Un(t)||!sn(t.method,!1))}function w7(t){return!(Un(t)||Un(t.result)&&Un(t.error)||!OE(t.id,!1)||!sn(t.jsonrpc,!1))}function v7(t){return!(Un(t)||!sn(t.name,!1))}function X2(t,e){return!(!Qg(e)||!Q9(t).includes(e))}function E7(t,e,n){return sn(n,!1)?X9(t,e).includes(n):!1}function _7(t,e,n){return sn(n,!1)?J9(t,e).includes(n):!1}function J2(t,e,n){let r=null;const s=C7(t),a=A7(e),c=Object.keys(s),u=Object.keys(a),d=eN(Object.keys(t)),h=eN(Object.keys(e)),p=d.filter(m=>!h.includes(m));return p.length&&(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Vo(c,u)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||r)return;const y=Nu(e[m].accounts);y.includes(m)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${y.toString()}`))}),c.forEach(m=>{r||(Vo(s[m].methods,a[m].methods)?Vo(s[m].events,a[m].events)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${m}`)):r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${m}`))}),r}function C7(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function eN(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function A7(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Nu(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(a=>a.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function S7(t,e){return OE(t,!1)&&t<=e.max&&t>=e.min}function tN(){const t=Cf();return new Promise(e=>{switch(t){case Mr.browser:e(N7());break;case Mr.reactNative:e(T7());break;case Mr.node:e(x7());break;default:e(!0)}})}function N7(){return _f()&&(navigator==null?void 0:navigator.onLine)}async function T7(){if(ao()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function x7(){return!0}function O7(t){switch(Cf()){case Mr.browser:I7(t);break;case Mr.reactNative:R7(t);break}}function I7(t){!ao()&&_f()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function R7(t){ao()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const sw={};class Ld{static get(e){return sw[e]}static set(e,n){sw[e]=n}static delete(e){delete sw[e]}}const P7="PARSE_ERROR",D7="INVALID_REQUEST",$7="METHOD_NOT_FOUND",U7="INVALID_PARAMS",kI="INTERNAL_ERROR",IE="SERVER_ERROR",k7=[-32700,-32600,-32601,-32602,-32603],oh={[P7]:{code:-32700,message:"Parse error"},[D7]:{code:-32600,message:"Invalid Request"},[$7]:{code:-32601,message:"Method not found"},[U7]:{code:-32602,message:"Invalid params"},[kI]:{code:-32603,message:"Internal error"},[IE]:{code:-32e3,message:"Server error"}},MI=IE;function M7(t){return k7.includes(t)}function nN(t){return Object.keys(oh).includes(t)?oh[t]:oh[MI]}function j7(t){const e=Object.values(oh).find(n=>n.code===t);return e||oh[MI]}function jI(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var iw={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wv=function(t,e){return wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},wv(t,e)};function B7(t,e){wv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vv=function(){return vv=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vv.apply(this,arguments)};function L7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function z7(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function F7(t,e){return function(n,r){e(n,r,t)}}function q7(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function H7(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(p){try{h(r.next(p))}catch(m){c(m)}}function d(p){try{h(r.throw(p))}catch(m){c(m)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(t,e||[])).next())})}function V7(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return d([h,p])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=h[0]&2?s.return:h[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,h[1])).done)return a;switch(s=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],s=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function G7(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function W7(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ev(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BI(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function K7(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BI(arguments[e]));return t}function Y7(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,s++)r[s]=a[c];return r}function Th(t){return this instanceof Th?(this.v=t,this):new Th(t)}function Z7(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(w){return new Promise(function(E,v){a.push([y,w,E,v])>1||u(y,w)})})}function u(y,w){try{d(r[y](w))}catch(E){m(a[0][3],E)}}function d(y){y.value instanceof Th?Promise.resolve(y.value.v).then(h,p):m(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,w){y(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Q7(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:Th(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function X7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ev=="function"?Ev(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(u,d){c=t[a](c),s(u,d,c.done,c.value)})}}function s(a,c,u,d){Promise.resolve(d).then(function(h){a({value:h,done:u})},c)}}function J7(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function ez(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function tz(t){return t&&t.__esModule?t:{default:t}}function nz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function rz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const sz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return vv},__asyncDelegator:Q7,__asyncGenerator:Z7,__asyncValues:X7,__await:Th,__awaiter:H7,__classPrivateFieldGet:nz,__classPrivateFieldSet:rz,__createBinding:G7,__decorate:z7,__exportStar:W7,__extends:B7,__generator:V7,__importDefault:tz,__importStar:ez,__makeTemplateObject:J7,__metadata:q7,__param:F7,__read:BI,__rest:L7,__spread:K7,__spreadArrays:Y7,__values:Ev},Symbol.toStringTag,{value:"Module"})),iz=Ox(sz);var Ui={},rN;function az(){if(rN)return Ui;rN=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.isBrowserCryptoAvailable=Ui.getSubtleCrypto=Ui.getBrowerCrypto=void 0;function t(){return(ei==null?void 0:ei.crypto)||(ei==null?void 0:ei.msCrypto)||{}}Ui.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ui.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ui.isBrowserCryptoAvailable=n,Ui}var ki={},sN;function oz(){if(sN)return ki;sN=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.isBrowser=ki.isNode=ki.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ki.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ki.isNode=e;function n(){return!t()&&!e()}return ki.isBrowser=n,ki}var iN;function cz(){return iN||(iN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=iz;e.__exportStar(az(),t),e.__exportStar(oz(),t)}(iw)),iw}var lz=cz();function Ys(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Go(t=6){return BigInt(Ys(t))}function Va(t,e,n){return{id:n||Ys(),jsonrpc:"2.0",method:t,params:e}}function Bm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Lm(t,e,n){return{id:t,jsonrpc:"2.0",error:uz(e)}}function uz(t,e){return typeof t>"u"?nN(kI):(typeof t=="string"&&(t=Object.assign(Object.assign({},nN(IE)),{message:t})),M7(t.code)&&(t=j7(t.code)),t)}let dz=class{},hz=class extends dz{constructor(){super()}},fz=class extends hz{constructor(e){super()}};const pz="^https?:",gz="^wss?:";function mz(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function LI(t,e){const n=mz(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function aN(t){return LI(t,pz)}function oN(t){return LI(t,gz)}function yz(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function zI(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function RE(t){return zI(t)&&"method"in t}function zm(t){return zI(t)&&(Zs(t)||is(t))}function Zs(t){return"result"in t}function is(t){return"error"in t}let hs=class extends fz{constructor(e){super(e),this.events=new us.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Va(e.method,e.params||[],e.id||Go().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{is(a)?s(a.error):r(a.result)});try{await this.connection.send(e,n)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),zm(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bz=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),wz=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",cN=t=>t.split("?")[0],lN=10,vz=bz();let Ez=class{constructor(e){if(this.url=e,this.events=new us.EventEmitter,this.registering=!1,!oN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Yi(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!oN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=lz.isReactNative()?void 0:{rejectUnauthorized:!yz(e)},a=new vz(e,[],s);wz()?a.onerror=c=>{const u=c;r(this.emitError(u.error))}:a.on("error",c=>{r(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?cc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=Lm(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return jI(e,cN(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>lN&&this.events.setMaxListeners(lN)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${cN(this.url)}`));return this.events.emit("register_error",n),n}};var _z={};const FI="wc",qI=2,_v="core",ii=`${FI}@2:${_v}:`,Cz={logger:"error"},Az={database:":memory:"},Sz="crypto",uN="client_ed25519_seed",Nz=ge.ONE_DAY,Tz="keychain",xz="0.3",Oz="messages",Iz="0.3",dN=ge.SIX_HOURS,Rz="publisher",HI="irn",Pz="error",VI="wss://relay.walletconnect.org",Dz="relayer",Cn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},$z="_subscription",Xr={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Uz=.1,Cv="2.20.2",Ut={link_mode:"link_mode",relay:"relay"},Dg={inbound:"inbound",outbound:"outbound"},kz="0.3",Mz="WALLETCONNECT_CLIENT_ID",hN="WALLETCONNECT_LINK_MODE_APPS",Dr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},jz="subscription",Bz="0.3",Lz="pairing",zz="0.3",zd={wc_pairingDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:0},res:{ttl:ge.ONE_DAY,prompt:!1,tag:0}}},qo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},vs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Fz="history",qz="0.3",Hz="expirer",rs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Vz="0.3",Gz="verify-api",Wz="https://verify.walletconnect.com",GI="https://verify.walletconnect.org",ch=GI,Kz=`${ch}/v3`,Yz=[Wz,GI],Zz="echo",Qz="https://echo.walletconnect.com",Ks={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ji={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Es={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},$o={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Uo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Fd={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Xz=.1,Jz="event-client",eF=86400,tF="https://pulse.walletconnect.org/batch";function nF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,S=0,N=E.length;S!==N&&E[S]===0;)S++,v++;for(var x=(N-S)*p+1>>>0,P=new Uint8Array(x);S!==N;){for(var T=E[S],A=0,R=x-1;(T!==0||A<_)&&R!==-1;R--,A++)T+=256*P[R]>>>0,P[R]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");_=A,S++}for(var M=x-_;M!==x&&P[M]===0;)M++;for(var O=d.repeat(v);M<x;++M)O+=t.charAt(P[M]);return O}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,S=0;E[v]===d;)_++,v++;for(var N=(E.length-v)*h+1>>>0,x=new Uint8Array(N);E[v];){var P=n[E.charCodeAt(v)];if(P===255)return;for(var T=0,A=N-1;(P!==0||T<S)&&A!==-1;A--,T++)P+=u*x[A]>>>0,x[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=T,v++}if(E[v]!==" "){for(var R=N-S;R!==N&&x[R]===0;)R++;for(var M=new Uint8Array(_+(N-R)),O=_;R!==N;)M[O++]=x[R++];return M}}}function w(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:w}}var rF=nF,sF=rF;const WI=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},iF=t=>new TextEncoder().encode(t),aF=t=>new TextDecoder().decode(t);class oF{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cF{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return KI(this,e)}}class lF{constructor(e){this.decoders=e}or(e){return KI(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const KI=(t,e)=>new lF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class uF{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new oF(e,n,r),this.decoder=new cF(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Fm=({name:t,prefix:e,encode:n,decode:r})=>new uF(t,e,n,r),Of=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=sF(n,e);return Fm({prefix:t,name:e,encode:r,decode:a=>WI(s(a))})},dF=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,u+=n,u>=8&&(u-=8,c[h++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},hF=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Fm({prefix:e,name:t,encode(s){return hF(s,r,n)},decode(s){return dF(s,r,n,t)}}),fF=Fm({prefix:"\0",name:"identity",encode:t=>aF(t),decode:t=>iF(t)});var pF=Object.freeze({__proto__:null,identity:fF});const gF=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mF=Object.freeze({__proto__:null,base2:gF});const yF=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bF=Object.freeze({__proto__:null,base8:yF});const wF=Of({prefix:"9",name:"base10",alphabet:"0123456789"});var vF=Object.freeze({__proto__:null,base10:wF});const EF=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_F=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var CF=Object.freeze({__proto__:null,base16:EF,base16upper:_F});const AF=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SF=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),NF=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TF=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xF=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),OF=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IF=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RF=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),PF=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var DF=Object.freeze({__proto__:null,base32:AF,base32upper:SF,base32pad:NF,base32padupper:TF,base32hex:xF,base32hexupper:OF,base32hexpad:IF,base32hexpadupper:RF,base32z:PF});const $F=Of({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),UF=Of({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kF=Object.freeze({__proto__:null,base36:$F,base36upper:UF});const MF=Of({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jF=Of({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var BF=Object.freeze({__proto__:null,base58btc:MF,base58flickr:jF});const LF=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zF=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FF=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qF=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var HF=Object.freeze({__proto__:null,base64:LF,base64pad:zF,base64url:FF,base64urlpad:qF});const YI=Array.from(""),VF=YI.reduce((t,e,n)=>(t[n]=e,t),[]),GF=YI.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function WF(t){return t.reduce((e,n)=>(e+=VF[n],e),"")}function KF(t){const e=[];for(const n of t){const r=GF[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const YF=Fm({prefix:"",name:"base256emoji",encode:WF,decode:KF});var ZF=Object.freeze({__proto__:null,base256emoji:YF}),QF=ZI,fN=128,XF=-128,JF=Math.pow(2,31);function ZI(t,e,n){e=e||[],n=n||0;for(var r=n;t>=JF;)e[n++]=t&255|fN,t/=128;for(;t&XF;)e[n++]=t&255|fN,t>>>=7;return e[n]=t|0,ZI.bytes=n-r+1,e}var eq=Av,tq=128,pN=127;function Av(t,r){var n=0,r=r||0,s=0,a=r,c,u=t.length;do{if(a>=u)throw Av.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&pN)<<s:(c&pN)*Math.pow(2,s),s+=7}while(c>=tq);return Av.bytes=a-r,n}var nq=Math.pow(2,7),rq=Math.pow(2,14),sq=Math.pow(2,21),iq=Math.pow(2,28),aq=Math.pow(2,35),oq=Math.pow(2,42),cq=Math.pow(2,49),lq=Math.pow(2,56),uq=Math.pow(2,63),dq=function(t){return t<nq?1:t<rq?2:t<sq?3:t<iq?4:t<aq?5:t<oq?6:t<cq?7:t<lq?8:t<uq?9:10},hq={encode:QF,decode:eq,encodingLength:dq},QI=hq;const gN=(t,e,n=0)=>(QI.encode(t,e,n),e),mN=t=>QI.encodingLength(t),Sv=(t,e)=>{const n=e.byteLength,r=mN(t),s=r+mN(n),a=new Uint8Array(s+n);return gN(t,a,0),gN(n,a,r),a.set(e,s),new fq(t,n,e,a)};class fq{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const XI=({name:t,code:e,encode:n})=>new pq(t,e,n);class pq{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Sv(this.code,n):n.then(r=>Sv(this.code,r))}else throw Error("Unknown type, must be binary type")}}const JI=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),gq=XI({name:"sha2-256",code:18,encode:JI("SHA-256")}),mq=XI({name:"sha2-512",code:19,encode:JI("SHA-512")});var yq=Object.freeze({__proto__:null,sha256:gq,sha512:mq});const eR=0,bq="identity",tR=WI,wq=t=>Sv(eR,tR(t)),vq={code:eR,name:bq,encode:tR,digest:wq};var Eq=Object.freeze({__proto__:null,identity:vq});new TextEncoder,new TextDecoder;const yN={...pF,...mF,...bF,...vF,...CF,...DF,...kF,...BF,...HF,...ZF};({...yq,...Eq});function _q(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function nR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const bN=nR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),aw=nR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_q(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Cq={utf8:bN,"utf-8":bN,hex:yN.base16,latin1:aw,ascii:aw,binary:aw,...yN};function Aq(t,e="utf8"){const n=Cq[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var Sq=Object.defineProperty,Nq=(t,e,n)=>e in t?Sq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vs=(t,e,n)=>Nq(t,typeof e!="symbol"?e+"":e,n);class Tq{constructor(e,n){this.core=e,this.logger=n,Vs(this,"keychain",new Map),Vs(this,"name",Tz),Vs(this,"version",xz),Vs(this,"initialized",!1),Vs(this,"storagePrefix",ii),Vs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Vs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Vs(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Vs(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:a}=ye("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return s}),Vs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Yn(n,this.name)}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ov(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?cv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xq=Object.defineProperty,Oq=(t,e,n)=>e in t?xq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pn=(t,e,n)=>Oq(t,typeof e!="symbol"?e+"":e,n);class Iq{constructor(e,n,r){this.core=e,this.logger=n,Pn(this,"name",Sz),Pn(this,"keychain"),Pn(this,"randomSessionIdentifier",bv()),Pn(this,"initialized",!1),Pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Pn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Pn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),a=KS(s);return mO(a.publicKey)}),Pn(this,"generateKeyPair",()=>{this.isInitialized();const s=j9();return this.setPrivateKey(s.publicKey,s.privateKey)}),Pn(this,"signJWT",async s=>{this.isInitialized();const a=await this.getClientSeed(),c=KS(a),u=this.randomSessionIdentifier;return await ik(u,s,Nz,c)}),Pn(this,"generateSharedKey",(s,a,c)=>{this.isInitialized();const u=this.getPrivateKey(s),d=B9(u,a);return this.setSymKey(d,c)}),Pn(this,"setSymKey",async(s,a)=>{this.isInitialized();const c=a||Pg(s);return await this.keychain.set(c,s),c}),Pn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Pn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Pn(this,"encode",async(s,a,c)=>{this.isInitialized();const u=DI(c),d=Yi(a);if(W2(u))return F9(d,c==null?void 0:c.encoding);if(G2(u)){const y=u.senderPublicKey,w=u.receiverPublicKey;s=await this.generateSharedKey(y,w)}const h=this.getSymKey(s),{type:p,senderPublicKey:m}=u;return L9({type:p,symKey:h,message:d,senderPublicKey:m,encoding:c==null?void 0:c.encoding})}),Pn(this,"decode",async(s,a,c)=>{this.isInitialized();const u=H9(a,c);if(W2(u)){const d=q9(a,c==null?void 0:c.encoding);return cc(d)}if(G2(u)){const d=u.receiverPublicKey,h=u.senderPublicKey;s=await this.generateSharedKey(d,h)}try{const d=this.getSymKey(s),h=z9({symKey:d,encoded:a,encoding:c==null?void 0:c.encoding});return cc(h)}catch(d){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(d)}}),Pn(this,"getPayloadType",(s,a=Is)=>{const c=Sh({encoded:s,encoding:a});return fc(c.type)}),Pn(this,"getPayloadSenderPublicKey",(s,a=Is)=>{const c=Sh({encoded:s,encoding:a});return c.senderPublicKey?yr(c.senderPublicKey,rr):void 0}),this.core=e,this.logger=Yn(n,this.name),this.keychain=r||new Tq(this.core,this.logger)}get context(){return vr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(uN)}catch{e=bv(),await this.keychain.set(uN,e)}return Aq(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Rq=Object.defineProperty,Pq=Object.defineProperties,Dq=Object.getOwnPropertyDescriptors,wN=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,Uq=Object.prototype.propertyIsEnumerable,Nv=(t,e,n)=>e in t?Rq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kq=(t,e)=>{for(var n in e||(e={}))$q.call(e,n)&&Nv(t,n,e[n]);if(wN)for(var n of wN(e))Uq.call(e,n)&&Nv(t,n,e[n]);return t},Mq=(t,e)=>Pq(t,Dq(e)),Pr=(t,e,n)=>Nv(t,typeof e!="symbol"?e+"":e,n);class jq extends r${constructor(e,n){super(e,n),this.logger=e,this.core=n,Pr(this,"messages",new Map),Pr(this,"messagesWithoutClientAck",new Map),Pr(this,"name",Oz),Pr(this,"version",Iz),Pr(this,"initialized",!1),Pr(this,"storagePrefix",ii),Pr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Pr(this,"set",async(r,s,a)=>{this.isInitialized();const c=ti(s);let u=this.messages.get(r);if(typeof u>"u"&&(u={}),typeof u[c]<"u")return c;if(u[c]=s,this.messages.set(r,u),a===Dg.inbound){const d=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Mq(kq({},d),{[c]:s}))}return await this.persist(),c}),Pr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Pr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const a of r){const c=this.messagesWithoutClientAck.get(a)||{};s[a]=Object.values(c)}return s}),Pr(this,"has",(r,s)=>{this.isInitialized();const a=this.get(r),c=ti(s);return typeof a[c]<"u"}),Pr(this,"ack",async(r,s)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;const c=ti(s);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),Pr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Yn(e,this.name),this.core=n}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ov(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ov(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?cv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?cv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Bq=Object.defineProperty,Lq=Object.defineProperties,zq=Object.getOwnPropertyDescriptors,vN=Object.getOwnPropertySymbols,Fq=Object.prototype.hasOwnProperty,qq=Object.prototype.propertyIsEnumerable,Tv=(t,e,n)=>e in t?Bq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ug=(t,e)=>{for(var n in e||(e={}))Fq.call(e,n)&&Tv(t,n,e[n]);if(vN)for(var n of vN(e))qq.call(e,n)&&Tv(t,n,e[n]);return t},ow=(t,e)=>Lq(t,zq(e)),_s=(t,e,n)=>Tv(t,typeof e!="symbol"?e+"":e,n);class Hq extends s${constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_s(this,"events",new us.EventEmitter),_s(this,"name",Rz),_s(this,"queue",new Map),_s(this,"publishTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),_s(this,"initialPublishTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),_s(this,"needsTransportRestart",!1),_s(this,"publish",async(r,s,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:a}});const u=(a==null?void 0:a.ttl)||dN,d=Zg(a),h=(a==null?void 0:a.prompt)||!1,p=(a==null?void 0:a.tag)||0,m=(a==null?void 0:a.id)||Go().toString(),y={topic:r,message:s,opts:{ttl:u,relay:d,prompt:h,tag:p,id:m,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}},w=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{const E=new Promise(async v=>{const _=({id:N})=>{y.opts.id===N&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(Cn.publish,_),v(y))};this.relayer.events.on(Cn.publish,_);const S=Ha(new Promise((N,x)=>{this.rpcPublish({topic:r,message:s,ttl:u,prompt:h,tag:p,id:m,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}).then(N).catch(P=>{this.logger.warn(P,P==null?void 0:P.message),x(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await S,this.events.removeListener(Cn.publish,_)}catch(N){this.queue.set(m,ow(ug({},y),{attempt:1})),this.logger.warn(N,N==null?void 0:N.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:r,message:s,opts:a}}),await Ha(E,this.publishTimeout,w)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(c=a==null?void 0:a.internal)!=null&&c.throwOnFailedPublish)throw E}finally{this.queue.delete(m)}}),_s(this,"on",(r,s)=>{this.events.on(r,s)}),_s(this,"once",(r,s)=>{this.events.once(r,s)}),_s(this,"off",(r,s)=>{this.events.off(r,s)}),_s(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Yn(n,this.name),this.registerEventListeners()}get context(){return vr(this.logger)}async rpcPublish(e){var n,r,s,a;const{topic:c,message:u,ttl:d=dN,prompt:h,tag:p,id:m,attestation:y,tvf:w}=e,E={method:Jd(Zg().protocol).publish,params:ug({topic:c,message:u,ttl:d,prompt:h,tag:p,attestation:y},w),id:m};Un((n=E.params)==null?void 0:n.prompt)&&((r=E.params)==null||delete r.prompt),Un((s=E.params)==null?void 0:s.tag)&&((a=E.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:E});const v=await this.relayer.request(E);return this.relayer.events.emit(Cn.publish,e),this.logger.debug("Successfully Published Payload"),v}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,ow(ug({},e),{attempt:r}));const{topic:s,message:a,opts:c,attestation:u}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(ow(ug({},e),{topic:s,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:u,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(bu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Cn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Cn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Vq=Object.defineProperty,Gq=(t,e,n)=>e in t?Vq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bl=(t,e,n)=>Gq(t,typeof e!="symbol"?e+"":e,n);class Wq{constructor(){bl(this,"map",new Map),bl(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),bl(this,"get",e=>this.map.get(e)||[]),bl(this,"exists",(e,n)=>this.get(e).includes(n)),bl(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(a=>a!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),bl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Kq=Object.defineProperty,Yq=Object.defineProperties,Zq=Object.getOwnPropertyDescriptors,EN=Object.getOwnPropertySymbols,Qq=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,xv=(t,e,n)=>e in t?Kq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qd=(t,e)=>{for(var n in e||(e={}))Qq.call(e,n)&&xv(t,n,e[n]);if(EN)for(var n of EN(e))Xq.call(e,n)&&xv(t,n,e[n]);return t},cw=(t,e)=>Yq(t,Zq(e)),xt=(t,e,n)=>xv(t,typeof e!="symbol"?e+"":e,n);class Jq extends o${constructor(e,n){super(e,n),this.relayer=e,this.logger=n,xt(this,"subscriptions",new Map),xt(this,"topicMap",new Wq),xt(this,"events",new us.EventEmitter),xt(this,"name",jz),xt(this,"version",Bz),xt(this,"pending",new Map),xt(this,"cached",[]),xt(this,"initialized",!1),xt(this,"storagePrefix",ii),xt(this,"subscribeTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),xt(this,"initialSubscribeTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),xt(this,"clientId"),xt(this,"batchSubscribeTopicsLimit",500),xt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),xt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const a=Zg(s),c={topic:r,relay:a,transportType:s==null?void 0:s.transportType};this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,s);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),xt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),xt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),xt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),xt(this,"on",(r,s)=>{this.events.on(r,s)}),xt(this,"once",(r,s)=>{this.events.once(r,s)}),xt(this,"off",(r,s)=>{this.events.off(r,s)}),xt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),xt(this,"start",async()=>{await this.onConnect()}),xt(this,"stop",async()=>{await this.onDisconnect()}),xt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),xt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),xt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(bu.pulse,async()=>{await this.checkPending()}),this.events.on(Dr.created,async r=>{const s=Dr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Dr.deleted,async r=>{const s=Dr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Yn(n,this.name),this.clientId=""}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=Zg(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const a=St("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Ut.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Jd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const u=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ut.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},ge.toMiliseconds(ge.ONE_SECOND)),u;const d=new Promise(async p=>{const m=y=>{y.topic===e&&(this.events.removeListener(Dr.created,m),p(y.id))};this.events.on(Dr.created,m);try{const y=await Ha(new Promise((w,E)=>{this.relayer.request(a).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),E(v)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Dr.created,m),p(y)}catch{}}),h=await Ha(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return h?u:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Cn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Jd(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ha(new Promise(s=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Cn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Jd(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Ha(new Promise((a,c)=>{this.relayer.request(r).catch(u=>{this.logger.warn(u),c(u)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Cn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Jd(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,cw(qd({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,qd({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,qd({},n)),this.topicMap.set(n.topic,e),this.events.emit(Dr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Dr.deleted,cw(qd({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Dr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Dr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>cw(qd({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await SB(ge.toMiliseconds(ge.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ti(e+await this.getClientId())}}var eH=Object.defineProperty,_N=Object.getOwnPropertySymbols,tH=Object.prototype.hasOwnProperty,nH=Object.prototype.propertyIsEnumerable,Ov=(t,e,n)=>e in t?eH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CN=(t,e)=>{for(var n in e||(e={}))tH.call(e,n)&&Ov(t,n,e[n]);if(_N)for(var n of _N(e))nH.call(e,n)&&Ov(t,n,e[n]);return t},ft=(t,e,n)=>Ov(t,typeof e!="symbol"?e+"":e,n);class rH extends i${constructor(e){super(e),ft(this,"protocol","wc"),ft(this,"version",2),ft(this,"core"),ft(this,"logger"),ft(this,"events",new us.EventEmitter),ft(this,"provider"),ft(this,"messages"),ft(this,"subscriber"),ft(this,"publisher"),ft(this,"name",Dz),ft(this,"transportExplicitlyClosed",!1),ft(this,"initialized",!1),ft(this,"connectionAttemptInProgress",!1),ft(this,"relayUrl"),ft(this,"projectId"),ft(this,"packageName"),ft(this,"bundleId"),ft(this,"hasExperiencedNetworkDisruption",!1),ft(this,"pingTimeout"),ft(this,"heartBeatTimeout",ge.toMiliseconds(ge.THIRTY_SECONDS+ge.FIVE_SECONDS)),ft(this,"reconnectTimeout"),ft(this,"connectPromise"),ft(this,"reconnectInProgress",!1),ft(this,"requestsInFlight",[]),ft(this,"connectTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),ft(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const a=n.id||Go().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const c=`${a}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),ft(this,"resetPingTimeout",()=>{Kg()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c==null?void 0:c.message)}},this.heartBeatTimeout))}),ft(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ft(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Cn.connect)}),ft(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ft(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Cn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ft(this,"registerProviderListeners",()=>{this.provider.on(Xr.payload,this.onPayloadHandler),this.provider.on(Xr.connect,this.onConnectHandler),this.provider.on(Xr.disconnect,this.onDisconnectHandler),this.provider.on(Xr.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Yn(e.logger,this.name):bf(wu({level:e.logger||Pz})),this.messages=new jq(this.logger,e.core),this.subscriber=new Jq(this,this.logger),this.publisher=new Hq(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||VI,this.projectId=e.projectId,lB()?this.packageName=m2():uB()&&(this.bundleId=m2()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return vr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ut.relay},Dg.outbound)}async subscribe(e,n){var r,s,a;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let u=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",d;const h=p=>{p.topic===e&&(this.subscriber.off(Dr.created,h),d())};return await Promise.all([new Promise(p=>{d=p,this.subscriber.on(Dr.created,h)}),new Promise(async(p,m)=>{u=await this.subscriber.subscribe(e,CN({internal:{throwOnFailedPublish:c}},n)).catch(y=>{c&&m(y)})||u,p()})]),u}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ha(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await tN())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=un(ge.FIVE_MINUTES),a={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(Cn.message,e),await this.recordMessageEvent(e,Dg.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const a=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xr.disconnect,a),await Ha(new Promise((c,u)=>{this.provider.connect().then(c).catch(u)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(Xr.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,u)=>{const d=()=>{u(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Xr.disconnect,d),await this.subscriber.start().then(c).catch(u).finally(()=>{this.provider.off(Xr.disconnect,d)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ge.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,a;if(Kg())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new hs(new Ez(gB({sdkVersion:Cv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),RE(e)){if(!e.method.endsWith($z))return;const n=e.params,{topic:r,message:s,publishedAt:a,attestation:c}=n.data,u={topic:r,message:s,publishedAt:a,transportType:Ut.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(CN({type:"event",event:n.id},u)),this.events.emit(n.id,u),await this.acknowledgePayload(e),await this.onMessageEvent(u)}else zm(e)&&this.events.emit(Cn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Dg.inbound),this.events.emit(Cn.message,e))}async acknowledgePayload(e){const n=Bm(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Xr.payload,this.onPayloadHandler),this.provider.off(Xr.connect,this.onConnectHandler),this.provider.off(Xr.disconnect,this.onDisconnectHandler),this.provider.off(Xr.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await tN();O7(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Cn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ge.toMiliseconds(Uz)))))}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function sH(){}function AN(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function SN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function NN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const iH="[object RegExp]",aH="[object String]",oH="[object Number]",cH="[object Boolean]",TN="[object Arguments]",lH="[object Symbol]",uH="[object Date]",dH="[object Map]",hH="[object Set]",fH="[object Array]",pH="[object Function]",gH="[object ArrayBuffer]",lw="[object Object]",mH="[object Error]",yH="[object DataView]",bH="[object Uint8Array]",wH="[object Uint8ClampedArray]",vH="[object Uint16Array]",EH="[object Uint32Array]",_H="[object BigUint64Array]",CH="[object Int8Array]",AH="[object Int16Array]",SH="[object Int32Array]",NH="[object BigInt64Array]",TH="[object Float32Array]",xH="[object Float64Array]";function OH(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function IH(t,e,n){return th(t,e,void 0,void 0,void 0,void 0,n)}function th(t,e,n,r,s,a,c){const u=c(t,e,n,r,s,a);if(u!==void 0)return u;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return lh(t,e,a,c)}return lh(t,e,a,c)}function lh(t,e,n,r){if(Object.is(t,e))return!0;let s=NN(t),a=NN(e);if(s===TN&&(s=lw),a===TN&&(a=lw),s!==a)return!1;switch(s){case aH:return t.toString()===e.toString();case oH:{const d=t.valueOf(),h=e.valueOf();return OH(d,h)}case cH:case uH:case lH:return Object.is(t.valueOf(),e.valueOf());case iH:return t.source===e.source&&t.flags===e.flags;case pH:return t===e}n=n??new Map;const c=n.get(t),u=n.get(e);if(c!=null&&u!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(s){case dH:{if(t.size!==e.size)return!1;for(const[d,h]of t.entries())if(!e.has(d)||!th(h,e.get(d),d,t,e,n,r))return!1;return!0}case hH:{if(t.size!==e.size)return!1;const d=Array.from(t.values()),h=Array.from(e.values());for(let p=0;p<d.length;p++){const m=d[p],y=h.findIndex(w=>th(m,w,void 0,t,e,n,r));if(y===-1)return!1;h.splice(y,1)}return!0}case fH:case bH:case wH:case vH:case EH:case _H:case CH:case AH:case SH:case NH:case TH:case xH:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let d=0;d<t.length;d++)if(!th(t[d],e[d],d,t,e,n,r))return!1;return!0}case gH:return t.byteLength!==e.byteLength?!1:lh(new Uint8Array(t),new Uint8Array(e),n,r);case yH:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:lh(new Uint8Array(t),new Uint8Array(e),n,r);case mH:return t.name===e.name&&t.message===e.message;case lw:{if(!(lh(t.constructor,e.constructor,n,r)||AN(t)&&AN(e)))return!1;const d=[...Object.keys(t),...SN(t)],h=[...Object.keys(e),...SN(e)];if(d.length!==h.length)return!1;for(let p=0;p<d.length;p++){const m=d[p],y=t[m];if(!Object.hasOwn(e,m))return!1;const w=e[m];if(!th(y,w,m,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function RH(t,e){return IH(t,e,sH)}var PH=Object.defineProperty,xN=Object.getOwnPropertySymbols,DH=Object.prototype.hasOwnProperty,$H=Object.prototype.propertyIsEnumerable,Iv=(t,e,n)=>e in t?PH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ON=(t,e)=>{for(var n in e||(e={}))DH.call(e,n)&&Iv(t,n,e[n]);if(xN)for(var n of xN(e))$H.call(e,n)&&Iv(t,n,e[n]);return t},lr=(t,e,n)=>Iv(t,typeof e!="symbol"?e+"":e,n);class Nc extends a${constructor(e,n,r,s=ii,a=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,lr(this,"map",new Map),lr(this,"version",kz),lr(this,"cached",[]),lr(this,"initialized",!1),lr(this,"getKey"),lr(this,"storagePrefix",ii),lr(this,"recentlyDeleted",[]),lr(this,"recentlyDeletedLimit",200),lr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Un(c)?this.map.set(this.getKey(c),c):a7(c)?this.map.set(c.id,c):o7(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),lr(this,"set",async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())}),lr(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),lr(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(d=>RH(u[d],c[d]))):this.values)),lr(this,"update",async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const d=ON(ON({},this.getData(c)),u);this.map.set(c,d),await this.persist()}),lr(this,"delete",async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=Yn(n,this.name),this.storagePrefix=s,this.getKey=a}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var UH=Object.defineProperty,kH=(t,e,n)=>e in t?UH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e,n)=>kH(t,typeof e!="symbol"?e+"":e,n);class MH{constructor(e,n){this.core=e,this.logger=n,rt(this,"name",Lz),rt(this,"version",zz),rt(this,"events",new dE),rt(this,"pairings"),rt(this,"initialized",!1),rt(this,"storagePrefix",ii),rt(this,"ignoredPayloadTypes",[Gi]),rt(this,"registeredMethods",[]),rt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),rt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),rt(this,"create",async r=>{this.isInitialized();const s=bv(),a=await this.core.crypto.setSymKey(s),c=un(ge.FIVE_MINUTES),u={protocol:HI},d={topic:a,expiry:c,relay:u,active:!1,methods:r==null?void 0:r.methods},h=Y2({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:s,relay:u,expiryTimestamp:c,methods:r==null?void 0:r.methods});return this.events.emit(qo.create,d),this.core.expirer.set(a,c),await this.pairings.set(a,d),await this.core.relayer.subscribe(a,{transportType:r==null?void 0:r.transportType}),{topic:a,uri:h}}),rt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Ks.pairing_started]}});this.isValidPair(r,s);const{topic:a,symKey:c,relay:u,expiryTimestamp:d,methods:h}=K2(r.uri);s.props.properties.topic=a,s.addTrace(Ks.pairing_uri_validation_success),s.addTrace(Ks.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),s.addTrace(Ks.existing_pairing),p.active)throw s.setError(ji.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);s.addTrace(Ks.pairing_not_expired)}const m=d||un(ge.FIVE_MINUTES),y={topic:a,relay:u,expiry:m,active:!1,methods:h};this.core.expirer.set(a,m),await this.pairings.set(a,y),s.addTrace(Ks.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(qo.create,y),s.addTrace(Ks.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),s.addTrace(Ks.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ji.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:u})}catch(w){throw s.setError(ji.subscribe_pairing_topic_failure),w}return s.addTrace(Ks.subscribe_pairing_topic_success),y}),rt(this,"activate",async({topic:r})=>{this.isInitialized();const s=un(ge.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),rt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:u,reject:d}=Bo();this.events.once(bt("pairing_ping",a),({error:h})=>{h?d(h):u()}),await c()}}),rt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),rt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),rt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),rt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",St("USER_DISCONNECTED")),await this.deletePairing(s))}),rt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:a,expiry:c,methods:u}=r,d=this.core.crypto.keychain.get(s);return Y2({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:d,relay:a,expiryTimestamp:c,methods:u})}),rt(this,"sendRequest",async(r,s,a)=>{const c=Va(s,a),u=await this.core.crypto.encode(r,c),d=zd[s].req;return this.core.history.set(r,c),this.core.relayer.publish(r,u,d),c.id}),rt(this,"sendResult",async(r,s,a)=>{const c=Bm(r,a),u=await this.core.crypto.encode(s,c),d=(await this.core.history.get(s,r)).request.method,h=zd[d].res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)}),rt(this,"sendError",async(r,s,a)=>{const c=Lm(r,a),u=await this.core.crypto.encode(s,c),d=(await this.core.history.get(s,r)).request.method,h=zd[d]?zd[d].res:zd.unregistered_method.res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)}),rt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,St("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),rt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>$a(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),rt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,a);default:return await this.onUnknownRpcMethodRequest(s,a)}}),rt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:a}=r,c=(await this.core.history.get(s,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}}),rt(this,"onPairingPingRequest",async(r,s)=>{const{id:a}=s;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(qo.ping,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),rt(this,"onPairingPingResponse",(r,s)=>{const{id:a}=s;setTimeout(()=>{Zs(s)?this.events.emit(bt("pairing_ping",a),{}):is(s)&&this.events.emit(bt("pairing_ping",a),{error:s.error})},500)}),rt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(qo.delete,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),rt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const u=St("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,r,u),this.logger.error(u)}catch(u){await this.sendError(a,r,u),this.logger.error(u)}}),rt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(St("WC_METHOD_UNSUPPORTED",r))}),rt(this,"isValidPair",(r,s)=>{var a;if(!pr(r)){const{message:u}=ye("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(ji.malformed_pairing_uri),new Error(u)}if(!i7(r.uri)){const{message:u}=ye("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(ji.malformed_pairing_uri),new Error(u)}const c=K2(r==null?void 0:r.uri);if(!((a=c==null?void 0:c.relay)!=null&&a.protocol)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ji.malformed_pairing_uri),new Error(u)}if(!(c!=null&&c.symKey)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ji.malformed_pairing_uri),new Error(u)}if(c!=null&&c.expiryTimestamp&&ge.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(ji.pairing_expired);const{message:u}=ye("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(u)}}),rt(this,"isValidPing",async r=>{if(!pr(r)){const{message:a}=ye("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),rt(this,"isValidDisconnect",async r=>{if(!pr(r)){const{message:a}=ye("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),rt(this,"isValidPairingTopic",async r=>{if(!sn(r,!1)){const{message:s}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if($a(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ye("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Yn(n,this.name),this.pairings=new Nc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return vr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Cn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Ut.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const a=await this.core.crypto.decode(n,r);RE(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):zm(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(rs.expired,async e=>{const{topic:n}=eI(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(qo.expire,{topic:n}))})}}var jH=Object.defineProperty,BH=(t,e,n)=>e in t?jH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>BH(t,typeof e!="symbol"?e+"":e,n);class LH extends n${constructor(e,n){super(e,n),this.core=e,this.logger=n,Dn(this,"records",new Map),Dn(this,"events",new us.EventEmitter),Dn(this,"name",Fz),Dn(this,"version",qz),Dn(this,"cached",[]),Dn(this,"initialized",!1),Dn(this,"storagePrefix",ii),Dn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Dn(this,"set",(r,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:a,expiry:un(ge.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(vs.created,c)}),Dn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=is(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(vs.updated,s))}),Dn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Dn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===r){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(vs.deleted,a)}}),this.persist()}),Dn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Dn(this,"on",(r,s)=>{this.events.on(r,s)}),Dn(this,"once",(r,s)=>{this.events.once(r,s)}),Dn(this,"off",(r,s)=>{this.events.off(r,s)}),Dn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Yn(n,this.name)}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Va(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(vs.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(vs.created,e=>{const n=vs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(vs.updated,e=>{const n=vs.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(vs.deleted,e=>{const n=vs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(bu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ge.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(vs.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zH=Object.defineProperty,FH=(t,e,n)=>e in t?zH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hn=(t,e,n)=>FH(t,typeof e!="symbol"?e+"":e,n);class qH extends c${constructor(e,n){super(e,n),this.core=e,this.logger=n,Hn(this,"expirations",new Map),Hn(this,"events",new us.EventEmitter),Hn(this,"name",Hz),Hn(this,"version",Vz),Hn(this,"cached",[]),Hn(this,"initialized",!1),Hn(this,"storagePrefix",ii),Hn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Hn(this,"set",(r,s)=>{this.isInitialized();const a=this.formatTarget(r),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(rs.created,{target:a,expiration:c})}),Hn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Hn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(rs.deleted,{target:s,expiration:a})}}),Hn(this,"on",(r,s)=>{this.events.on(r,s)}),Hn(this,"once",(r,s)=>{this.events.once(r,s)}),Hn(this,"off",(r,s)=>{this.events.off(r,s)}),Hn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Yn(n,this.name)}get context(){return vr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return mB(e);if(typeof e=="number")return yB(e);const{message:n}=ye("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(rs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ge.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(rs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(bu.pulse,()=>this.checkExpirations()),this.events.on(rs.created,e=>{const n=rs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(rs.expired,e=>{const n=rs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(rs.deleted,e=>{const n=rs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var HH=Object.defineProperty,VH=(t,e,n)=>e in t?HH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rn=(t,e,n)=>VH(t,typeof e!="symbol"?e+"":e,n);class GH extends l${constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,rn(this,"name",Gz),rn(this,"abortController"),rn(this,"isDevEnv"),rn(this,"verifyUrlV3",Kz),rn(this,"storagePrefix",ii),rn(this,"version",qI),rn(this,"publicKey"),rn(this,"fetchPromise"),rn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ge.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),rn(this,"register",async s=>{if(!_f()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:u}=s,d=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${u}`;try{const h=lc.getDocument(),p=this.startAbortTimer(ge.ONE_SECOND*5),m=await new Promise((y,w)=>{const E=()=>{window.removeEventListener("message",_),h.body.removeChild(v),w("attestation aborted")};this.abortController.signal.addEventListener("abort",E);const v=h.createElement("iframe");v.src=d,v.style.display="none",v.addEventListener("error",E,{signal:this.abortController.signal});const _=S=>{if(S.data&&typeof S.data=="string")try{const N=JSON.parse(S.data);if(N.type==="verify_attestation"){if(ev(N.attestation).payload.id!==c)return;clearInterval(p),h.body.removeChild(v),this.abortController.signal.removeEventListener("abort",E),window.removeEventListener("message",_),y(N.attestation===null?"":N.attestation)}}catch(N){this.logger.warn(N)}};h.body.appendChild(v),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",m),m}catch(h){this.logger.warn(h)}return""}),rn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:u}=s;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(ev(a).payload.id!==u)return;const h=await this.isValidJwtAttestation(a);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!c)return;const d=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,d)}),rn(this,"fetchAttestation",async(s,a)=>{this.logger.debug(`resolving attestation: ${s} from url: ${a}`);const c=this.startAbortTimer(ge.ONE_SECOND*5),u=await fetch(`${a}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?await u.json():void 0}),rn(this,"getVerifyUrl",s=>{let a=s||ch;return Yz.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${ch}`),a=ch),a}),rn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ge.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await a.json()}catch(s){this.logger.warn(s)}}),rn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),rn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),rn(this,"isValidJwtAttestation",async s=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}}),rn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),rn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),rn(this,"validateAttestation",(s,a)=>{const c=G9(s,a.publicKey),u={hasExpired:ge.toMiliseconds(c.exp)<Date.now(),payload:c};if(u.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:u.payload.origin,isScam:u.payload.isScam,isVerified:u.payload.isVerified}}),this.logger=Yn(n,this.name),this.abortController=new AbortController,this.isDevEnv=EE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return vr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ge.toMiliseconds(e))}}var WH=Object.defineProperty,KH=(t,e,n)=>e in t?WH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IN=(t,e,n)=>KH(t,typeof e!="symbol"?e+"":e,n);class YH extends u${constructor(e,n){super(e,n),this.projectId=e,this.logger=n,IN(this,"context",Zz),IN(this,"registerDeviceToken",async r=>{const{clientId:s,token:a,notificationType:c,enableEncrypted:u=!1}=r,d=`${Qz}/${this.projectId}/clients`;await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:a,always_raw:u})})}),this.logger=Yn(n,this.context)}}var ZH=Object.defineProperty,RN=Object.getOwnPropertySymbols,QH=Object.prototype.hasOwnProperty,XH=Object.prototype.propertyIsEnumerable,Rv=(t,e,n)=>e in t?ZH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hd=(t,e)=>{for(var n in e||(e={}))QH.call(e,n)&&Rv(t,n,e[n]);if(RN)for(var n of RN(e))XH.call(e,n)&&Rv(t,n,e[n]);return t},bn=(t,e,n)=>Rv(t,typeof e!="symbol"?e+"":e,n);class JH extends d${constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,bn(this,"context",Jz),bn(this,"storagePrefix",ii),bn(this,"storageVersion",Xz),bn(this,"events",new Map),bn(this,"shouldPersist",!1),bn(this,"init",async()=>{if(!EE())try{const s={eventId:b2(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:XO(this.core.relayer.protocol,this.core.relayer.version,Cv)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),bn(this,"createEvent",s=>{const{event:a="ERROR",type:c="",properties:{topic:u,trace:d}}=s,h=b2(),p=this.core.projectId||"",m=Date.now(),y=Hd({eventId:h,timestamp:m,props:{event:a,type:c,properties:{topic:u,trace:d}},bundleId:p,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),bn(this,"getEvent",s=>{const{eventId:a,topic:c}=s;if(a)return this.events.get(a);const u=Array.from(this.events.values()).find(d=>d.props.properties.topic===c);if(u)return Hd(Hd({},u),this.setMethods(u.eventId))}),bn(this,"deleteEvent",s=>{const{eventId:a}=s;this.events.delete(a),this.shouldPersist=!0}),bn(this,"setEventListeners",()=>{this.core.heartbeat.on(bu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ge.fromMiliseconds(Date.now())-ge.fromMiliseconds(s.timestamp)>eF&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),bn(this,"setMethods",s=>({addTrace:a=>this.addTrace(s,a),setError:a=>this.setError(s,a)})),bn(this,"addTrace",(s,a)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(a),this.events.set(s,c),this.shouldPersist=!0)}),bn(this,"setError",(s,a)=>{const c=this.events.get(s);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),bn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),bn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(a=>{this.events.set(a.eventId,Hd(Hd({},a),this.setMethods(a.eventId)))})}catch(s){this.logger.warn(s)}}),bn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[a,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const a of s)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),bn(this,"sendEvent",async s=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${tF}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Cv}${a}`,{method:"POST",body:JSON.stringify(s)})}),bn(this,"getAppDomain",()=>QO().url),this.logger=Yn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var eV=Object.defineProperty,PN=Object.getOwnPropertySymbols,tV=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,Pv=(t,e,n)=>e in t?eV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DN=(t,e)=>{for(var n in e||(e={}))tV.call(e,n)&&Pv(t,n,e[n]);if(PN)for(var n of PN(e))nV.call(e,n)&&Pv(t,n,e[n]);return t},Dt=(t,e,n)=>Pv(t,typeof e!="symbol"?e+"":e,n);let rV=class rR extends X6{constructor(e){var n;super(e),Dt(this,"protocol",FI),Dt(this,"version",qI),Dt(this,"name",_v),Dt(this,"relayUrl"),Dt(this,"projectId"),Dt(this,"customStoragePrefix"),Dt(this,"events",new us.EventEmitter),Dt(this,"logger"),Dt(this,"heartbeat"),Dt(this,"relayer"),Dt(this,"crypto"),Dt(this,"storage"),Dt(this,"history"),Dt(this,"expirer"),Dt(this,"pairing"),Dt(this,"verify"),Dt(this,"echoClient"),Dt(this,"linkModeSupportedApps"),Dt(this,"eventClient"),Dt(this,"initialized",!1),Dt(this,"logChunkController"),Dt(this,"on",(u,d)=>this.events.on(u,d)),Dt(this,"once",(u,d)=>this.events.once(u,d)),Dt(this,"off",(u,d)=>this.events.off(u,d)),Dt(this,"removeListener",(u,d)=>this.events.removeListener(u,d)),Dt(this,"dispatchEnvelope",({topic:u,message:d,sessionExists:h})=>{if(!u||!d)return;const p={topic:u,message:d,publishedAt:Date.now(),transportType:Ut.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:h})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(u){console.warn("Failed to copy global core",u)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||VI,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=wu({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Cz.logger,name:_v}),{logger:a,chunkLoggerController:c}=fE({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,d;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((d=this.logChunkController)==null||d.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Yn(a,this.name),this.heartbeat=new Q8,this.crypto=new Iq(this,this.logger,e==null?void 0:e.keychain),this.history=new LH(this,this.logger),this.expirer=new qH(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new D6(DN(DN({},Az),e==null?void 0:e.storageOptions)),this.relayer=new rH({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new MH(this,this.logger),this.verify=new GH(this,this.logger,this.storage),this.echoClient=new YH(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new JH(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new rR(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Mz,r),n}get context(){return vr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(hN,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(hN)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&_z.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const sV=rV,sR="wc",iR=2,aR="client",PE=`${sR}@${iR}:${aR}:`,uw={name:aR,logger:"error"},$N="WALLETCONNECT_DEEPLINK_CHOICE",iV="proposal",UN="Proposal expired",aV="session",wl=ge.SEVEN_DAYS,oV="engine",wn={wc_sessionPropose:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ge.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ge.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1119}}},dw={min:ge.FIVE_MINUTES,max:ge.SEVEN_DAYS},Gs={idle:"IDLE",active:"ACTIVE"},kN={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},cV="request",lV=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],uV="wc",dV="auth",hV="authKeys",fV="pairingTopics",pV="requests",qm=`${uV}@${1.5}:${dV}:`,$g=`${qm}:PUB_KEY`;var gV=Object.defineProperty,mV=Object.defineProperties,yV=Object.getOwnPropertyDescriptors,MN=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,Dv=(t,e,n)=>e in t?gV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ot=(t,e)=>{for(var n in e||(e={}))bV.call(e,n)&&Dv(t,n,e[n]);if(MN)for(var n of MN(e))wV.call(e,n)&&Dv(t,n,e[n]);return t},Xn=(t,e)=>mV(t,yV(e)),le=(t,e,n)=>Dv(t,typeof e!="symbol"?e+"":e,n);class vV extends g${constructor(e){super(e),le(this,"name",oV),le(this,"events",new dE),le(this,"initialized",!1),le(this,"requestQueue",{state:Gs.idle,queue:[]}),le(this,"sessionRequestQueue",{state:Gs.idle,queue:[]}),le(this,"requestQueueDelay",ge.ONE_SECOND),le(this,"expectedPairingMethodMap",new Map),le(this,"recentlyDeletedMap",new Map),le(this,"recentlyDeletedLimit",200),le(this,"relayMessageCache",[]),le(this,"pendingSessions",new Map),le(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(wn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay)))}),le(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Xn(Ot({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:d,relays:h}=r;let p=s,m,y=!1;try{if(p){const A=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=A.active}}catch(A){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),A}if(!p||!y){const{topic:A,uri:R}=await this.client.core.pairing.create();p=A,m=R}if(!p){const{message:A}=ye("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(A)}const w=await this.client.core.crypto.generateKeyPair(),E=wn.wc_sessionPropose.req.ttl||ge.FIVE_MINUTES,v=un(E),_=Xn(Ot(Ot({requiredNamespaces:a,optionalNamespaces:c,relays:h??[{protocol:HI}],proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:p},u&&{sessionProperties:u}),d&&{scopedProperties:d}),{id:Ys()}),S=bt("session_connect",_.id),{reject:N,resolve:x,done:P}=Bo(E,UN),T=({id:A})=>{A===_.id&&(this.client.events.off("proposal_expire",T),this.pendingSessions.delete(_.id),this.events.emit(S,{error:{message:UN,code:0}}))};return this.client.events.on("proposal_expire",T),this.events.once(S,({error:A,session:R})=>{this.client.events.off("proposal_expire",T),A?N(A):R&&x(R)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:_,throwOnFailedPublish:!0,clientRpcId:_.id}),await this.setProposal(_.id,_),{uri:m,approval:P}}),le(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),le(this,"approve",async n=>{var r,s,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Es.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(O){throw c.setError($o.no_internet_connection),O}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(O){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),c.setError($o.proposal_not_found),O}try{await this.isValidApprove(n)}catch(O){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError($o.session_approve_namespace_validation_failure),O}const{id:u,relayProtocol:d,namespaces:h,sessionProperties:p,scopedProperties:m,sessionConfig:y}=n,w=this.client.proposal.get(u);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:E,proposer:v,requiredNamespaces:_,optionalNamespaces:S}=w;let N=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:E});N||(N=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:Es.session_approve_started,properties:{topic:E,trace:[Es.session_approve_started,Es.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),P=v.publicKey,T=await this.client.core.crypto.generateSharedKey(x,P),A=Ot(Ot(Ot({relay:{protocol:d??"irn"},namespaces:h,controller:{publicKey:x,metadata:this.client.metadata},expiry:un(wl)},p&&{sessionProperties:p}),m&&{scopedProperties:m}),y&&{sessionConfig:y}),R=Ut.relay;N.addTrace(Es.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:R})}catch(O){throw N.setError($o.subscribe_session_topic_failure),O}N.addTrace(Es.subscribe_session_topic_success);const M=Xn(Ot({},A),{topic:T,requiredNamespaces:_,optionalNamespaces:S,pairingTopic:E,acknowledged:!1,self:A.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:x,transportType:Ut.relay});await this.client.session.set(T,M),N.addTrace(Es.store_session);try{N.addTrace(Es.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:A,throwOnFailedPublish:!0}).catch(O=>{throw N==null||N.setError($o.session_settle_publish_failure),O}),N.addTrace(Es.session_settle_publish_success),N.addTrace(Es.publishing_session_approve),await this.sendResult({id:u,topic:E,result:{relay:{protocol:d??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(O=>{throw N==null||N.setError($o.session_approve_publish_failure),O}),N.addTrace(Es.session_approve_publish_success)}catch(O){throw this.client.logger.error(O),this.client.session.delete(T,St("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),O}return this.client.core.eventClient.deleteEvent({eventId:N.eventId}),await this.client.core.pairing.updateMetadata({topic:E,metadata:v.metadata}),await this.client.proposal.delete(u,St("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:E}),await this.setExpiry(T,un(wl)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),le(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:s}=n;let a;try{a=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}a&&(await this.sendError({id:r,topic:a,error:s,rpcOpts:wn.wc_sessionPropose.reject}),await this.client.proposal.delete(r,St("USER_DISCONNECTED")))}),le(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(m){throw this.client.logger.error("update() -> isValidUpdate() failed"),m}const{topic:r,namespaces:s}=n,{done:a,resolve:c,reject:u}=Bo(),d=Ys(),h=Go().toString(),p=this.client.session.get(r).namespaces;return this.events.once(bt("session_update",d),({error:m})=>{m?u(m):c()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:d,relayRpcId:h}).catch(m=>{this.client.logger.error(m),this.client.session.update(r,{namespaces:p}),u(m)}),{acknowledged:a}}),le(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(d){throw this.client.logger.error("extend() -> isValidExtend() failed"),d}const{topic:r}=n,s=Ys(),{done:a,resolve:c,reject:u}=Bo();return this.events.once(bt("session_extend",s),({error:d})=>{d?u(d):c()}),await this.setExpiry(r,un(wl)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(d=>{u(d)}),{acknowledged:a}}),le(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:s,topic:a,expiry:c=wn.wc_sessionRequest.req.ttl}=n,u=this.client.session.get(a);(u==null?void 0:u.transportType)===Ut.relay&&await this.confirmOnlineStateOrThrow();const d=Ys(),h=Go().toString(),{done:p,resolve:m,reject:y}=Bo(c,"Request expired. Please try again.");this.events.once(bt("session_request",d),({error:S,result:N})=>{S?y(S):m(N)});const w="wc_sessionRequest",E=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);if(E)return await this.sendRequest({clientRpcId:d,relayRpcId:h,topic:a,method:w,params:{request:Xn(Ot({},s),{expiryTimestamp:un(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:E}).catch(S=>y(S)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:d}),await p();const v={request:Xn(Ot({},s),{expiryTimestamp:un(c)}),chainId:r},_=this.shouldSetTVF(w,v);return await Promise.all([new Promise(async S=>{await this.sendRequest(Ot({clientRpcId:d,relayRpcId:h,topic:a,method:w,params:v,expiry:c,throwOnFailedPublish:!0},_&&{tvf:this.getTVFParams(d,v)})).catch(N=>y(N)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:d}),S()}),new Promise(async S=>{var N;if(!((N=u.sessionConfig)!=null&&N.disableDeepLink)){const x=await EB(this.client.core.storage,$N);await bB({id:d,topic:a,wcDeepLink:x})}S()}),p()]).then(S=>S[2])}),le(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:a}=s,c=this.client.session.get(r);c.transportType===Ut.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);Zs(s)?await this.sendResult({id:a,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:u}):is(s)&&await this.sendError({id:a,topic:r,error:s.error,appLink:u}),this.cleanupAfterResponse(n)}),le(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Ys(),a=Go().toString(),{done:c,resolve:u,reject:d}=Bo();this.events.once(bt("session_ping",s),({error:h})=>{h?d(h):u()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),le(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:a}=n,c=Go().toString(),u=Ys();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:u})}),le(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:St("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ye("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),le(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>r7(r,n)))),le(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),le(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=a?Ut.link_mode:Ut.relay;c===Ut.relay&&await this.confirmOnlineStateOrThrow();const{chains:u,statement:d="",uri:h,domain:p,nonce:m,type:y,exp:w,nbf:E,methods:v=[],expiry:_}=n,S=[...n.resources||[]],{topic:N,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:N,uri:x}});const P=await this.client.core.crypto.generateKeyPair(),T=Pg(P);if(await Promise.all([this.client.auth.authKeys.set($g,{responseTopic:T,publicKey:P}),this.client.auth.pairingTopics.set(T,{topic:T,pairingTopic:N})]),await this.client.core.relayer.subscribe(T,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${N}`),v.length>0){const{namespace:H}=Bl(u[0]);let D=fL(H,"request",v);Rg(S)&&(D=gL(D,S.pop())),S.push(D)}const A=_&&_>wn.wc_sessionAuthenticate.req.ttl?_:wn.wc_sessionAuthenticate.req.ttl,R={authPayload:{type:y??"caip122",chains:u,statement:d,aud:h,domain:p,version:"1",nonce:m,iat:new Date().toISOString(),exp:w,nbf:E,resources:S},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:un(A)},M={eip155:{chains:u,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},O={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:N,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:un(wn.wc_sessionPropose.req.ttl),id:Ys()},{done:j,resolve:F,reject:ee}=Bo(A,"Request expired"),ae=Ys(),G=bt("session_connect",O.id),k=bt("session_request",ae),I=async({error:H,session:D})=>{this.events.off(k,z),H?ee(H):D&&F({session:D})},z=async H=>{var D,Y,te;if(await this.deletePendingAuthRequest(ae,{message:"fulfilled",code:0}),H.error){const Re=St("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return H.error.code===Re.code?void 0:(this.events.off(G,I),ee(H.error.message))}await this.deleteProposal(O.id),this.events.off(G,I);const{cacaos:ie,responder:J}=H.result,de=[],me=[];for(const Re of ie){await N2({cacao:Re,projectId:this.client.core.projectId})||(this.client.logger.error(Re,"Signature verification failed"),ee(St("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ke}=Re,Et=Rg(Ke.resources),Kt=[lv(Ke.iss)],Yt=Yg(Ke.iss);if(Et){const Tn=T2(Et),ps=x2(Et);de.push(...Tn),Kt.push(...ps)}for(const Tn of Kt)me.push(`${Tn}:${Yt}`)}const qe=await this.client.core.crypto.generateSharedKey(P,J.publicKey);let xe;de.length>0&&(xe={topic:qe,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:un(wl),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:N,namespaces:Z2([...new Set(de)],[...new Set(me)]),transportType:c},await this.client.core.relayer.subscribe(qe,{transportType:c}),await this.client.session.set(qe,xe),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:J.metadata}),xe=this.client.session.get(qe)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(Y=J.metadata.redirect)!=null&&Y.linkMode&&(te=J.metadata.redirect)!=null&&te.universal&&r&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(qe,{transportType:Ut.link_mode})),F({auths:ie,session:xe})};this.events.once(G,I),this.events.once(k,z);let q;try{if(a){const H=Va("wc_sessionAuthenticate",R,ae);this.client.core.history.set(N,H);const D=await this.client.core.crypto.encode("",H,{type:xf,encoding:ka});q=lg(r,N,D)}else await Promise.all([this.sendRequest({topic:N,method:"wc_sessionAuthenticate",params:R,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:ae}),this.sendRequest({topic:N,method:"wc_sessionPropose",params:O,expiry:wn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:O.id})])}catch(H){throw this.events.off(G,I),this.events.off(k,z),H}return await this.setProposal(O.id,O),await this.setAuthRequest(ae,{request:Xn(Ot({},R),{verifyContext:{}}),pairingTopic:N,transportType:c}),{uri:q??x,response:j}}),le(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Uo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw a.setError(Fd.no_internet_connection),_}const c=this.getPendingAuthRequest(r);if(!c)throw a.setError(Fd.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const u=c.transportType||Ut.relay;u===Ut.relay&&await this.confirmOnlineStateOrThrow();const d=c.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=Pg(d),m={type:Gi,receiverPublicKey:d,senderPublicKey:h},y=[],w=[];for(const _ of s){if(!await N2({cacao:_,projectId:this.client.core.projectId})){a.setError(Fd.invalid_cacao);const T=St("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:T,encodeOpts:m}),new Error(T.message)}a.addTrace(Uo.cacaos_verified);const{p:S}=_,N=Rg(S.resources),x=[lv(S.iss)],P=Yg(S.iss);if(N){const T=T2(N),A=x2(N);y.push(...T),x.push(...A)}for(const T of x)w.push(`${T}:${P}`)}const E=await this.client.core.crypto.generateSharedKey(h,d);a.addTrace(Uo.create_authenticated_session_topic);let v;if((y==null?void 0:y.length)>0){v={topic:E,acknowledged:!0,self:{publicKey:h,metadata:this.client.metadata},peer:{publicKey:d,metadata:c.requester.metadata},controller:d,expiry:un(wl),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:Z2([...new Set(y)],[...new Set(w)]),transportType:u},a.addTrace(Uo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:u})}catch(_){throw a.setError(Fd.subscribe_authenticated_session_topic_failure),_}a.addTrace(Uo.subscribe_authenticated_session_topic_success),await this.client.session.set(E,v),a.addTrace(Uo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Uo.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:h,metadata:this.client.metadata}},encodeOpts:m,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,u)})}catch(_){throw a.setError(Fd.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:v}}),le(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===Ut.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=Pg(c),h={type:Gi,receiverPublicKey:c,senderPublicKey:u};await this.sendError({id:r,topic:d,error:s,encodeOpts:h,rpcOpts:wn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,St("USER_DISCONNECTED"))}),le(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return lI(r,s)}),le(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),le(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===n.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),le(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:a=!1,emitEvent:c=!0,id:u=0}=n,{self:d}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,St("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(d.publicKey)&&await this.client.core.crypto.deleteKeyPair(d.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),a||this.client.core.expirer.del(s),this.client.core.storage.removeItem($N).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===s&&this.deletePendingSessionRequest(h.id,St("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Gs.idle),c&&this.client.events.emit("session_delete",{id:u,topic:s})}),le(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),a=this.client.core.eventClient.getEvent({topic:s.pairingTopic});a==null||a.setError($o.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,St("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),le(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),s&&(this.sessionRequestQueue.state=Gs.idle,this.client.events.emit("session_request_expire",{id:n}))}),le(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),le(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),le(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,un(wn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),le(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:a,transportType:c=Ut.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:a,verifyContext:s.verifyContext,transportType:c})}),le(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:a,verifyContext:c}=n,u=a.request.expiryTimestamp||un(wn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,u),await this.client.pendingRequest.set(r,{id:r,topic:s,params:a,verifyContext:c})}),le(this,"sendRequest",async n=>{const{topic:r,method:s,params:a,expiry:c,relayRpcId:u,clientRpcId:d,throwOnFailedPublish:h,appLink:p,tvf:m}=n,y=Va(s,a,d);let w;const E=!!p;try{const S=E?ka:Is;w=await this.client.core.crypto.encode(r,y,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),S}let v;if(lV.includes(s)){const S=ti(JSON.stringify(y)),N=ti(w);v=await this.client.core.verify.register({id:N,decryptedId:S})}const _=wn[s].req;if(_.attestation=v,c&&(_.ttl=c),u&&(_.id=u),this.client.core.history.set(r,y),E){const S=lg(p,r,w);await global.Linking.openURL(S,this.client.name)}else{const S=wn[s].req;c&&(S.ttl=c),u&&(S.id=u),S.tvf=Xn(Ot({},m),{correlationId:y.id}),h?(S.internal=Xn(Ot({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,S)):this.client.core.relayer.publish(r,w,S).catch(N=>this.client.logger.error(N))}return y.id}),le(this,"sendResult",async n=>{const{id:r,topic:s,result:a,throwOnFailedPublish:c,encodeOpts:u,appLink:d}=n,h=Bm(r,a);let p;const m=d&&typeof(global==null?void 0:global.Linking)<"u";try{const E=m?ka:Is;p=await this.client.core.crypto.encode(s,h,Xn(Ot({},u||{}),{encoding:E}))}catch(E){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),E}let y,w;try{y=await this.client.core.history.get(s,r);const E=y.request;try{this.shouldSetTVF(E.method,E.params)&&(w=this.getTVFParams(r,E.params,a))}catch(v){this.client.logger.warn("sendResult() -> getTVFParams() failed",v)}}catch(E){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),E}if(m){const E=lg(d,s,p);await global.Linking.openURL(E,this.client.name)}else{const E=y.request.method,v=wn[E].res;v.tvf=Xn(Ot({},w),{correlationId:r}),c?(v.internal=Xn(Ot({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,v)):this.client.core.relayer.publish(s,p,v).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(h)}),le(this,"sendError",async n=>{const{id:r,topic:s,error:a,encodeOpts:c,rpcOpts:u,appLink:d}=n,h=Lm(r,a);let p;const m=d&&typeof(global==null?void 0:global.Linking)<"u";try{const w=m?ka:Is;p=await this.client.core.crypto.encode(s,h,Xn(Ot({},c||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),w}let y;try{y=await this.client.core.history.get(s,r)}catch(w){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),w}if(m){const w=lg(d,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=y.request.method,E=u||wn[w].res;this.client.core.relayer.publish(s,p,E)}await this.client.core.history.resolve(h)}),le(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let a=!1;$a(s.expiry)&&(a=!0),this.client.core.crypto.keychain.has(s.topic)||(a=!0),a&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{$a(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),le(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),le(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),le(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Gs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Gs.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Gs.idle}),le(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:a,transportType:c,encryptedId:u}=n,d=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:d}))switch(d){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:a,encryptedId:u});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});default:return this.client.logger.info(`Unsupported request method ${d}`)}}),le(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:a}=n,c=(await this.client.core.history.get(r,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),le(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ye("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),le(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(s)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),le(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:a,encryptedId:c}=n,{params:u,id:d}=s;try{const h=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),h==null||h.setError(ji.proposal_listener_not_found)),this.isValidConnect(Ot({},s.params));const p=u.expiryTimestamp||un(wn.wc_sessionPropose.req.ttl),m=Ot({id:d,pairingTopic:r,expiryTimestamp:p},u);await this.setProposal(d,m);const y=await this.getVerifyContext({attestationId:a,hash:ti(JSON.stringify(s)),encryptedId:c,metadata:m.proposer.metadata});h==null||h.addTrace(Ks.emit_session_proposal),this.client.events.emit("session_proposal",{id:d,params:m,verifyContext:y})}catch(h){await this.sendError({id:d,topic:r,error:h,rpcOpts:wn.wc_sessionPropose.autoReject}),this.client.logger.error(h)}}),le(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:a}=r;if(Zs(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const u=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});const d=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const h=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});const p=await this.client.core.crypto.generateSharedKey(d,h);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:n,proposalId:a,publicKey:d});const m=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:n})}else if(is(r)){await this.client.proposal.delete(a,St("USER_DISCONNECTED"));const c=bt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),le(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:a}=r;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:d,namespaces:h,sessionProperties:p,scopedProperties:m,sessionConfig:y}=r.params,w=[...this.pendingSessions.values()].find(_=>_.sessionTopic===n);if(!w)return this.client.logger.error(`Pending session not found for topic ${n}`);const E=this.client.proposal.get(w.proposalId),v=Xn(Ot(Ot(Ot({topic:n,relay:c,expiry:d,namespaces:h,acknowledged:!0,pairingTopic:w.pairingTopic,requiredNamespaces:E.requiredNamespaces,optionalNamespaces:E.optionalNamespaces,controller:u.publicKey,self:{publicKey:w.publicKey,metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p}),m&&{scopedProperties:m}),y&&{sessionConfig:y}),{transportType:Ut.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:w.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(bt("session_connect",w.proposalId),{session:v}),this.pendingSessions.delete(w.proposalId),this.deleteProposal(w.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),le(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Zs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(bt("session_approve",s),{})):is(r)&&(await this.client.session.delete(n,St("USER_DISCONNECTED")),this.events.emit(bt("session_approve",s),{error:r.error}))}),le(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:a}=r;try{const c=`${n}_session_update`,u=Ld.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:St("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ot({topic:n},s));try{Ld.set(c,a),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0})}catch(d){throw Ld.delete(c),d}this.client.events.emit("session_update",{id:a,topic:n,params:s})}catch(c){await this.sendError({id:a,topic:n,error:c}),this.client.logger.error(c)}}),le(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),le(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,a=bt("session_update",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Zs(r)?this.events.emit(bt("session_update",s),{}):is(r)&&this.events.emit(bt("session_update",s),{error:r.error})}),le(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,un(wl)),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),le(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,a=bt("session_extend",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Zs(r)?this.events.emit(bt("session_extend",s),{}):is(r)&&this.events.emit(bt("session_extend",s),{error:r.error})}),le(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),le(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,a=bt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);Zs(r)?this.events.emit(bt("session_ping",s),{}):is(r)&&this.events.emit(bt("session_ping",s),{error:r.error})},500)}),le(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(Cn.publish,async()=>{a(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:St("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),le(this,"onSessionRequest",async n=>{var r,s,a;const{topic:c,payload:u,attestation:d,encryptedId:h,transportType:p}=n,{id:m,params:y}=u;try{await this.isValidRequest(Ot({topic:c},y));const w=this.client.session.get(c),E=await this.getVerifyContext({attestationId:d,hash:ti(JSON.stringify(Va("wc_sessionRequest",y,m))),encryptedId:h,metadata:w.peer.metadata,transportType:p}),v={id:m,topic:c,params:y,verifyContext:E};await this.setPendingSessionRequest(v),p===Ut.link_mode&&(r=w.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=w.peer.metadata.redirect)==null?void 0:s.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(w){await this.sendError({id:m,topic:c,error:w}),this.client.logger.error(w)}}),le(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,a=bt("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Zs(r)?this.events.emit(bt("session_request",s),{result:r.result}):is(r)&&this.events.emit(bt("session_request",s),{error:r.error})}),le(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:a}=r;try{const c=`${n}_session_event_${a.event.name}`,u=Ld.get(c);if(u&&this.isRequestOutOfSync(u,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Ot({topic:n},a)),this.client.events.emit("session_event",{id:s,topic:n,params:a}),Ld.set(c,s)}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),le(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Zs(r)?this.events.emit(bt("session_request",s),{result:r.result}):is(r)&&this.events.emit(bt("session_request",s),{error:r.error})}),le(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:a,attestation:c,encryptedId:u,transportType:d}=n;try{const{requester:h,authPayload:p,expiryTimestamp:m}=a.params,y=await this.getVerifyContext({attestationId:c,hash:ti(JSON.stringify(a)),encryptedId:u,metadata:h.metadata,transportType:d}),w={requester:h,pairingTopic:s,id:a.id,authPayload:p,verifyContext:y,expiryTimestamp:m};await this.setAuthRequest(a.id,{request:w,pairingTopic:s,transportType:d}),d===Ut.link_mode&&(r=h.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(h.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:a.params,id:a.id,verifyContext:y})}catch(h){this.client.logger.error(h);const p=a.params.requester.publicKey,m=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(a.params.requester.metadata,d),w={type:Gi,receiverPublicKey:p,senderPublicKey:m};await this.sendError({id:a.id,topic:s,error:h,encodeOpts:w,rpcOpts:wn.wc_sessionAuthenticate.autoReject,appLink:y})}}),le(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),le(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Gs.idle,this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay))}),le(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,u=bt("session_request",c);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(bt("session_request",a.request.id),{error:r})})}),le(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Gs.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Gs.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),le(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),le(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Va("wc_sessionPropose",Xn(Ot({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),le(this,"isValidConnect",async n=>{if(!pr(n)){const{message:h}=ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(h)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:d}=n;if(Un(r)||await this.isValidPairingTopic(r),!g7(d)){const{message:h}=ye("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(h)}if(!Un(s)&&Nh(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Un(a)&&Nh(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Un(c)||this.validateSessionProps(c,"sessionProperties"),!Un(u)){this.validateSessionProps(u,"scopedProperties");const h=Object.keys(s||{}).concat(Object.keys(a||{}));if(!Object.keys(u).every(p=>h.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(u)}, required/optional namespaces: ${JSON.stringify(h)}`)}}),le(this,"validateNamespaces",(n,r)=>{const s=p7(n,"connect()",r);if(s)throw new Error(s.message)}),le(this,"isValidApprove",async n=>{if(!pr(n))throw new Error(ye("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:a,sessionProperties:c,scopedProperties:u}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const d=this.client.proposal.get(r),h=rw(s,"approve()");if(h)throw new Error(h.message);const p=J2(d.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!sn(a,!0)){const{message:m}=ye("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(m)}if(Un(c)||this.validateSessionProps(c,"sessionProperties"),!Un(u)){this.validateSessionProps(u,"scopedProperties");const m=new Set(Object.keys(s));if(!Object.keys(u).every(y=>m.has(y)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(u)}, approved namespaces: ${Array.from(m).join(", ")}`)}}),le(this,"isValidReject",async n=>{if(!pr(n)){const{message:a}=ye("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!y7(s)){const{message:a}=ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}}),le(this,"isValidSessionSettleRequest",n=>{if(!pr(n)){const{message:h}=ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(h)}const{relay:r,controller:s,namespaces:a,expiry:c}=n;if(!UI(r)){const{message:h}=ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const u=c7(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);const d=rw(a,"onSessionSettleRequest()");if(d)throw new Error(d.message);if($a(c)){const{message:h}=ye("EXPIRED","onSessionSettleRequest()");throw new Error(h)}}),le(this,"isValidUpdate",async n=>{if(!pr(n)){const{message:d}=ye("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(d)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const a=this.client.session.get(r),c=rw(s,"update()");if(c)throw new Error(c.message);const u=J2(a.requiredNamespaces,s,"update()");if(u)throw new Error(u.message)}),le(this,"isValidExtend",async n=>{if(!pr(n)){const{message:s}=ye("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),le(this,"isValidRequest",async n=>{if(!pr(n)){const{message:d}=ye("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(d)}const{topic:r,request:s,chainId:a,expiry:c}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:u}=this.client.session.get(r);if(!X2(u,a)){const{message:d}=ye("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(d)}if(!b7(s)){const{message:d}=ye("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(d)}if(!E7(u,a,s.method)){const{message:d}=ye("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(d)}if(c&&!S7(c,dw)){const{message:d}=ye("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${dw.min} and ${dw.max}`);throw new Error(d)}}),le(this,"isValidRespond",async n=>{var r;if(!pr(n)){const{message:c}=ye("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:s,response:a}=n;try{await this.isValidSessionTopic(s)}catch(c){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!w7(a)){const{message:c}=ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),le(this,"isValidPing",async n=>{if(!pr(n)){const{message:s}=ye("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidEmit",async n=>{if(!pr(n)){const{message:u}=ye("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(u)}const{topic:r,event:s,chainId:a}=n;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!X2(c,a)){const{message:u}=ye("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!v7(s)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}if(!_7(c,a,s.name)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}}),le(this,"isValidDisconnect",async n=>{if(!pr(n)){const{message:s}=ye("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),le(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:a,nonce:c}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!sn(s,!1))throw new Error("uri is required parameter");if(!sn(a,!1))throw new Error("domain is required parameter");if(!sn(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(d=>Bl(d).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:u}=Bl(r[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),le(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:a,metadata:c,transportType:u}=n,d={verified:{verifyUrl:c.verifyUrl||ch,validation:"UNKNOWN",origin:c.url||""}};try{if(u===Ut.link_mode){const p=this.getAppLinkIfEnabled(c,u);return d.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",d}const h=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:a,verifyUrl:c.verifyUrl});h&&(d.verified.origin=h.origin,d.verified.isScam=h.isScam,d.verified.validation=h.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(h){this.client.logger.warn(h)}return this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`),d}),le(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,a)=>{if(s==null){const{message:c}=ye("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[a]}`);throw new Error(c)}})}),le(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),le(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=a)break;this.recentlyDeletedMap.delete(c)}}}),le(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),le(this,"isLinkModeEnabled",(n,r)=>{var s,a,c,u,d,h,p,m,y;return!n||r!==Ut.link_mode?!1:((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.linkMode)===!0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==void 0&&((h=(d=this.client.metadata)==null?void 0:d.redirect)==null?void 0:h.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.universal)!==void 0&&((m=n==null?void 0:n.redirect)==null?void 0:m.universal)!==""&&((y=n==null?void 0:n.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),le(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),le(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=y2(n,"topic")||"",s=decodeURIComponent(y2(n,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:Ut.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:a})}),le(this,"registerLinkModeListeners",async()=>{var n;if(EE()||ao()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),le(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:s}=r;return Object.keys(kN).includes(s.method)}),le(this,"getTVFParams",(n,r,s)=>{var a,c;try{const u=r.request.method,d=this.extractTxHashesFromResult(u,s);return Xn(Ot({correlationId:n,rpcMethods:[u],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]}),{txHashes:d})}catch(u){this.client.logger.warn("Error getting TVF params",u)}return{}}),le(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const a=s.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),le(this,"extractTxHashesFromResult",(n,r)=>{try{const s=kN[n];if(typeof r=="string")return[r];const a=r[s.key];if(Ya(a))return n==="solana_signAllTransactions"?a.map(c=>JB(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const a of s)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Cn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes($g)?this.client.auth.authKeys.get($g):{publicKey:void 0};try{const u=await this.client.core.crypto.decode(n,r,{receiverPublicKey:c,encoding:a===Ut.link_mode?ka:Is});RE(u)?(this.client.core.history.set(n,u),await this.onRelayEventRequest({topic:n,payload:u,attestation:s,transportType:a,encryptedId:ti(r)})):zm(u)?(await this.client.core.history.resolve(u),await this.onRelayEventResponse({topic:n,payload:u,transportType:a}),this.client.core.history.delete(n,u.id)):await this.onRelayEventUnknownPayload({topic:n,payload:u,transportType:a}),await this.client.core.relayer.messages.ack(n,r)}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(rs.expired,async e=>{const{topic:n,id:r}=eI(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ye("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ye("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(qo.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(qo.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!sn(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if($a(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ye("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!sn(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if($a(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ye("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ye("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(sn(e,!1)){const{message:n}=ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!m7(e)){const{message:n}=ye("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if($a(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ye("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class EV extends Nc{constructor(e,n){super(e,n,iV,PE),this.core=e,this.logger=n}}let _V=class extends Nc{constructor(e,n){super(e,n,aV,PE),this.core=e,this.logger=n}};class CV extends Nc{constructor(e,n){super(e,n,cV,PE,r=>r.id),this.core=e,this.logger=n}}class AV extends Nc{constructor(e,n){super(e,n,hV,qm,()=>$g),this.core=e,this.logger=n}}class SV extends Nc{constructor(e,n){super(e,n,fV,qm),this.core=e,this.logger=n}}class NV extends Nc{constructor(e,n){super(e,n,pV,qm,r=>r.id),this.core=e,this.logger=n}}var TV=Object.defineProperty,xV=(t,e,n)=>e in t?TV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hw=(t,e,n)=>xV(t,typeof e!="symbol"?e+"":e,n);class OV{constructor(e,n){this.core=e,this.logger=n,hw(this,"authKeys"),hw(this,"pairingTopics"),hw(this,"requests"),this.authKeys=new AV(this.core,this.logger),this.pairingTopics=new SV(this.core,this.logger),this.requests=new NV(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var IV=Object.defineProperty,RV=(t,e,n)=>e in t?IV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e,n)=>RV(t,typeof e!="symbol"?e+"":e,n);let PV=class oR extends p${constructor(e){super(e),st(this,"protocol",sR),st(this,"version",iR),st(this,"name",uw.name),st(this,"metadata"),st(this,"core"),st(this,"logger"),st(this,"events",new us.EventEmitter),st(this,"engine"),st(this,"session"),st(this,"proposal"),st(this,"pendingRequest"),st(this,"auth"),st(this,"signConfig"),st(this,"on",(r,s)=>this.events.on(r,s)),st(this,"once",(r,s)=>this.events.once(r,s)),st(this,"off",(r,s)=>this.events.off(r,s)),st(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),st(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),st(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),st(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(a){throw this.logger.error(a.message),a}}),st(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||uw.name,this.metadata=hB(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:bf(wu({level:(e==null?void 0:e.logger)||uw.logger}));this.core=(e==null?void 0:e.core)||new sV(e),this.logger=Yn(n,this.name),this.session=new _V(this.core,this.logger),this.proposal=new EV(this.core,this.logger),this.pendingRequest=new CV(this.core,this.logger),this.engine=new vV(this),this.auth=new OV(this.core,this.logger)}static async init(e){const n=new oR(e);return await n.initialize(),n}get context(){return vr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ge.toMiliseconds(ge.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var dg={exports:{}},jN;function DV(){return jN||(jN=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ei<"u"&&ei,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(c){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof ei<"u"&&ei||{},d={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(k){return k&&DataView.prototype.isPrototypeOf(k)}if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(k){return k&&p.indexOf(Object.prototype.toString.call(k))>-1};function y(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function w(k){return typeof k!="string"&&(k=String(k)),k}function E(k){var I={next:function(){var z=k.shift();return{done:z===void 0,value:z}}};return d.iterable&&(I[Symbol.iterator]=function(){return I}),I}function v(k){this.map={},k instanceof v?k.forEach(function(I,z){this.append(z,I)},this):Array.isArray(k)?k.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(I){this.append(I,k[I])},this)}v.prototype.append=function(k,I){k=y(k),I=w(I);var z=this.map[k];this.map[k]=z?z+", "+I:I},v.prototype.delete=function(k){delete this.map[y(k)]},v.prototype.get=function(k){return k=y(k),this.has(k)?this.map[k]:null},v.prototype.has=function(k){return this.map.hasOwnProperty(y(k))},v.prototype.set=function(k,I){this.map[y(k)]=w(I)},v.prototype.forEach=function(k,I){for(var z in this.map)this.map.hasOwnProperty(z)&&k.call(I,this.map[z],z,this)},v.prototype.keys=function(){var k=[];return this.forEach(function(I,z){k.push(z)}),E(k)},v.prototype.values=function(){var k=[];return this.forEach(function(I){k.push(I)}),E(k)},v.prototype.entries=function(){var k=[];return this.forEach(function(I,z){k.push([z,I])}),E(k)},d.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function _(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function S(k){return new Promise(function(I,z){k.onload=function(){I(k.result)},k.onerror=function(){z(k.error)}})}function N(k){var I=new FileReader,z=S(I);return I.readAsArrayBuffer(k),z}function x(k){var I=new FileReader,z=S(I),q=/charset=([A-Za-z0-9_-]+)/.exec(k.type),H=q?q[1]:"utf-8";return I.readAsText(k,H),z}function P(k){for(var I=new Uint8Array(k),z=new Array(I.length),q=0;q<I.length;q++)z[q]=String.fromCharCode(I[q]);return z.join("")}function T(k){if(k.slice)return k.slice(0);var I=new Uint8Array(k.byteLength);return I.set(new Uint8Array(k)),I.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:d.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:d.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():d.arrayBuffer&&d.blob&&h(k)?(this._bodyArrayBuffer=T(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||m(k))?this._bodyArrayBuffer=T(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var k=_(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=_(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(N);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var k=_(this);if(k)return k;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(k){var I=k.toUpperCase();return R.indexOf(I)>-1?I:k}function O(k,I){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var z=I.body;if(k instanceof O){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,I.headers||(this.headers=new v(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!z&&k._bodyInit!=null&&(z=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new v(I.headers)),this.method=M(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in u){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function j(k){var I=new FormData;return k.trim().split("&").forEach(function(z){if(z){var q=z.split("="),H=q.shift().replace(/\+/g," "),D=q.join("=").replace(/\+/g," ");I.append(decodeURIComponent(H),decodeURIComponent(D))}}),I}function F(k){var I=new v,z=k.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var H=q.split(":"),D=H.shift().trim();if(D){var Y=H.join(":").trim();try{I.append(D,Y)}catch(te){console.warn("Response "+te.message)}}}),I}A.call(O.prototype);function ee(k,I){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new v(I.headers),this.url=I.url||"",this._initBody(k)}A.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},ee.error=function(){var k=new ee(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var ae=[301,302,303,307,308];ee.redirect=function(k,I){if(ae.indexOf(I)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:I,headers:{location:k}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(I,z){this.message=I,this.name=z;var q=Error(I);this.stack=q.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function G(k,I){return new Promise(function(z,q){var H=new O(k,I);if(H.signal&&H.signal.aborted)return q(new c.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function Y(){D.abort()}D.onload=function(){var J={statusText:D.statusText,headers:F(D.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(D.status<200||D.status>599)?J.status=200:J.status=D.status,J.url="responseURL"in D?D.responseURL:J.headers.get("X-Request-URL");var de="response"in D?D.response:D.responseText;setTimeout(function(){z(new ee(de,J))},0)},D.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){q(new c.DOMException("Aborted","AbortError"))},0)};function te(J){try{return J===""&&u.location.href?u.location.href:J}catch{return J}}if(D.open(H.method,te(H.url),!0),H.credentials==="include"?D.withCredentials=!0:H.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(d.blob?D.responseType="blob":d.arrayBuffer&&(D.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof v||u.Headers&&I.headers instanceof u.Headers)){var ie=[];Object.getOwnPropertyNames(I.headers).forEach(function(J){ie.push(y(J)),D.setRequestHeader(J,w(I.headers[J]))}),H.headers.forEach(function(J,de){ie.indexOf(de)===-1&&D.setRequestHeader(de,J)})}else H.headers.forEach(function(J,de){D.setRequestHeader(de,J)});H.signal&&(H.signal.addEventListener("abort",Y),D.onreadystatechange=function(){D.readyState===4&&H.signal.removeEventListener("abort",Y)}),D.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return G.polyfill=!0,u.fetch||(u.fetch=G,u.Headers=v,u.Request=O,u.Response=ee),c.Headers=v,c.Request=O,c.Response=ee,c.fetch=G,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(dg,dg.exports)),dg.exports}var $V=DV();const BN=mu($V);var UV=Object.defineProperty,kV=Object.defineProperties,MV=Object.getOwnPropertyDescriptors,LN=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,BV=Object.prototype.propertyIsEnumerable,zN=(t,e,n)=>e in t?UV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FN=(t,e)=>{for(var n in e||(e={}))jV.call(e,n)&&zN(t,n,e[n]);if(LN)for(var n of LN(e))BV.call(e,n)&&zN(t,n,e[n]);return t},qN=(t,e)=>kV(t,MV(e));const LV={Accept:"application/json","Content-Type":"application/json"},zV="POST",HN={headers:LV,method:zV},VN=10;let ks=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new us.EventEmitter,this.isAvailable=!1,this.registering=!1,!aN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Yi(e),r=await(await BN(this.url,qN(FN({},HN),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!aN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Yi({id:1,jsonrpc:"2.0",method:"test",params:[]});await BN(e,qN(FN({},HN),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?cc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=Lm(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return jI(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>VN&&this.events.setMaxListeners(VN)}};const GN="error",FV="wss://relay.walletconnect.org",qV="wc",HV="universal_provider",hg=`${qV}@2:${HV}:`,cR="https://rpc.walletconnect.org/v1/",$l="generic",VV=`${cR}bundler`,fs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function GV(){}function DE(t){return t==null||typeof t!="object"&&typeof t!="function"}function $E(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WV(t){if(DE(t))return t;if(Array.isArray(t)||$E(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function WN(t){return typeof t=="object"&&t!==null}function lR(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function uR(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const KV="[object RegExp]",dR="[object String]",hR="[object Number]",fR="[object Boolean]",pR="[object Arguments]",YV="[object Symbol]",ZV="[object Date]",QV="[object Map]",XV="[object Set]",JV="[object Array]",eG="[object ArrayBuffer]",tG="[object Object]",nG="[object DataView]",rG="[object Uint8Array]",sG="[object Uint8ClampedArray]",iG="[object Uint16Array]",aG="[object Uint32Array]",oG="[object Int8Array]",cG="[object Int16Array]",lG="[object Int32Array]",uG="[object Float32Array]",dG="[object Float64Array]";function hG(t,e){return jl(t,void 0,t,new Map,e)}function jl(t,e,n,r=new Map,s=void 0){const a=s==null?void 0:s(t,e,n,r);if(a!=null)return a;if(DE(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const c=new Array(t.length);r.set(t,c);for(let u=0;u<t.length;u++)c[u]=jl(t[u],u,n,r,s);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;r.set(t,c);for(const[u,d]of t)c.set(u,jl(d,u,n,r,s));return c}if(t instanceof Set){const c=new Set;r.set(t,c);for(const u of t)c.add(jl(u,void 0,n,r,s));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if($E(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,c);for(let u=0;u<t.length;u++)c[u]=jl(t[u],u,n,r,s);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,c),Ho(c,t,n,r,s),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return r.set(t,c),Ho(c,t,n,r,s),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return r.set(t,c),Ho(c,t,n,r,s),c}if(t instanceof Error){const c=new t.constructor;return r.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,Ho(c,t,n,r,s),c}if(typeof t=="object"&&fG(t)){const c=Object.create(Object.getPrototypeOf(t));return r.set(t,c),Ho(c,t,n,r,s),c}return t}function Ho(t,e,n=t,r,s){const a=[...Object.keys(e),...lR(e)];for(let c=0;c<a.length;c++){const u=a[c],d=Object.getOwnPropertyDescriptor(t,u);(d==null||d.writable)&&(t[u]=jl(e[u],u,n,r,s))}}function fG(t){switch(uR(t)){case pR:case JV:case eG:case nG:case fR:case ZV:case uG:case dG:case oG:case cG:case lG:case QV:case hR:case tG:case KV:case XV:case dR:case YV:case rG:case sG:case iG:case aG:return!0;default:return!1}}function pG(t,e){return hG(t,(n,r,s,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case hR:case dR:case fR:{const c=new t.constructor(t==null?void 0:t.valueOf());return Ho(c,t),c}case pR:{const c={};return Ho(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function KN(t){return pG(t)}function YN(t){return t!==null&&typeof t=="object"&&uR(t)==="[object Arguments]"}function gG(t){return $E(t)}function mG(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function yG(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let a=0;a<n.length;a++){const c=n[a];s=$v(s,c,r,new Map)}return s}function $v(t,e,n,r){if(DE(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return WV(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const s=[...Object.keys(e),...lR(e)];for(let a=0;a<s.length;a++){const c=s[a];let u=e[c],d=t[c];if(YN(u)&&(u={...u}),YN(d)&&(d={...d}),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=KN(u)),Array.isArray(u))if(typeof d=="object"&&d!=null){const p=[],m=Reflect.ownKeys(d);for(let y=0;y<m.length;y++){const w=m[y];p[w]=d[w]}d=p}else d=[];const h=n(d,u,c,t,e,r);h!=null?t[c]=h:Array.isArray(u)||WN(d)&&WN(u)?t[c]=$v(d,u,n,r):d==null&&mG(u)?t[c]=$v({},u,n,r):d==null&&gG(u)?t[c]=KN(u):(d===void 0||u!==void 0)&&(t[c]=u)}return t}function bG(t,...e){return yG(t,...e,GV)}var wG=Object.defineProperty,vG=Object.defineProperties,EG=Object.getOwnPropertyDescriptors,ZN=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,CG=Object.prototype.propertyIsEnumerable,QN=(t,e,n)=>e in t?wG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fg=(t,e)=>{for(var n in e||(e={}))_G.call(e,n)&&QN(t,n,e[n]);if(ZN)for(var n of ZN(e))CG.call(e,n)&&QN(t,n,e[n]);return t},AG=(t,e)=>vG(t,EG(e));function jr(t,e,n){var r;const s=Bl(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${cR}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Tc(t){return t.includes(":")?t.split(":")[1]:t}function gR(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function SG(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const a=e.namespaces[s].accounts;r.push(...a)}),r}function fw(t={},e={}){const n=XN(t),r=XN(e);return bG(n,r)}function XN(t){var e,n,r,s;const a={};if(!Nh(t))return a;for(const[c,u]of Object.entries(t)){const d=xE(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],m=u.rpcMap||{},y=eh(c);a[y]=AG(fg(fg({},a[y]),u),{chains:Ig(d,(e=a[y])==null?void 0:e.chains),methods:Ig(h,(n=a[y])==null?void 0:n.methods),events:Ig(p,(r=a[y])==null?void 0:r.events),rpcMap:fg(fg({},m),(s=a[y])==null?void 0:s.rpcMap)})}return a}function JN(t){return t.includes(":")?t.split(":")[2]:t}function eT(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],a=r.events||[],c=r.accounts||[],u=xE(n)?[n]:r.chains?r.chains:gR(r.accounts);e[n]={chains:u,methods:s,events:a,accounts:c}}return e}function pw(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const mR={},gt=t=>mR[t],gw=(t,e)=>{mR[t]=e};var NG=Object.defineProperty,TG=(t,e,n)=>e in t?NG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vl=(t,e,n)=>TG(t,typeof e!="symbol"?e+"":e,n);class xG{constructor(e){vl(this,"name","polkadot"),vl(this,"client"),vl(this,"httpProviders"),vl(this,"events"),vl(this,"namespace"),vl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Tc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var OG=Object.defineProperty,IG=Object.defineProperties,RG=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,Uv=(t,e,n)=>e in t?OG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nT=(t,e)=>{for(var n in e||(e={}))PG.call(e,n)&&Uv(t,n,e[n]);if(tT)for(var n of tT(e))DG.call(e,n)&&Uv(t,n,e[n]);return t},rT=(t,e)=>IG(t,RG(e)),El=(t,e,n)=>Uv(t,typeof e!="symbol"?e+"":e,n);class $G{constructor(e){El(this,"name","eip155"),El(this,"client"),El(this,"chainId"),El(this,"namespace"),El(this,"httpProviders"),El(this,"events"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Tc(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const a=parseInt(s,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((s=c==null?void 0:c.sessionProperties)==null?void 0:s.capabilities)||{};if(u!=null&&u[a])return u==null?void 0:u[a];const d=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:rT(nT({},c.sessionProperties||{}),{capabilities:rT(nT({},u||{}),{[a]:d})})})}catch(h){console.warn("Failed to update session with capabilities",h)}return d}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const u=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(u,e)}catch(d){console.warn("Failed to fetch call status from bundler",d,u)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Va("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${VV}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var UG=Object.defineProperty,kG=(t,e,n)=>e in t?UG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_l=(t,e,n)=>kG(t,typeof e!="symbol"?e+"":e,n);class MG{constructor(e){_l(this,"name","solana"),_l(this,"client"),_l(this,"httpProviders"),_l(this,"events"),_l(this,"namespace"),_l(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Tc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var jG=Object.defineProperty,BG=(t,e,n)=>e in t?jG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cl=(t,e,n)=>BG(t,typeof e!="symbol"?e+"":e,n);class LG{constructor(e){Cl(this,"name","cosmos"),Cl(this,"client"),Cl(this,"httpProviders"),Cl(this,"events"),Cl(this,"namespace"),Cl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Tc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var zG=Object.defineProperty,FG=(t,e,n)=>e in t?zG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Al=(t,e,n)=>FG(t,typeof e!="symbol"?e+"":e,n);class qG{constructor(e){Al(this,"name","algorand"),Al(this,"client"),Al(this,"httpProviders"),Al(this,"events"),Al(this,"namespace"),Al(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new hs(new ks(r,gt("disableProviderPing")))}}var HG=Object.defineProperty,VG=(t,e,n)=>e in t?HG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sl=(t,e,n)=>VG(t,typeof e!="symbol"?e+"":e,n);class GG{constructor(e){Sl(this,"name","cip34"),Sl(this,"client"),Sl(this,"httpProviders"),Sl(this,"events"),Sl(this,"namespace"),Sl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Tc(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var WG=Object.defineProperty,KG=(t,e,n)=>e in t?WG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nl=(t,e,n)=>KG(t,typeof e!="symbol"?e+"":e,n);class YG{constructor(e){Nl(this,"name","elrond"),Nl(this,"client"),Nl(this,"httpProviders"),Nl(this,"events"),Nl(this,"namespace"),Nl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Tc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var ZG=Object.defineProperty,QG=(t,e,n)=>e in t?ZG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tl=(t,e,n)=>QG(t,typeof e!="symbol"?e+"":e,n);class XG{constructor(e){Tl(this,"name","multiversx"),Tl(this,"client"),Tl(this,"httpProviders"),Tl(this,"events"),Tl(this,"namespace"),Tl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Tc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var JG=Object.defineProperty,eW=(t,e,n)=>e in t?JG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xl=(t,e,n)=>eW(t,typeof e!="symbol"?e+"":e,n);class tW{constructor(e){xl(this,"name","near"),xl(this,"client"),xl(this,"httpProviders"),xl(this,"events"),xl(this,"namespace"),xl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace);return typeof r>"u"?void 0:new hs(new ks(r,gt("disableProviderPing")))}}var nW=Object.defineProperty,rW=(t,e,n)=>e in t?nW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ol=(t,e,n)=>rW(t,typeof e!="symbol"?e+"":e,n);class sW{constructor(e){Ol(this,"name","tezos"),Ol(this,"client"),Ol(this,"httpProviders"),Ol(this,"events"),Ol(this,"namespace"),Ol(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace);return typeof r>"u"?void 0:new hs(new ks(r))}}var iW=Object.defineProperty,aW=(t,e,n)=>e in t?iW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Il=(t,e,n)=>aW(t,typeof e!="symbol"?e+"":e,n);class oW{constructor(e){Il(this,"name",$l),Il(this,"client"),Il(this,"httpProviders"),Il(this,"events"),Il(this,"namespace"),Il(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const a=Bl(s);r[`${a.namespace}:${a.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new hs(new ks(r,gt("disableProviderPing")))}}var cW=Object.defineProperty,lW=Object.defineProperties,uW=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,dW=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,kv=(t,e,n)=>e in t?cW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pg=(t,e)=>{for(var n in e||(e={}))dW.call(e,n)&&kv(t,n,e[n]);if(sT)for(var n of sT(e))hW.call(e,n)&&kv(t,n,e[n]);return t},mw=(t,e)=>lW(t,uW(e)),Jr=(t,e,n)=>kv(t,typeof e!="symbol"?e+"":e,n);let fW=class yR{constructor(e){Jr(this,"client"),Jr(this,"namespaces"),Jr(this,"optionalNamespaces"),Jr(this,"sessionProperties"),Jr(this,"scopedProperties"),Jr(this,"events",new dE),Jr(this,"rpcProviders",{}),Jr(this,"session"),Jr(this,"providerOpts"),Jr(this,"logger"),Jr(this,"uri"),Jr(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:bf(wu({level:(e==null?void 0:e.logger)||GN})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new yR(e);return await n.initialize(),n}async request(e,n,r){const[s,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:pg({},e),chainId:`${s}:${a}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const a=new Date().getTime();this.request(e,r,s).then(c=>n(null,Bm(a,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:St("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const a=await s();if(this.session=a.session,this.session){const c=eT(this.session.namespaces);this.namespaces=fw(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const a=eT(s.namespaces);return this.namespaces=fw(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),a=this.getProvider(r);a.name===$l?a.setDefaultChain(`${r}:${s}`,n):a.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Ya(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await PV.init({core:this.providerOpts.core,logger:this.providerOpts.logger||GN,relayUrl:this.providerOpts.relayUrl||FV,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>eh(n)))];gw("client",this.client),gw("events",this.events),gw("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=SG(n,this.session),s=gR(r),a=fw(this.namespaces,this.optionalNamespaces),c=mw(pg({},a[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new $G({namespace:c});break;case"algorand":this.rpcProviders[n]=new qG({namespace:c});break;case"solana":this.rpcProviders[n]=new MG({namespace:c});break;case"cosmos":this.rpcProviders[n]=new LG({namespace:c});break;case"polkadot":this.rpcProviders[n]=new xG({namespace:c});break;case"cip34":this.rpcProviders[n]=new GG({namespace:c});break;case"elrond":this.rpcProviders[n]=new YG({namespace:c});break;case"multiversx":this.rpcProviders[n]=new XG({namespace:c});break;case"near":this.rpcProviders[n]=new tW({namespace:c});break;case"tezos":this.rpcProviders[n]=new sW({namespace:c});break;default:this.rpcProviders[$l]?this.rpcProviders[$l].updateNamespace(c):this.rpcProviders[$l]=new oW({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=r;if(a.name==="accountsChanged"){const c=a.data;c&&Ya(c)&&this.events.emit("accountsChanged",c.map(JN))}else if(a.name==="chainChanged"){const c=r.chainId,u=r.event.data,d=eh(c),h=pw(c)!==pw(u)?`${d}:${pw(u)}`:c;this.onChainChanged(h)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:a}=n,c=(s=this.client)==null?void 0:s.session.get(e);this.session=mw(pg({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",mw(pg({},St("USER_DISCONNECTED")),{data:e.topic})))}),this.on(fs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[$l]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:s,scopedProperties:a}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=s,this.scopedProperties=a}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(c=>eh(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=eh(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const a=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,a;try{if(n===r)return;const c=(a=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:a.accounts;if(!c)return;const u=c.filter(d=>d.includes(`${r}:`)).map(JN);if(!Ya(u))return;this.events.emit("accountsChanged",u)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${hg}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${hg}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${hg}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(hg)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var au={};const pW="https://secure.walletconnect.org/sdk",gW=(typeof process<"u"&&typeof au<"u"?au.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||pW,mW=(typeof process<"u"&&typeof au<"u"?au.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",yW=(typeof process<"u"&&typeof au<"u"?au.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Se={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},kn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Lo=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ln=jt({...Lo}),bW={state:ln,subscribeKey(t,e){return Kn(ln,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=De.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ln.message=Lo.message,ln.variant=Lo.variant,ln.svg=Lo.svg,ln.open=Lo.open,ln.autoClose=Lo.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Lo.autoClose}){ln.open?(ln.open=!1,setTimeout(()=>{ln.message=t,ln.variant=n,ln.svg=e,ln.open=!0,ln.autoClose=r},150)):(ln.message=t,ln.variant=n,ln.svg=e,ln.open=!0,ln.autoClose=r)}},Os=bW,uh={getSIWX(){return ue.state.siwx},async initializeIfEnabled(){var a;const t=ue.state.siwx,e=B.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(B.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await Jt.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),Mt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=Me._getClient())==null?void 0:a.disconnect().catch(console.error)),at.reset("Connect"),Os.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ue.state.siwx,e=De.getPlainAddress(B.getActiveCaipAddress()),n=B.getActiveCaipNetwork(),r=Me._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=s.toString();Ee.getConnectorId(n.chainNamespace)===fe.CONNECTOR_ID.AUTH&&at.pushTransactionStack({view:null,goBack:!1,replace:!0});const u=await r.signMessage(a);await t.addSession({data:s,message:a,signature:u}),Jt.close(),Mt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!Jt.state.open||at.state.view==="ApproveTransaction")&&await Jt.open({view:"SIWXSignMessage"}),a.isSmartAccount?Os.showError("This application might not support Smart Accounts"):Os.showError("Signature declined"),Mt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Me.disconnect():Jt.close(),at.reset("Connect"),Mt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=ue.state.siwx,e=De.getPlainAddress(B.getActiveCaipAddress()),n=B.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=at.state.view==="ApproveTransaction",r=at.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var u,d,h;const r=uh.getSIWX(),s=new Set(e.map(p=>p.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const a=await r.createMessage({chainId:((u=B.getActiveCaipNetwork())==null?void 0:u.caipNetworkId)||"",accountAddress:""}),c=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(Os.showLoading("Authenticating...",{autoClose:!1}),Ne.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:(d=c.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(h=c==null?void 0:c.auths)!=null&&h.length){const p=c.auths.map(m=>{const y=t.client.formatAuthMessage({request:m.p,iss:m.p.iss});return{data:{...m.p,accountAddress:m.p.iss.split(":").slice(-1).join(""),chainId:m.p.iss.split(":").slice(2,4).join(":"),uri:m.p.aud,version:m.p.version||a.version,expirationTime:m.p.exp,issuedAt:m.p.iat,notBefore:m.p.nbf},message:y,signature:m.s.s,cacao:m}});try{await r.setSessions(p),Mt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:uh.getSIWXEventProperties()})}catch(m){throw console.error("SIWX:universalProviderAuth - failed to set sessions",m),Mt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:uh.getSIWXEventProperties()}),await t.disconnect().catch(console.error),m}finally{Os.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=B.state.activeChain;return{network:((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Ne.state.preferredAccountTypes)==null?void 0:n[t])===kn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},$t=jt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),wW={state:$t,subscribe(t){return Gn($t,()=>t($t))},setLastNetworkInView(t){$t.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");$t.loading=!0;try{const s=await Be.fetchTransactions({account:t,cursor:$t.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),a=nh.filterSpamTransactions(s.data),c=nh.filterByConnectedChain(a),u=[...$t.transactions,...c];$t.loading=!1,e==="coinbase"?$t.coinbaseTransactions=nh.groupTransactionsByYearAndMonth($t.coinbaseTransactions,s.data):($t.transactions=u,$t.transactionsByYear=nh.groupTransactionsByYearAndMonth($t.transactionsByYear,c)),$t.empty=u.length===0,$t.next=s.next?s.next:void 0}catch{const a=B.state.activeChain;Mt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ue.state.projectId,cursor:$t.next,isSmartAccount:((r=Ne.state.preferredAccountTypes)==null?void 0:r[a])===kn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Os.showError("Failed to fetch transactions"),$t.loading=!1,$t.empty=!0,$t.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),c=n[s]??{},d=(c[a]??[]).filter(h=>h.id!==r.id);n[s]={...c,[a]:[...d,r].sort((h,p)=>new Date(p.metadata.minedAt).getTime()-new Date(h.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){$t.next=void 0},resetTransactions(){$t.transactions=[],$t.transactionsByYear={},$t.lastNetworkInView=void 0,$t.loading=!1,$t.empty=!1,$t.next=void 0}},nh=ls(wW,"API_ERROR"),It=jt({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let ko;const vW={state:It,subscribeKey(t,e){return Kn(It,t,e)},_getClient(){return It._client},setClient(t){It._client=oc(t)},async connectWalletConnect(){var t,e,n,r;if(De.isTelegram()||De.isSafari()&&De.isIos()){if(ko){await ko,ko=void 0;return}if(!De.isPairingExpired(It==null?void 0:It.wcPairingExpiry)){const s=It.wcUri;It.wcUri=s;return}ko=(e=(t=Me._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Me.state.status="connecting",await ko,ko=void 0,It.wcPairingExpiry=void 0,Me.state.status="connected"}else await((r=(n=Me._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,s;await((s=(r=Me._getClient())==null?void 0:r.connectExternal)==null?void 0:s.call(r,t)),n&&B.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=Me._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||B.state.activeChain;e&&Ee.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Jt.setLoading(!0,B.state.activeChain);const n=Ee.getAuthConnector();n&&(Ne.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),we.setPreferredAccountTypes(Ne.state.preferredAccountTypes??{[e]:t}),await Me.reconnectExternal(n),Jt.setLoading(!1,B.state.activeChain),Mt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Me._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Me._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Me._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Me._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Me._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Me._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Me._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Me._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Me._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Me._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){It.wcUri=void 0,It.wcPairingExpiry=void 0,It.wcLinking=void 0,It.recentWallet=void 0,It.status="disconnected",nh.resetTransactions(),we.deleteWalletConnectDeepLink()},resetUri(){It.wcUri=void 0,It.wcPairingExpiry=void 0,ko=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Me.state;t&&we.setWalletConnectDeepLink(t),e&&we.setAppKitRecent(e),Mt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=at.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){It.wcBasic=t},setUri(t){It.wcUri=t,It.wcPairingExpiry=De.getPairingExpiry()},setWcLinking(t){It.wcLinking=t},setWcError(t){It.wcError=t,It.buffering=!1},setRecentWallet(t){It.recentWallet=t},setBuffering(t){It.buffering=t},setStatus(t){It.status=t},async disconnect(t){try{Jt.setLoading(!0,t),await uh.clearSessions(),await B.disconnect(t),Jt.setLoading(!1,t),Ee.setFilterByNamespace(void 0)}catch(e){throw new bh("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){It.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Ee.state.activeConnectorIds[n]===t.connectorId){const a=B.state.activeCaipNetwork;if(a){const c=`${n}:${a.id}:${e}`;Ne.setCaipAddress(c,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const a=Ee.getConnector(t.connectorId);a?Me.connectExternal(a,n):console.warn(`No connector found for namespace "${n}"`)}}},Me=ls(vW),Rl=jt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),si={state:Rl,subscribe(t){return Gn(Rl,()=>t(Rl))},subscribeOpen(t){return Kn(Rl,"open",t)},set(t){Object.assign(Rl,{...Rl,...t})}};function Bt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}function to(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new PW(t.type);return`${t.name}(${Hm(t.inputs,{includeName:e})})`}function Hm(t,{includeName:e=!1}={}){return t?t.map(n=>EW(n,{includeName:e})).join(e?", ":","):""}function EW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Hm(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function no(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function fn(t){return no(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const bR="2.30.0";let Vd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${bR}`},he=class Mv extends Error{constructor(e,n={}){var u;const r=(()=>{var d;return n.cause instanceof Mv?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof Mv&&n.cause.docsPath||n.docsPath,a=(u=Vd.getDocsUrl)==null?void 0:u.call(Vd,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Vd.version?[`Version: ${Vd.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=bR}walk(e){return wR(this,e)}};function wR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?wR(t.cause,e):e?null:t}class _W extends he{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class iT extends he{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class vR extends he{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Hm(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Vm extends he{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class CW extends he{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class AW extends he{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${fn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class SW extends he{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Wne extends he{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Kne extends he{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class ER extends he{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class NW extends he{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class _R extends he{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Xg extends he{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class TW extends he{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Yne extends he{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class xW extends he{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${to(e.abiItem)}\`, and`,`\`${n.type}\` in \`${to(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class jv extends he{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Hm(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class CR extends he{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${to(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class OW extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class IW extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class RW extends he{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class PW extends he{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class AR extends he{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let SR=class extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class aT extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Tu(t,{dir:e,size:n=32}={}){return typeof t=="string"?Za(t,{dir:e,size:n}):DW(t,{dir:e,size:n})}function Za(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new SR({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function DW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new SR({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}let NR=class extends he{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class $W extends he{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class UW extends he{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function If(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ms(t,{size:e}){if(fn(t)>e)throw new UW({givenSize:fn(t),maxSize:e})}function ou(t,e={}){const{signed:n}=e;e.size&&Ms(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function pc(t,e={}){return Number(ou(t,e))}function TR(t,e={}){let n=ai(t);return e.size&&(Ms(n,{size:e.size}),n=If(n,{dir:"right"})),new TextDecoder().decode(n)}const kW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cu(t,e={}){return typeof t=="number"||typeof t=="bigint"?et(t,e):typeof t=="string"?Gm(t,e):typeof t=="boolean"?xR(t,e):wr(t,e)}function xR(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ms(n,{size:e.size}),Tu(n,{size:e.size})):n}function wr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=kW[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ms(r,{size:e.size}),Tu(r,{dir:"right",size:e.size})):r}function et(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const d=typeof t=="bigint"?"n":"";throw new NR({max:a?`${a}${d}`:void 0,min:`${c}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Tu(u,{size:r}):u}const MW=new TextEncoder;function Gm(t,e={}){const n=MW.encode(t);return wr(n,e)}const jW=new TextEncoder;function Wm(t,e={}){return typeof t=="number"||typeof t=="bigint"?LW(t,e):typeof t=="boolean"?BW(t,e):no(t)?ai(t,e):OR(t,e)}function BW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ms(n,{size:e.size}),Tu(n,{size:e.size})):n}const Mi={zero:48,nine:57,A:65,F:70,a:97,f:102};function oT(t){if(t>=Mi.zero&&t<=Mi.nine)return t-Mi.zero;if(t>=Mi.A&&t<=Mi.F)return t-(Mi.A-10);if(t>=Mi.a&&t<=Mi.f)return t-(Mi.a-10)}function ai(t,e={}){let n=t;e.size&&(Ms(n,{size:e.size}),n=Tu(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=oT(r.charCodeAt(u++)),h=oT(r.charCodeAt(u++));if(d===void 0||h===void 0)throw new he(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[c]=d*16+h}return a}function LW(t,e){const n=et(t,e);return ai(n)}function OR(t,e={}){const n=jW.encode(t);return typeof e.size=="number"?(Ms(n,{size:e.size}),Tu(n,{dir:"right",size:e.size})):n}function Jg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Km(t,...e){if(!zW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Xne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jg(t.outputLen),Jg(t.blockLen)}function em(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function IR(t,e){Km(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const gg=BigInt(2**32-1),cT=BigInt(32);function FW(t,e=!1){return e?{h:Number(t&gg),l:Number(t>>cT&gg)}:{h:Number(t>>cT&gg)|0,l:Number(t&gg)|0}}function qW(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=FW(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const HW=(t,e,n)=>t<<n|e>>>32-n,VW=(t,e,n)=>e<<n|t>>>32-n,GW=(t,e,n)=>e<<n-32|t>>>64-n,WW=(t,e,n)=>t<<n-32|e>>>64-n,Pl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function KW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function yw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ws(t,e){return t<<32-e|t>>>e}const lT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function YW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function uT(t){for(let e=0;e<t.length;e++)t[e]=YW(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function ZW(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function UE(t){return typeof t=="string"&&(t=ZW(t)),Km(t),t}function Jne(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Km(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}class RR{clone(){return this._cloneInto()}}function PR(t){const e=r=>t().update(UE(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ere(t=32){if(Pl&&typeof Pl.getRandomValues=="function")return Pl.getRandomValues(new Uint8Array(t));if(Pl&&typeof Pl.randomBytes=="function")return Uint8Array.from(Pl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const DR=[],$R=[],UR=[],QW=BigInt(0),Gd=BigInt(1),XW=BigInt(2),JW=BigInt(7),eK=BigInt(256),tK=BigInt(113);for(let t=0,e=Gd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],DR.push(2*(5*r+n)),$R.push((t+1)*(t+2)/2%64);let s=QW;for(let a=0;a<7;a++)e=(e<<Gd^(e>>JW)*tK)%eK,e&XW&&(s^=Gd<<(Gd<<BigInt(a))-Gd);UR.push(s)}const[nK,rK]=qW(UR,!0),dT=(t,e,n)=>n>32?GW(t,e,n):HW(t,e,n),hT=(t,e,n)=>n>32?WW(t,e,n):VW(t,e,n);function sK(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,h=n[d],p=n[d+1],m=dT(h,p,1)^n[u],y=hT(h,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=m,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=$R[c],d=dT(s,a,u),h=hT(s,a,u),p=DR[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=nK[r],t[1]^=rK[r]}n.fill(0)}class kE extends RR{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,Jg(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=KW(this.state)}keccak(){lT||uT(this.state32),sK(this.state32,this.rounds),lT||uT(this.state32),this.posOut=0,this.pos=0}update(e){em(this);const{blockLen:n,state:r}=this;e=UE(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){em(this,!1),Km(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(IR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new kE(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const iK=(t,e,n)=>PR(()=>new kE(e,t,n)),aK=iK(1,136,256/8);function Rf(t,e){const n=e||"hex",r=aK(no(t,{strict:!1})?Wm(t):t);return n==="bytes"?r:cu(r)}const oK=t=>Rf(Wm(t));function cK(t){return oK(t)}function lK(t){let e=!0,n="",r=0,s="",a=!1;for(let c=0;c<t.length;c++){const u=t[c];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function",""].includes(s))s="";else if(s+=u,u===")"){a=!0;break}continue}if(u===" "){t[c-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=u,n+=u}}if(!a)throw new he("Unable to normalize signature.");return s}const uK=t=>{const e=typeof t=="string"?t:Ck(t);return lK(e)};function kR(t){return cK(uK(t))}const ME=kR;class gc extends he{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Ym extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const bw=new Ym(8192);function Zm(t,e){if(bw.has(`${t}.${e}`))return bw.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Rf(OR(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return bw.set(`${t}.${e}`,a),a}function Wo(t,e){if(!oi(t,{strict:!1}))throw new gc({address:t});return Zm(t,e)}const dK=/^0x[a-fA-F0-9]{40}$/,ww=new Ym(8192);function oi(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(ww.has(r))return ww.get(r);const s=dK.test(t)?t.toLowerCase()===t?!0:n?Zm(t)===t:!0:!1;return ww.set(r,s),s}function lu(t){return typeof t[0]=="string"?Qm(t):hK(t)}function hK(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Qm(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function tm(t,e,n,{strict:r}={}){return no(t,{strict:!1})?fK(t,e,n,{strict:r}):BR(t,e,n,{strict:r})}function MR(t,e){if(typeof e=="number"&&e>0&&e>fn(t)-1)throw new AR({offset:e,position:"start",size:fn(t)})}function jR(t,e,n){if(typeof e=="number"&&typeof n=="number"&&fn(t)!==n-e)throw new AR({offset:n,position:"end",size:fn(t)})}function BR(t,e,n,{strict:r}={}){MR(t,e);const s=t.slice(e,n);return r&&jR(s,e,n),s}function fK(t,e,n,{strict:r}={}){MR(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&jR(s,e,n),s}const pK=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function LR(t,e){if(t.length!==e.length)throw new SW({expectedLength:t.length,givenLength:e.length});const n=gK({params:t,values:e}),r=BE(n);return r.length===0?"0x":r}function gK({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(jE({param:t[r],value:e[r]}));return n}function jE({param:t,value:e}){const n=LE(t.type);if(n){const[r,s]=n;return yK(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return _K(e,{param:t});if(t.type==="address")return mK(e);if(t.type==="bool")return wK(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=pK.exec(t.type)??[];return vK(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return bK(e,{param:t});if(t.type==="string")return EK(e);throw new OW(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function BE(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?e+=32:e+=fn(u)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?(n.push(et(e+s,{size:32})),r.push(u),s+=fn(u)):n.push(u)}return lu([...n,...r])}function mK(t){if(!oi(t))throw new gc({address:t});return{dynamic:!1,encoded:Za(t.toLowerCase())}}function yK(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new RW(t);if(!r&&t.length!==e)throw new CW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const u=jE({param:n,value:t[c]});u.dynamic&&(s=!0),a.push(u)}if(r||s){const c=BE(a);if(r){const u=et(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?lu([u,c]):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:lu(a.map(({encoded:c})=>c))}}function bK(t,{param:e}){const[,n]=e.type.split("bytes"),r=fn(t);if(!n){let s=t;return r%32!==0&&(s=Za(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:lu([Za(et(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new AW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Za(t,{dir:"right"})}}function wK(t){if(typeof t!="boolean")throw new he(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Za(xR(t))}}function vK(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new NR({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:et(t,{size:32,signed:e})}}function EK(t){const e=Gm(t),n=Math.ceil(fn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Za(tm(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:lu([Za(et(fn(e),{size:32})),...r])}}function _K(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],c=Array.isArray(t)?s:a.name,u=jE({param:a,value:t[c]});r.push(u),u.dynamic&&(n=!0)}return{dynamic:n,encoded:n?BE(r):lu(r.map(({encoded:s})=>s))}}function LE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const zE=t=>tm(kR(t),0,4);function FE(t){const{abi:e,args:n=[],name:r}=t,s=no(r,{strict:!1}),a=e.filter(u=>s?u.type==="function"?zE(u)===r:u.type==="event"?ME(u)===r:!1:"name"in u&&u.name===r);if(a.length===0)return;if(a.length===1)return a[0];let c;for(const u of a){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return u;continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((h,p)=>{const m="inputs"in u&&u.inputs[p];return m?Bv(h,m):!1})){if(c&&"inputs"in c&&c.inputs){const h=zR(u.inputs,c.inputs,n);if(h)throw new xW({abiItem:u,type:h[0]},{abiItem:c,type:h[1]})}c=u}}return c||a[0]}function Bv(t,e){const n=typeof t,r=e.type;switch(r){case"address":return oi(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>Bv(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Bv(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function zR(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return zR(s.components,a.components,n[r]);const c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?oi(n[r],{strict:!1}):c.includes("address")&&c.includes("bytes")?oi(n[r],{strict:!1}):!1)return c}}function CK(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:a,response:c,status:u,transport:d})=>{u==="success"&&e===a&&(n[c]=d.request)})),a=>n[a]||t.request}function di(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const fT="/docs/contract/encodeFunctionData";function AK(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const a=FE({abi:e,args:n,name:r});if(!a)throw new Xg(r,{docsPath:fT});s=a}if(s.type!=="function")throw new Xg(void 0,{docsPath:fT});return{abi:[s],functionName:zE(to(s))}}function Xm(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var u;return t.abi.length===1&&((u=t.functionName)!=null&&u.startsWith("0x"))?t:AK(t)})(),s=n[0],a=r,c="inputs"in s&&s.inputs?LR(s.inputs,e??[]):void 0;return Qm([a,c??"0x"])}const SK={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},NK={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},TK={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class pT extends he{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class FR extends he{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class xK extends he{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const OK={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new xK({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new FR({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new pT({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new pT({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function qE(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(OK);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function IK(t,e={}){typeof e.size<"u"&&Ms(t,{size:e.size});const n=wr(t,e);return ou(n,e)}function RK(t,e={}){let n=t;if(typeof e.size<"u"&&(Ms(n,{size:e.size}),n=If(n)),n.length>1||n[0]>1)throw new $W(n);return!!n[0]}function Wi(t,e={}){typeof e.size<"u"&&Ms(t,{size:e.size});const n=wr(t,e);return pc(n,e)}function PK(t,e={}){let n=t;return typeof e.size<"u"&&(Ms(n,{size:e.size}),n=If(n,{dir:"right"})),new TextDecoder().decode(n)}function Jm(t,e){const n=typeof e=="string"?ai(e):e,r=qE(n);if(fn(n)===0&&t.length>0)throw new Vm;if(fn(e)&&fn(e)<32)throw new vR({data:typeof e=="string"?e:wr(e),params:t,size:fn(e)});let s=0;const a=[];for(let c=0;c<t.length;++c){const u=t[c];r.setPosition(s);const[d,h]=Ll(r,u,{staticPosition:0});s+=h,a.push(d)}return a}function Ll(t,e,{staticPosition:n}){const r=LE(e.type);if(r){const[s,a]=r;return $K(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return jK(t,e,{staticPosition:n});if(e.type==="address")return DK(t);if(e.type==="bool")return UK(t);if(e.type.startsWith("bytes"))return kK(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return MK(t,e);if(e.type==="string")return BK(t,{staticPosition:n});throw new IW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const gT=32,Lv=32;function DK(t){const e=t.readBytes(32);return[Zm(wr(BR(e,-20))),32]}function $K(t,e,{length:n,staticPosition:r}){if(!n){const c=Wi(t.readBytes(Lv)),u=r+c,d=u+gT;t.setPosition(u);const h=Wi(t.readBytes(gT)),p=xh(e);let m=0;const y=[];for(let w=0;w<h;++w){t.setPosition(d+(p?w*32:m));const[E,v]=Ll(t,e,{staticPosition:d});m+=v,y.push(E)}return t.setPosition(r+32),[y,32]}if(xh(e)){const c=Wi(t.readBytes(Lv)),u=r+c,d=[];for(let h=0;h<n;++h){t.setPosition(u+h*32);const[p]=Ll(t,e,{staticPosition:u});d.push(p)}return t.setPosition(r+32),[d,32]}let s=0;const a=[];for(let c=0;c<n;++c){const[u,d]=Ll(t,e,{staticPosition:r+s});s+=d,a.push(u)}return[a,s]}function UK(t){return[RK(t.readBytes(32),{size:32}),32]}function kK(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const c=Wi(t.readBytes(32));t.setPosition(n+c);const u=Wi(t.readBytes(32));if(u===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(u);return t.setPosition(n+32),[wr(d),32]}return[wr(t.readBytes(Number.parseInt(s),32)),32]}function MK(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?IK(s,{signed:n}):Wi(s,{signed:n}),32]}function jK(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:c})=>!c),s=r?[]:{};let a=0;if(xh(e)){const c=Wi(t.readBytes(Lv)),u=n+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(u+a);const[p,m]=Ll(t,h,{staticPosition:u});a+=m,s[r?d:h==null?void 0:h.name]=p}return t.setPosition(n+32),[s,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,h]=Ll(t,u,{staticPosition:n});s[r?c:u==null?void 0:u.name]=d,a+=h}return[s,a]}function BK(t,{staticPosition:e}){const n=Wi(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Wi(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),c=PK(If(a));return t.setPosition(e+32),[c,32]}function xh(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(xh);const n=LE(t.type);return!!(n&&xh({...t,type:n[1]}))}function LK(t){const{abi:e,data:n}=t,r=tm(n,0,4);if(r==="0x")throw new Vm;const a=[...e||[],NK,TK].find(c=>c.type==="error"&&r===zE(to(c)));if(!a)throw new ER(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Jm(a.inputs,tm(n,4)):void 0,errorName:a.name}}const os=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function qR({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?os(e[a]):e[a]}`).join(", ")})`}const zK={gwei:9,wei:18},FK={ether:-9,wei:9},qK={ether:-18,gwei:-9};function xu(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function HE(t,e="wei"){return xu(t,zK[e])}function br(t,e="wei"){return xu(t,FK[e])}class HK extends he{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class VK extends he{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function mT(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function GK(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=mT(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=mT(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Pf(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class WK extends he{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class KK extends he{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Pf(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class YK extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,to:m,value:y}){var E;const w=Pf({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:m,value:typeof y<"u"&&`${HE(y)} ${((E=s==null?void 0:s.nativeCurrency)==null?void 0:E.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${br(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${br(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${br(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class HR extends he{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let c="Transaction";r&&a!==void 0&&(c=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(c=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(c=`Transaction at block number "${n}" at index "${a}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`,{name:"TransactionNotFoundError"})}}class VR extends he{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ZK extends he{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const QK=t=>t,VE=t=>t;class XK extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,to:m,value:y,stateOverride:w}){var _;const E=n?di(n):void 0;let v=Pf({from:E==null?void 0:E.address,to:m,value:typeof y<"u"&&`${HE(y)} ${((_=s==null?void 0:s.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${br(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${br(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${br(h)} gwei`,nonce:p});w&&(v+=`
${GK(w)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class GR extends he{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:c,sender:u}){const d=FE({abi:n,args:r,name:c}),h=d?qR({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,p=d?to(d,{includeName:!0}):void 0,m=Pf({address:s&&QK(s),function:p,args:h&&h!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${h}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=u}}class JK extends he{constructor({abi:e,data:n,functionName:r,message:s}){let a,c,u,d;if(n&&n!=="0x")try{c=LK({abi:e,data:n});const{abiItem:p,errorName:m,args:y}=c;if(m==="Error")d=y[0];else if(m==="Panic"){const[w]=y;d=SK[w]}else{const w=p?to(p,{includeName:!0}):void 0,E=p&&y?qR({abiItem:p,args:y,includeFunctionName:!1,includeName:!1}):void 0;u=[w?`Error: ${w}`:"",E&&E!=="()"?`       ${[...Array((m==null?void 0:m.length)??0).keys()].map(()=>" ").join("")}${E}`:""]}}catch(p){a=p}else s&&(d=s);let h;a instanceof ER&&(h=a.signature,u=[`Unable to decode signature "${h}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${h}.`]),super(d&&d!=="execution reverted"||h?[`The contract function "${r}" reverted with the following ${h?"signature":"reason"}:`,d||h].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=n,this.reason=d,this.signature=h}}class eY extends he{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class tY extends he{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class GE extends he{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class dh extends he{constructor({body:e,cause:n,details:r,headers:s,status:a,url:c}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${VE(c)}`,e&&`Request body: ${os(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=c}}class WE extends he{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${VE(r)}`,`Request body: ${os(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class yT extends he{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${VE(n)}`,`Request body: ${os(e)}`],name:"TimeoutError"})}}const nY=-1;class Er extends he{constructor(e,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:c}){super(c,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof WE?e.code:n??nY}}class Br extends Er{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Oh extends Er{constructor(e){super(e,{code:Oh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ih extends Er{constructor(e){super(e,{code:Ih.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ih,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Rh extends Er{constructor(e,{method:n}={}){super(e,{code:Rh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ph extends Er{constructor(e){super(e,{code:Ph.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class mc extends Er{constructor(e){super(e,{code:mc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(mc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Dh extends Er{constructor(e){super(e,{code:Dh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $h extends Er{constructor(e){super(e,{code:$h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qa extends Er{constructor(e){super(e,{code:Qa.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class uu extends Er{constructor(e){super(e,{code:uu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ko extends Er{constructor(e,{method:n}={}){super(e,{code:Ko.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class du extends Er{constructor(e){super(e,{code:du.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(du,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Uh extends Er{constructor(e){super(e,{code:Uh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class dn extends Br{constructor(e){super(e,{code:dn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class kh extends Br{constructor(e){super(e,{code:kh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Mh extends Br{constructor(e,{method:n}={}){super(e,{code:Mh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class jh extends Br{constructor(e){super(e,{code:jh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Bh extends Br{constructor(e){super(e,{code:Bh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ci extends Br{constructor(e){super(e,{code:ci.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Lh extends Br{constructor(e){super(e,{code:Lh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class zh extends Br{constructor(e){super(e,{code:zh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Fh extends Br{constructor(e){super(e,{code:Fh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class qh extends Br{constructor(e){super(e,{code:qh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Hh extends Br{constructor(e){super(e,{code:Hh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Vh extends Br{constructor(e){super(e,{code:Vh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Gh extends Br{constructor(e){super(e,{code:Gh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class rY extends Er{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const sY=3;function nm(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:c}){const u=t instanceof GE?t:t instanceof he?t.walk(E=>"data"in E)||t.walk():{},{code:d,data:h,details:p,message:m,shortMessage:y}=u,w=t instanceof Vm?new eY({functionName:a}):[sY,mc.code].includes(d)&&(h||p||m||y)?new JK({abi:e,data:typeof h=="object"?h.data:h,functionName:a,message:u instanceof WE?p:y??m}):t;return new GR(w,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:c})}function iY(t){const e=Rf(`0x${t.substring(4)}`).substring(26);return Zm(`0x${e}`)}async function aY({hash:t,signature:e}){const n=no(t)?t:cu(t),{secp256k1:r}=await er(async()=>{const{secp256k1:c}=await import("./secp256k1-JgIZcVe_.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:p,v:m,yParity:y}=e,w=Number(y??m),E=bT(w);return new r.Signature(ou(h),ou(p)).addRecoveryBit(E)}const c=no(e)?e:cu(e);if(fn(c)!==65)throw new Error("invalid signature length");const u=pc(`0x${c.slice(130)}`),d=bT(u);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function bT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function oY({hash:t,signature:e}){return iY(await aY({hash:t,signature:e}))}function cY(t,e="hex"){const n=WR(t),r=qE(new Uint8Array(n.length));return n.encode(r),e==="hex"?wr(r.bytes):r.bytes}function WR(t){return Array.isArray(t)?lY(t.map(e=>WR(e))):uY(t)}function lY(t){const e=t.reduce((s,a)=>s+a.length,0),n=KR(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:a}of t)a(s)}}}function uY(t){const e=typeof t=="string"?ai(t):t,n=KR(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function KR(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new he("Length is too large.")}function dY(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=Rf(Qm(["0x05",cY([e?et(e):"0x",s,n?et(n):"0x"])]));return r==="bytes"?ai(a):a}async function YR(t){const{authorization:e,signature:n}=t;return oY({hash:dY(e),signature:n??e})}class hY extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:p,to:m,value:y}){var E;const w=Pf({from:n==null?void 0:n.address,to:m,value:typeof y<"u"&&`${HE(y)} ${((E=s==null?void 0:s.nativeCurrency)==null?void 0:E.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${br(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${br(d)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${br(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Yo extends he{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Yo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class rm extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${br(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(rm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class zv extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${br(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(zv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Fv extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Fv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class qv extends he{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(qv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Hv extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Hv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Vv extends he{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Vv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Gv extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Gv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Wv extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Wv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Kv extends he{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Kv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class sm extends he{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${br(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${br(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(sm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ey extends he{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function KE(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof he?t.walk(s=>(s==null?void 0:s.code)===Yo.code):t;return r instanceof he?new Yo({cause:t,message:r.details}):Yo.nodeMessage.test(n)?new Yo({cause:t,message:t.details}):rm.nodeMessage.test(n)?new rm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):zv.nodeMessage.test(n)?new zv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Fv.nodeMessage.test(n)?new Fv({cause:t,nonce:e==null?void 0:e.nonce}):qv.nodeMessage.test(n)?new qv({cause:t,nonce:e==null?void 0:e.nonce}):Hv.nodeMessage.test(n)?new Hv({cause:t,nonce:e==null?void 0:e.nonce}):Vv.nodeMessage.test(n)?new Vv({cause:t}):Gv.nodeMessage.test(n)?new Gv({cause:t,gas:e==null?void 0:e.gas}):Wv.nodeMessage.test(n)?new Wv({cause:t,gas:e==null?void 0:e.gas}):Kv.nodeMessage.test(n)?new Kv({cause:t}):sm.nodeMessage.test(n)?new sm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new ey({cause:t})}function fY(t,{docsPath:e,...n}){const r=(()=>{const s=KE(t,n);return s instanceof ey?t:s})();return new hY(r,{docsPath:e,...n})}function YE(t,{format:e}){if(!e)return{};const n={};function r(a){const c=Object.keys(a);for(const u of c)u in t&&(n[u]=t[u]),a[u]&&typeof a[u]=="object"&&!Array.isArray(a[u])&&r(a[u])}const s=e(t||{});return r(s),n}const pY={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ZE(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=gY(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>wr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=et(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=et(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=et(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=et(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=et(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=et(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=pY[t.type]),typeof t.value<"u"&&(e.value=et(t.value)),e}function gY(t){return t.map(e=>({address:e.address,r:e.r?et(BigInt(e.r)):e.r,s:e.s?et(BigInt(e.s)):e.s,chainId:et(e.chainId),nonce:et(e.nonce),...typeof e.yParity<"u"?{yParity:et(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:et(e.v)}:{}}))}function wT(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new aT({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new aT({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function mY(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,c={};if(a!==void 0&&(c.code=a),e!==void 0&&(c.balance=et(e)),n!==void 0&&(c.nonce=et(n)),r!==void 0&&(c.state=wT(r)),s!==void 0){if(c.state)throw new VK;c.stateDiff=wT(s)}return c}function ZR(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!oi(n,{strict:!1}))throw new gc({address:n});if(e[n])throw new HK({address:n});e[n]=mY(r)}return e}const yY=2n**256n-1n;function ty(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,c=e?di(e):void 0;if(c&&!oi(c.address))throw new gc({address:c.address});if(a&&!oi(a))throw new gc({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new WK;if(r&&r>yY)throw new rm({maxFeePerGas:r});if(s&&r&&s>r)throw new sm({maxFeePerGas:r,maxPriorityFeePerGas:s})}class bY extends he{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class QE extends he{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wY extends he{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${br(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class QR extends he{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const XR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function JR(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?pc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?pc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?XR[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=vY(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function vY(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function EY(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:JR(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Wh(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var p,m,y;const a=r??"latest",c=s??!1,u=n!==void 0?et(n):void 0;let d=null;if(e?d=await t.request({method:"eth_getBlockByHash",params:[e,c]},{dedupe:!0}):d=await t.request({method:"eth_getBlockByNumber",params:[u||a,c]},{dedupe:!!u}),!d)throw new QR({blockHash:e,blockNumber:n});return(((y=(m=(p=t.chain)==null?void 0:p.formatters)==null?void 0:m.block)==null?void 0:y.format)||EY)(d)}async function e3(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function _Y(t,e){var a,c;const{block:n,chain:r=t.chain,request:s}=e||{};try{const u=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((c=r==null?void 0:r.fees)==null?void 0:c.defaultPriorityFee);if(typeof u=="function"){const h=n||await Bt(t,Wh,"getBlock")({}),p=await u({block:h,client:t,request:s});if(p===null)throw new Error;return p}if(typeof u<"u")return u;const d=await t.request({method:"eth_maxPriorityFeePerGas"});return ou(d)}catch{const[u,d]=await Promise.all([n?Promise.resolve(n):Bt(t,Wh,"getBlock")({}),Bt(t,e3,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new QE;const h=d-u.baseFeePerGas;return h<0n?0n:h}}async function vT(t,e){var y,w;const{block:n,chain:r=t.chain,request:s,type:a="eip1559"}=e||{},c=await(async()=>{var E,v;return typeof((E=r==null?void 0:r.fees)==null?void 0:E.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((v=r==null?void 0:r.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(c<1)throw new bY;const d=10**(((y=c.toString().split(".")[1])==null?void 0:y.length)??0),h=E=>E*BigInt(Math.ceil(c*d))/BigInt(d),p=n||await Bt(t,Wh,"getBlock")({});if(typeof((w=r==null?void 0:r.fees)==null?void 0:w.estimateFeesPerGas)=="function"){const E=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:h,request:s,type:a});if(E!==null)return E}if(a==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new QE;const E=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await _Y(t,{block:p,chain:r,request:s}),v=h(p.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??v+E,maxPriorityFeePerGas:E}}return{gasPrice:(s==null?void 0:s.gasPrice)??h(await Bt(t,e3,"getGasPrice")({}))}}async function CY(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?et(r):n]},{dedupe:!!r});return pc(s)}function t3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>ai(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>wr(a))}function n3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(c=>ai(c)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(c=>ai(c)):t.commitments,a=[];for(let c=0;c<r.length;c++){const u=r[c],d=s[c];a.push(Uint8Array.from(e.computeBlobKzgProof(u,d)))}return n==="bytes"?a:a.map(c=>wr(c))}function AY(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,h=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+h,u,r)}function SY(t,e,n){return t&e^~t&n}function NY(t,e,n){return t&e^t&n^e&n}class TY extends RR{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=yw(this.buffer)}update(e){em(this);const{view:n,buffer:r,blockLen:s}=this;e=UE(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=yw(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){em(this),IR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)n[m]=0;AY(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=yw(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=d/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}}const xY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Oa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ia=new Uint32Array(64);class OY extends TY{constructor(e=32){super(64,e,8,!1),this.A=Oa[0]|0,this.B=Oa[1]|0,this.C=Oa[2]|0,this.D=Oa[3]|0,this.E=Oa[4]|0,this.F=Oa[5]|0,this.G=Oa[6]|0,this.H=Oa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:u,H:d}=this;return[e,n,r,s,a,c,u,d]}set(e,n,r,s,a,c,u,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(e,n){for(let m=0;m<16;m++,n+=4)Ia[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const y=Ia[m-15],w=Ia[m-2],E=Ws(y,7)^Ws(y,18)^y>>>3,v=Ws(w,17)^Ws(w,19)^w>>>10;Ia[m]=v+Ia[m-7]+E+Ia[m-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:d,G:h,H:p}=this;for(let m=0;m<64;m++){const y=Ws(u,6)^Ws(u,11)^Ws(u,25),w=p+y+SY(u,d,h)+xY[m]+Ia[m]|0,v=(Ws(r,2)^Ws(r,13)^Ws(r,22))+NY(r,s,a)|0;p=h,h=d,d=u,u=c+w|0,c=a,a=s,s=r,r=w+v|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,d,h,p)}roundClean(){Ia.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const IY=PR(()=>new OY);function RY(t,e){return IY(no(t,{strict:!1})?Wm(t):t)}function PY(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=RY(e);return s.set([n],0),r==="bytes"?s:wr(s)}function DY(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const a of e)s.push(PY({commitment:a,to:r,version:n}));return s}const ET=6,r3=32,XE=4096,s3=r3*XE,_T=s3*ET-1-1*XE*ET;class $Y extends he{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class UY extends he{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function kY(t){const e=typeof t.data=="string"?ai(t.data):t.data,n=fn(e);if(!n)throw new UY;if(n>_T)throw new $Y({maxSize:_T,size:n});const r=[];let s=!0,a=0;for(;s;){const c=qE(new Uint8Array(s3));let u=0;for(;u<XE;){const d=e.slice(a,a+(r3-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),s=!1;break}u++,a+=31}r.push(c)}return r.map(c=>wr(c.bytes))}function MY(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??kY({data:e}),a=t.commitments??t3({blobs:s,kzg:n,to:r}),c=t.proofs??n3({blobs:s,commitments:a,kzg:n,to:r}),u=[];for(let d=0;d<s.length;d++)u.push({blob:s[d],commitment:a[d],proof:c[d]});return u}function jY(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new KK({transaction:t})}async function i3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return pc(e)}const a3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],CT=new Map;async function JE(t,e){const{account:n=t.account,blobs:r,chain:s,gas:a,kzg:c,nonce:u,nonceManager:d,parameters:h=a3,type:p}=e,m=n&&di(n),y={...e,...m?{from:m==null?void 0:m.address}:{}};let w;async function E(){return w||(w=await Bt(t,Wh,"getBlock")({blockTag:"latest"}),w)}let v;async function _(){return v||(s?s.id:typeof e.chainId<"u"?e.chainId:(v=await Bt(t,i3,"getChainId")({}),v))}if(h.includes("nonce")&&typeof u>"u"&&m)if(d){const S=await _();y.nonce=await d.consume({address:m.address,chainId:S,client:t})}else y.nonce=await Bt(t,CY,"getTransactionCount")({address:m.address,blockTag:"pending"});if((h.includes("blobVersionedHashes")||h.includes("sidecars"))&&r&&c){const S=t3({blobs:r,kzg:c});if(h.includes("blobVersionedHashes")){const N=DY({commitments:S,to:"hex"});y.blobVersionedHashes=N}if(h.includes("sidecars")){const N=n3({blobs:r,commitments:S,kzg:c}),x=MY({blobs:r,commitments:S,proofs:N,to:"hex"});y.sidecars=x}}if(h.includes("chainId")&&(y.chainId=await _()),(h.includes("fees")||h.includes("type"))&&typeof p>"u")try{y.type=jY(y)}catch{let S=CT.get(t.uid);if(typeof S>"u"){const N=await E();S=typeof(N==null?void 0:N.baseFeePerGas)=="bigint",CT.set(t.uid,S)}y.type=S?"eip1559":"legacy"}if(h.includes("fees"))if(y.type!=="legacy"&&y.type!=="eip2930"){if(typeof y.maxFeePerGas>"u"||typeof y.maxPriorityFeePerGas>"u"){const S=await E(),{maxFeePerGas:N,maxPriorityFeePerGas:x}=await vT(t,{block:S,chain:s,request:y});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<x)throw new wY({maxPriorityFeePerGas:x});y.maxPriorityFeePerGas=x,y.maxFeePerGas=N}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new QE;if(typeof e.gasPrice>"u"){const S=await E(),{gasPrice:N}=await vT(t,{block:S,chain:s,request:y,type:"legacy"});y.gasPrice=N}}return h.includes("gas")&&typeof a>"u"&&(y.gas=await Bt(t,c3,"estimateGas")({...y,account:m&&{address:m.address,type:"json-rpc"}})),ty(y),delete y.parameters,y}async function o3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?et(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function c3(t,e){var s,a,c;const{account:n=t.account}=e,r=n?di(n):void 0;try{let G=function(I){const{block:z,request:q,rpcStateOverride:H}=I;return t.request({method:"eth_estimateGas",params:H?[q,z??"latest",H]:z?[q,z]:[q]})};const{accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:p,blockNumber:m,blockTag:y,data:w,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:S,maxPriorityFeePerGas:N,nonce:x,value:P,stateOverride:T,...A}=await JE(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),M=(typeof m=="bigint"?et(m):void 0)||y,O=ZR(T),j=await(async()=>{if(A.to)return A.to;if(d&&d.length>0)return await YR({authorization:d[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`")})})();ty(e);const F=(c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,ae=(F||ZE)({...YE(A,{format:F}),from:r==null?void 0:r.address,accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:p,data:w,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:S,maxPriorityFeePerGas:N,nonce:x,to:j,value:P});let k=BigInt(await G({block:M,request:ae,rpcStateOverride:O}));if(d){const I=await o3(t,{address:ae.from}),z=await Promise.all(d.map(async q=>{const{address:H}=q,D=await G({block:M,request:{authorizationList:void 0,data:w,from:r==null?void 0:r.address,to:H,value:et(I)},rpcStateOverride:O}).catch(()=>100000n);return 2n*BigInt(D)}));k+=z.reduce((q,H)=>q+H,0n)}return k}catch(u){throw fY(u,{...e,account:r,chain:t.chain})}}function BY(t,e){if(!oi(t,{strict:!1}))throw new gc({address:t});if(!oi(e,{strict:!1}))throw new gc({address:e});return t.toLowerCase()===e.toLowerCase()}const AT="/docs/contract/decodeEventLog";function LY(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[c,...u]=s;if(!c)throw new NW({docsPath:AT});const d=e.length===1?e[0]:e.find(v=>v.type==="event"&&c===ME(to(v)));if(!(d&&"name"in d)||d.type!=="event")throw new _R(c,{docsPath:AT});const{name:h,inputs:p}=d,m=p==null?void 0:p.some(v=>!("name"in v&&v.name));let y=m?[]:{};const w=p.filter(v=>"indexed"in v&&v.indexed);for(let v=0;v<w.length;v++){const _=w[v],S=u[v];if(!S)throw new CR({abiItem:d,param:_});y[m?v:_.name||v]=zY({param:_,value:S})}const E=p.filter(v=>!("indexed"in v&&v.indexed));if(E.length>0){if(n&&n!=="0x")try{const v=Jm(E,n);if(v)if(m)y=[...y,...v];else for(let _=0;_<E.length;_++)y[E[_].name]=v[_]}catch(v){if(a)throw v instanceof vR||v instanceof FR?new jv({abiItem:d,data:n,params:E,size:fn(n)}):v}else if(a)throw new jv({abiItem:d,data:"0x",params:E,size:0})}return{eventName:h,args:Object.values(y).length>0?y:void 0}}function zY({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Jm([t],e)||[])[0]}function FY(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(c=>{var u;try{const d=e.find(p=>p.type==="event"&&c.topics[0]===ME(p));if(!d)return null;const h=LY({...c,abi:[d],strict:s});return a&&!a.includes(h.eventName)||!qY({args:h.args,inputs:d.inputs,matchArgs:n})?null:{...h,...c}}catch(d){let h,p;if(d instanceof _R)return null;if(d instanceof jv||d instanceof CR){if(s)return null;h=d.abiItem.name,p=(u=d.abiItem.inputs)==null?void 0:u.some(m=>!("name"in m&&m.name))}return{...c,args:p?[]:{},eventName:h}}}).filter(Boolean)}function qY(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,c,u){try{return a.type==="address"?BY(c,u):a.type==="string"||a.type==="bytes"?Rf(Wm(c))===u:c===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,c)=>{if(a==null)return!0;const u=n[c];return u?(Array.isArray(a)?a:[a]).some(h=>s(u,h,e[c])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,c])=>{if(c==null)return!0;const u=n.find(h=>h.name===a);return u?(Array.isArray(c)?c:[c]).some(h=>s(u,h,e[a])):!1}):!1}function l3(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const vw="/docs/contract/decodeFunctionResult";function e1(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const u=FE({abi:e,args:n,name:r});if(!u)throw new Xg(r,{docsPath:vw});a=u}if(a.type!=="function")throw new Xg(void 0,{docsPath:vw});if(!a.outputs)throw new TW(a.name,{docsPath:vw});const c=Jm(a.outputs,s);if(c&&c.length>1)return c;if(c&&c.length===1)return c[0]}const HY="0.1.1";function VY(){return HY}let u3=class Yv extends Error{constructor(e,n={}){const r=(()=>{var d;if(n.cause instanceof Yv){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof Yv&&n.cause.docsPath||n.docsPath,c=`https://oxlib.sh${s??""}`,u=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${VY()}`}),this.cause=n.cause,this.details=r,this.docs=c,this.docsPath=s,this.shortMessage=e}walk(e){return d3(this,e)}};function d3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?d3(t.cause,e):e?null:t}function GY(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new YY({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function zi(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const h=typeof t=="bigint"?"n":"";throw new KY({max:a?`${a}${h}`:void 0,min:`${c}${h}`,signed:n,size:r,value:`${t}${h}`})}const d=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?WY(d,r):d}function WY(t,e){return GY(t,{dir:"left",size:e})}class KY extends u3{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class YY extends u3{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function ZY(t){return{address:t.address,amount:zi(t.amount),index:zi(t.index),validatorIndex:zi(t.validatorIndex)}}function QY(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:zi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:zi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:zi(t.gasLimit)},...typeof t.number=="bigint"&&{number:zi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:zi(t.prevRandao)},...typeof t.time=="bigint"&&{time:zi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(ZY)}}}const Zv=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],tre=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],XY="0x82ad56cb",JY="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",eZ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";class Qv extends he{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class tZ extends he{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class nZ extends he{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class h3 extends he{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Ew="/docs/contract/encodeDeployData";function f3(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(c=>"type"in c&&c.type==="constructor");if(!s)throw new _W({docsPath:Ew});if(!("inputs"in s))throw new iT({docsPath:Ew});if(!s.inputs||s.inputs.length===0)throw new iT({docsPath:Ew});const a=LR(s.inputs,n);return Qm([r,a])}function p3({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new Qv({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Qv({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function rZ(t,{docsPath:e,...n}){const r=(()=>{const s=KE(t,n);return s instanceof ey?t:s})();return new XK(r,{docsPath:e,...n})}function g3(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const _w=new Map;function m3({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const p=d();c();const m=p.map(({args:y})=>y);m.length!==0&&t(m).then(y=>{s&&Array.isArray(y)&&y.sort(s);for(let w=0;w<p.length;w++){const{resolve:E}=p[w];E==null||E([y[w],y])}}).catch(y=>{for(let w=0;w<p.length;w++){const{reject:E}=p[w];E==null||E(y)}})},c=()=>_w.delete(e),u=()=>d().map(({args:p})=>p),d=()=>_w.get(e)||[],h=p=>_w.set(e,[...d(),p]);return{flush:c,async schedule(p){const{promise:m,resolve:y,reject:w}=g3();return(n==null?void 0:n([...u(),p]))&&a(),d().length>0?(h({args:p,resolve:y,reject:w}),m):(h({args:p,resolve:y,reject:w}),setTimeout(a,r),m)}}}async function y3(t,e){var ee,ae,G,k;const{account:n=t.account,batch:r=!!((ee=t.batch)!=null&&ee.multicall),blockNumber:s,blockTag:a="latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:p,factory:m,factoryData:y,gas:w,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:_,maxPriorityFeePerGas:S,nonce:N,to:x,value:P,stateOverride:T,...A}=e,R=n?di(n):void 0;if(h&&(m||y))throw new he("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&x)throw new he("Cannot provide both `code` & `to` as parameters.");const M=h&&p,O=m&&y&&x&&p,j=M||O,F=M?aZ({code:h,data:p}):O?oZ({data:p,factory:m,factoryData:y,to:x}):p;try{ty(e);const z=(typeof s=="bigint"?et(s):void 0)||a,q=d?QY(d):void 0,H=ZR(T),D=(k=(G=(ae=t.chain)==null?void 0:ae.formatters)==null?void 0:G.transactionRequest)==null?void 0:k.format,te=(D||ZE)({...YE(A,{format:D}),from:R==null?void 0:R.address,accessList:c,blobs:u,data:F,gas:w,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:_,maxPriorityFeePerGas:S,nonce:N,to:j?void 0:x,value:P});if(r&&sZ({request:te})&&!H&&!q)try{return await iZ(t,{...te,blockNumber:s,blockTag:a})}catch(de){if(!(de instanceof h3)&&!(de instanceof Qv))throw de}const ie=(()=>{const de=[te,z];return H&&q?[...de,H,q]:H?[...de,H]:q?[...de,{},q]:de})(),J=await t.request({method:"eth_call",params:ie});return J==="0x"?{data:void 0}:{data:J}}catch(I){const z=cZ(I),{offchainLookup:q,offchainLookupSignature:H}=await er(async()=>{const{offchainLookup:D,offchainLookupSignature:Y}=await import("./ccip-DhWqYEEQ.js");return{offchainLookup:D,offchainLookupSignature:Y}},[]);if(t.ccipRead!==!1&&(z==null?void 0:z.slice(0,10))===H&&x)return{data:await q(t,{data:z,to:x})};throw j&&(z==null?void 0:z.slice(0,10))==="0x101bb98d"?new tY({factory:m}):rZ(I,{...e,account:R,chain:t.chain})}}function sZ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(XY)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function iZ(t,e){var v;const{batchSize:n=1024,wait:r=0}=typeof((v=t.batch)==null?void 0:v.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:c,multicallAddress:u,to:d}=e;let h=u;if(!h){if(!t.chain)throw new h3;h=p3({blockNumber:s,chain:t.chain,contract:"multicall3"})}const m=(typeof s=="bigint"?et(s):void 0)||a,{schedule:y}=m3({id:`${t.uid}.${m}`,wait:r,shouldSplitBatch(_){return _.reduce((N,{data:x})=>N+(x.length-2),0)>n*2},fn:async _=>{const S=_.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),N=Xm({abi:Zv,args:[S],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{data:N,to:h},m]});return e1({abi:Zv,args:[S],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:w,success:E}]=await y({data:c,to:d});if(!E)throw new GE({data:w});return w==="0x"?{data:void 0}:{data:w}}function aZ(t){const{code:e,data:n}=t;return f3({abi:IO(["constructor(bytes, bytes)"]),bytecode:JY,args:[e,n]})}function oZ(t){const{data:e,factory:n,factoryData:r,to:s}=t;return f3({abi:IO(["constructor(address, bytes, address, bytes)"]),bytecode:eZ,args:[s,e,n,r]})}function cZ(t){var n;if(!(t instanceof he))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function b3(t,e){const{abi:n,address:r,args:s,functionName:a,...c}=e,u=Xm({abi:n,args:s,functionName:a});try{const{data:d}=await Bt(t,y3,"call")({...c,data:u,to:r});return e1({abi:n,args:s,functionName:a,data:d||"0x"})}catch(d){throw nm(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}const Cw=new Map,ST=new Map;let lZ=0;function im(t,e,n){const r=++lZ,s=()=>Cw.get(t)||[],a=()=>{const p=s();Cw.set(t,p.filter(m=>m.id!==r))},c=()=>{const p=s();if(!p.some(y=>y.id===r))return;const m=ST.get(t);p.length===1&&m&&m(),a()},u=s();if(Cw.set(t,[...u,{id:r,fns:e}]),u&&u.length>0)return c;const d={};for(const p in e)d[p]=(...m)=>{var w,E;const y=s();if(y.length!==0)for(const v of y)(E=(w=v.fns)[p])==null||E.call(w,...m)};const h=n(d);return typeof h=="function"&&ST.set(t,h),c}async function am(t){return new Promise(e=>setTimeout(e,t))}function w3(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let u;e&&(u=await t({unpoll:a}));const d=await(n==null?void 0:n(u))??r;await am(d);const h=async()=>{s&&(await t({unpoll:a}),await am(r),h())};h()})(),a}const uZ=new Map,dZ=new Map;function hZ(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:c=>a.set(s,c)}),n=e(t,uZ),r=e(t,dZ);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function fZ(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=hZ(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const c=await a;return r.response.set({created:new Date,data:c}),c}finally{r.promise.clear()}}const pZ=t=>`blockNumber.${t}`;async function gZ(t,{cacheTime:e=t.cacheTime}={}){const n=await fZ(()=>t.request({method:"eth_blockNumber"}),{cacheKey:pZ(t.uid),cacheTime:e});return BigInt(n)}async function mZ(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>l3(a));return!("abi"in e)||!e.abi?s:FY({abi:e.abi,logs:s,strict:n})}async function yZ(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class t1 extends he{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Aw extends he{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function bZ({chain:t,currentChainId:e}){if(!t)throw new nZ;if(e!==t.id)throw new tZ({chain:t,currentChainId:e})}function wZ(t,{docsPath:e,...n}){const r=(()=>{const s=KE(t,n);return s instanceof ey?t:s})();return new YK(r,{docsPath:e,...n})}async function vZ(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Sw=new Ym(128);async function v3(t,e){var N,x,P,T;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,type:E,value:v,..._}=e;if(typeof n>"u")throw new t1({docsPath:"/docs/actions/wallet/sendTransaction"});const S=n?di(n):null;try{ty(e);const A=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await YR({authorization:a[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`.")})})();if((S==null?void 0:S.type)==="json-rpc"||S===null){let R;r!==null&&(R=await Bt(t,i3,"getChainId")({}),bZ({currentChainId:R,chain:r}));const M=(P=(x=(N=t.chain)==null?void 0:N.formatters)==null?void 0:x.transactionRequest)==null?void 0:P.format,j=(M||ZE)({...YE(_,{format:M}),accessList:s,authorizationList:a,blobs:c,chainId:R,data:u,from:S==null?void 0:S.address,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,to:A,type:E,value:v}),F=Sw.get(t.uid),ee=F?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:ee,params:[j]},{retryCount:0})}catch(ae){if(F===!1)throw ae;const G=ae;if(G.name==="InvalidInputRpcError"||G.name==="InvalidParamsRpcError"||G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[j]},{retryCount:0}).then(k=>(Sw.set(t.uid,!0),k)).catch(k=>{const I=k;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(Sw.set(t.uid,!1),G):I});throw G}}if((S==null?void 0:S.type)==="local"){const R=await Bt(t,JE,"prepareTransactionRequest")({account:S,accessList:s,authorizationList:a,blobs:c,chain:r,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,nonceManager:S.nonceManager,parameters:[...a3,"sidecars"],type:E,value:v,..._,to:A}),M=(T=r==null?void 0:r.serializers)==null?void 0:T.transaction,O=await S.signTransaction(R,{serializer:M});return await Bt(t,vZ,"sendRawTransaction")({serializedTransaction:O})}throw(S==null?void 0:S.type)==="smart"?new Aw({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Aw({docsPath:"/docs/actions/wallet/sendTransaction",type:S==null?void 0:S.type})}catch(A){throw A instanceof Aw?A:wZ(A,{...e,account:S,chain:e.chain||void 0})}}async function EZ(t,e){const{abi:n,account:r=t.account,address:s,args:a,dataSuffix:c,functionName:u,...d}=e;if(typeof r>"u")throw new t1({docsPath:"/docs/contract/writeContract"});const h=r?di(r):null,p=Xm({abi:n,args:a,functionName:u});try{return await Bt(t,v3,"sendTransaction")({data:`${p}${c?c.replace("0x",""):""}`,to:s,account:h,...d})}catch(m){throw nm(m,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:u,sender:h==null?void 0:h.address})}}const _Z={"0x0":"reverted","0x1":"success"};function CZ(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>l3(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?pc(t.transactionIndex):null,status:t.status?_Z[t.status]:null,type:t.type?XR[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const Xv=256;let mg=Xv,yg;function E3(t=11){if(!yg||mg+t>Xv*2){yg="",mg=0;for(let e=0;e<Xv;e++)yg+=(256+Math.random()*256|0).toString(16).substring(1)}return yg.substring(mg,mg+++t)}function _3(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:c=4e3,type:u="base"}=t,d=t.chain,h=t.account?di(t.account):void 0,{config:p,request:m,value:y}=t.transport({chain:d,pollingInterval:c}),w={...p,...y},E={account:h,batch:e,cacheTime:n,ccipRead:r,chain:d,key:s,name:a,pollingInterval:c,request:m,transport:w,type:u,uid:E3()};function v(_){return S=>{const N=S(_);for(const P in E)delete N[P];const x={..._,...N};return Object.assign(x,{extend:v(x)})}}return Object.assign(E,{extend:v(E)})}const bg=new Ym(8192);function AZ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(bg.get(n))return bg.get(n);const r=t().finally(()=>bg.delete(n));return bg.set(n,r),r}function om(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:u=0}={})=>{const d=async({error:h})=>{const p=typeof e=="function"?e({count:u,error:h}):e;p&&await am(p),c({count:u+1})};try{const h=await t();s(h)}catch(h){if(u<n&&await r({count:u,error:h}))return d({error:h});a(h)}};c()})}function SZ(t,e={}){return async(n,r={})=>{var m;const{dedupe:s=!1,methods:a,retryDelay:c=150,retryCount:u=3,uid:d}={...e,...r},{method:h}=n;if((m=a==null?void 0:a.exclude)!=null&&m.includes(h))throw new Ko(new Error("method not supported"),{method:h});if(a!=null&&a.include&&!a.include.includes(h))throw new Ko(new Error("method not supported"),{method:h});const p=s?Gm(`${d}.${os(n)}`):void 0;return AZ(()=>om(async()=>{try{return await t(n)}catch(y){const w=y;switch(w.code){case Oh.code:throw new Oh(w);case Ih.code:throw new Ih(w);case Rh.code:throw new Rh(w,{method:n.method});case Ph.code:throw new Ph(w);case mc.code:throw new mc(w);case Dh.code:throw new Dh(w);case $h.code:throw new $h(w);case Qa.code:throw new Qa(w);case uu.code:throw new uu(w);case Ko.code:throw new Ko(w,{method:n.method});case du.code:throw new du(w);case Uh.code:throw new Uh(w);case dn.code:throw new dn(w);case kh.code:throw new kh(w);case Mh.code:throw new Mh(w);case jh.code:throw new jh(w);case Bh.code:throw new Bh(w);case ci.code:throw new ci(w);case Lh.code:throw new Lh(w);case zh.code:throw new zh(w);case Fh.code:throw new Fh(w);case qh.code:throw new qh(w);case Hh.code:throw new Hh(w);case Vh.code:throw new Vh(w);case Gh.code:throw new Gh(w);case 5e3:throw new dn(w);default:throw y instanceof he?y:new rY(w)}}},{delay:({count:y,error:w})=>{var E;if(w&&w instanceof dh){const v=(E=w==null?void 0:w.headers)==null?void 0:E.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<y)*c},retryCount:u,shouldRetry:({error:y})=>NZ(y)}),{enabled:s,id:p})}}function NZ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===du.code||t.code===mc.code:t instanceof dh&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function n1({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:c,type:u},d){const h=E3();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:a,timeout:c,type:u},request:SZ(r,{methods:e,retryCount:s,retryDelay:a,uid:h}),value:d}}function TZ(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=e;return({retryCount:c})=>n1({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??c,retryDelay:a,type:"custom"})}function NT(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=xZ,retryCount:c,retryDelay:u}=e;return({chain:d,pollingInterval:h=4e3,timeout:p,...m})=>{let y=t,w=()=>{};const E=n1({key:n,name:r,async request({method:v,params:_}){let S;const N=async(x=0)=>{const P=y[x]({...m,chain:d,retryCount:0,timeout:p});try{const T=await P.request({method:v,params:_});return w({method:v,params:_,response:T,transport:P,status:"success"}),T}catch(T){if(w({error:T,method:v,params:_,transport:P,status:"error"}),a(T)||x===y.length-1||(S??(S=y.slice(x+1).some(A=>{const{include:R,exclude:M}=A({chain:d}).config.methods||{};return R?R.includes(v):M?!M.includes(v):!0})),!S))throw T;return N(x+1)}};return N()},retryCount:c,retryDelay:u,type:"fallback"},{onResponse:v=>w=v,transports:y.map(v=>v({chain:d,retryCount:0}))});if(s){const v=typeof s=="object"?s:{};OZ({chain:d,interval:v.interval??h,onTransports:_=>y=_,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:y,weights:v.weights})}return E}}function xZ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===uu.code||t.code===dn.code||Yo.nodeMessage.test(t.message)||t.code===5e3))}function OZ({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:c,weights:u={}}){const{stability:d=.7,latency:h=.3}=u,p=[],m=async()=>{const y=await Promise.all(c.map(async v=>{const _=v({chain:t,retryCount:0,timeout:a}),S=Date.now();let N,x;try{await(r?r({transport:_}):_.request({method:"net_listening"})),x=1}catch{x=0}finally{N=Date.now()}return{latency:N-S,success:x}}));p.push(y),p.length>s&&p.shift();const w=Math.max(...p.map(v=>Math.max(...v.map(({latency:_})=>_)))),E=c.map((v,_)=>{const S=p.map(A=>A[_].latency),x=1-S.reduce((A,R)=>A+R,0)/S.length/w,P=p.map(A=>A[_].success),T=P.reduce((A,R)=>A+R,0)/P.length;return T===0?[0,_]:[h*x+d*T,_]}).sort((v,_)=>_[0]-v[0]);n(E.map(([,v])=>c[v])),await am(e),m()};m()}class IZ extends he{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function C3(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let c;try{const u=new AbortController;n>0&&(c=setTimeout(()=>{r?u.abort():a(e)},n)),s(await t({signal:(u==null?void 0:u.signal)||null}))}catch(u){(u==null?void 0:u.name)==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}function RZ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const TT=RZ();function PZ(t,e={}){return{async request(n){var m;const{body:r,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:p}=u;try{const y=await C3(async({signal:E})=>{const v={...u,body:Array.isArray(r)?os(r.map(x=>({jsonrpc:"2.0",id:x.id??TT.take(),...x}))):os({jsonrpc:"2.0",id:r.id??TT.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:p||(c>0?E:null)},_=new Request(t,v),S=await(s==null?void 0:s(_,v))??{...v,url:t};return await fetch(S.url??t,S)},{errorInstance:new yT({body:r,url:t}),timeout:c,signal:!0});a&&await a(y);let w;if((m=y.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))w=await y.json();else{w=await y.text();try{w=JSON.parse(w||"{}")}catch(E){if(y.ok)throw E;w={error:w}}}if(!y.ok)throw new dh({body:r,details:os(w.error)||y.statusText,headers:y.headers,status:y.status,url:t});return w}catch(y){throw y instanceof dh||y instanceof yT?y:new dh({body:r,cause:y,url:t})}}}}function wg(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:p}=e;return({chain:m,retryCount:y,timeout:w})=>{const{batchSize:E=1e3,wait:v=0}=typeof n=="object"?n:{},_=e.retryCount??y,S=w??e.timeout??1e4,N=t||(m==null?void 0:m.rpcUrls.default.http[0]);if(!N)throw new IZ;const x=PZ(N,{fetchOptions:r,onRequest:u,onResponse:d,timeout:S});return n1({key:s,methods:a,name:c,async request({method:P,params:T}){const A={method:P,params:T},{schedule:R}=m3({id:N,wait:v,shouldSplitBatch(F){return F.length>E},fn:F=>x.request({body:F}),sort:(F,ee)=>F.id-ee.id}),M=async F=>n?R(F):[await x.request({body:F})],[{error:O,result:j}]=await M(A);if(p)return{error:O,result:j};if(O)throw new WE({body:A,error:O,url:N});return j},retryCount:_,retryDelay:h,timeout:S,type:"http"},{fetchOptions:r,url:N})}}async function DZ(t){const e=CK(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}function r1(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class $Z extends he{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function UZ(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new $Z({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[a,c,u]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],d=Math.round(+`${c}.${u}`);d>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${d}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}async function A3(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){var p,m,y;const c=r||"latest",u=n!==void 0?et(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,et(a)]},{dedupe:!0}):d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,et(a)]},{dedupe:!!u}),!d)throw new HR({blockHash:e,blockNumber:n,blockTag:c,hash:s,index:a});return(((y=(m=(p=t.chain)==null?void 0:p.formatters)==null?void 0:m.transaction)==null?void 0:y.format)||JR)(d)}async function xT(t,{hash:e}){var s,a,c;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new VR({hash:e});return(((c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:c.format)||CZ)(n)}async function kZ(t,e){var S;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:c,multicallAddress:u,stateOverride:d}=e,h=e.contracts,p=s??(typeof((S=t.batch)==null?void 0:S.multicall)=="object"&&t.batch.multicall.batchSize||1024);let m=u;if(!m){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");m=p3({blockNumber:a,chain:t.chain,contract:"multicall3"})}const y=[[]];let w=0,E=0;for(let N=0;N<h.length;N++){const{abi:x,address:P,args:T,functionName:A}=h[N];try{const R=Xm({abi:x,args:T,functionName:A});E+=(R.length-2)/2,p>0&&E>p&&y[w].length>0&&(w++,E=(R.length-2)/2,y[w]=[]),y[w]=[...y[w],{allowFailure:!0,callData:R,target:P}]}catch(R){const M=nm(R,{abi:x,address:P,args:T,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!r)throw M;y[w]=[...y[w],{allowFailure:!0,callData:"0x",target:P}]}}const v=await Promise.allSettled(y.map(N=>Bt(t,b3,"readContract")({abi:Zv,account:n,address:m,args:[N],blockNumber:a,blockTag:c,functionName:"aggregate3",stateOverride:d}))),_=[];for(let N=0;N<v.length;N++){const x=v[N];if(x.status==="rejected"){if(!r)throw x.reason;for(let T=0;T<y[N].length;T++)_.push({status:"failure",error:x.reason,result:void 0});continue}const P=x.value;for(let T=0;T<P.length;T++){const{returnData:A,success:R}=P[T],{callData:M}=y[N][T],{abi:O,address:j,functionName:F,args:ee}=h[_.length];try{if(M==="0x")throw new Vm;if(!R)throw new GE({data:A});const ae=e1({abi:O,args:ee,data:A,functionName:F});_.push(r?{result:ae,status:"success"}:ae)}catch(ae){const G=nm(ae,{abi:O,address:j,args:ee,docsPath:"/docs/contract/multicall",functionName:F});if(!r)throw G;_.push({error:G,result:void 0,status:"failure"})}}}if(_.length!==h.length)throw new he("multicall results mismatch");return _}function MZ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let d;return u?(()=>{const m=os(["watchBlockNumber",t.uid,e,n,c]);return im(m,{onBlockNumber:r,onError:s},y=>w3(async()=>{var w;try{const E=await Bt(t,gZ,"getBlockNumber")({cacheTime:0});if(d){if(E===d)return;if(E-d>1&&n)for(let v=d+1n;v<E;v++)y.onBlockNumber(v,d),d=v}(!d||E>d)&&(y.onBlockNumber(E,d),d=E)}catch(E){(w=y.onError)==null||w.call(y,E)}},{emitOnBegin:e,interval:c}))})():(()=>{const m=os(["watchBlockNumber",t.uid,e,n]);return im(m,{onBlockNumber:r,onError:s},y=>{let w=!0,E=()=>w=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(N=>N.config.type==="webSocket");return S?S.value:t.transport}return t.transport})(),{unsubscribe:_}=await v.subscribe({params:["newHeads"],onData(S){var x;if(!w)return;const N=ou((x=S.result)==null?void 0:x.number);y.onBlockNumber(N,d),d=N},onError(S){var N;(N=y.onError)==null||N.call(y,S)}});E=_,w||E()}catch(v){s==null||s(v)}})(),()=>E()})})()}async function jZ(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:a=6,retryDelay:c=({count:d})=>~~(1<<d)*200,timeout:u=18e4}){const d=os(["waitForTransactionReceipt",t.uid,n]);let h,p,m,y=!1;const{promise:w,resolve:E,reject:v}=g3(),_=u?setTimeout(()=>v(new ZK({hash:n})),u):void 0,S=im(d,{onReplaced:r,resolve:E,reject:v},N=>{const x=Bt(t,MZ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(P){const T=R=>{clearTimeout(_),x(),R(),S()};let A=P;if(!y)try{if(m){if(e>1&&(!m.blockNumber||A-m.blockNumber+1n<e))return;T(()=>N.resolve(m));return}if(h||(y=!0,await om(async()=>{h=await Bt(t,A3,"getTransaction")({hash:n}),h.blockNumber&&(A=h.blockNumber)},{delay:c,retryCount:a}),y=!1),m=await Bt(t,xT,"getTransactionReceipt")({hash:n}),e>1&&(!m.blockNumber||A-m.blockNumber+1n<e))return;T(()=>N.resolve(m))}catch(R){if(R instanceof HR||R instanceof VR){if(!h){y=!1;return}try{p=h,y=!0;const M=await om(()=>Bt(t,Wh,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:F})=>F instanceof QR});y=!1;const O=M.transactions.find(({from:F,nonce:ee})=>F===p.from&&ee===p.nonce);if(!O||(m=await Bt(t,xT,"getTransactionReceipt")({hash:O.hash}),e>1&&(!m.blockNumber||A-m.blockNumber+1n<e)))return;let j="replaced";O.to===p.to&&O.value===p.value&&O.input===p.input?j="repriced":O.from===O.to&&O.value===0n&&(j="cancelled"),T(()=>{var F;(F=N.onReplaced)==null||F.call(N,{reason:j,replacedTransaction:p,transaction:O,transactionReceipt:m}),N.resolve(m)})}catch(M){T(()=>N.reject(M))}}else T(()=>N.reject(R))}}})});return w}function BZ(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const h=os(["watchPendingTransactions",t.uid,e,a]);return im(h,{onTransactions:r,onError:n},p=>{let m;const y=w3(async()=>{var w;try{if(!m)try{m=await Bt(t,DZ,"createPendingTransactionFilter")({});return}catch(v){throw y(),v}const E=await Bt(t,mZ,"getFilterChanges")({filter:m});if(E.length===0)return;if(e)p.onTransactions(E);else for(const v of E)p.onTransactions([v])}catch(E){(w=p.onError)==null||w.call(p,E)}},{emitOnBegin:!0,interval:a});return async()=>{m&&await Bt(t,yZ,"uninstallFilter")({filter:m}),y()}})})():(()=>{let h=!0,p=()=>h=!1;return(async()=>{try{const{unsubscribe:m}=await t.transport.subscribe({params:["newPendingTransactions"],onData(y){if(!h)return;const w=y.result;r([w])},onError(y){n==null||n(y)}});p=m,h||p()}catch(m){n==null||n(m)}})(),()=>p()})()}async function LZ(t,{account:e=t.account,message:n}){if(!e)throw new t1({docsPath:"/docs/actions/wallet/signMessage"});const r=di(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Gm(n):n.raw instanceof Uint8Array?cu(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}const Nw={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return xu(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},OT={async getMyTokensWithBalance(t){const e=Ne.state.address,n=B.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,n);if(s)return this.filterLowQualityTokens(s)}const r=await Be.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const s=Nw.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await Me.getCapabilities(t);if(!((r=(n=a==null?void 0:a[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const c=await Me.walletGetAssets({account:t,chainFilter:[s]});return Nw.isWalletGetAssetsResponse(c)?(c[s]||[]).map(d=>Nw.createBalance(d,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:B.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},wt=jt({tokenBalances:[],loading:!1}),zZ={state:wt,subscribe(t){return Gn(wt,()=>t(wt))},subscribeKey(t,e){return Kn(wt,t,e)},setToken(t){t&&(wt.token=oc(t))},setTokenAmount(t){wt.sendTokenAmount=t},setReceiverAddress(t){wt.receiverAddress=t},setReceiverProfileImageUrl(t){wt.receiverProfileImageUrl=t},setReceiverProfileName(t){wt.receiverProfileName=t},setNetworkBalanceInUsd(t){wt.networkBalanceInUSD=t},setLoading(t){wt.loading=t},async sendToken(){var t;try{switch(mt.setLoading(!0),(t=B.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await mt.sendEvmToken();return;case"solana":await mt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{mt.setLoading(!1)}},async sendEvmToken(){var n,r,s,a;const t=B.state.activeChain,e=(n=Ne.state.preferredAccountTypes)==null?void 0:n[t];if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!mt.state.token)throw new Error("A token is required");(r=mt.state.token)!=null&&r.address?(Mt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.address,amount:mt.state.sendTokenAmount,network:((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await mt.sendERC20Token({receiverAddress:mt.state.receiverAddress,tokenAddress:mt.state.token.address,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals})):(Mt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.symbol||"",amount:mt.state.sendTokenAmount,network:((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await mt.sendNativeToken({receiverAddress:mt.state.receiverAddress,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var a,c;wt.loading=!0;const e=(a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=B.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=B.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(wt.lastRetry&&!De.isAllowedRetry(wt.lastRetry,30*an.ONE_SEC_MS))return wt.loading=!1,[];try{if(s&&e&&n){const u=await OT.getMyTokensWithBalance();return wt.tokenBalances=u,wt.lastRetry=void 0,u}}catch(u){wt.lastRetry=Date.now(),t==null||t(u),Os.showError("Token Balance Unavailable")}finally{wt.loading=!1}return[]},fetchNetworkBalance(){if(wt.tokenBalances.length===0)return;const t=OT.mapBalancesToSwapTokens(wt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===B.getActiveNetworkTokenAddress());e&&(wt.networkBalanceInUSD=e?Z5.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var a,c,u,d;at.pushTransactionStack({view:null,goBack:!1});const e=t.receiverAddress,n=Ne.state.address,r=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Me.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),Mt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((a=Ne.state.preferredAccountTypes)==null?void 0:a.eip155)===kn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((c=mt.state.token)==null?void 0:c.symbol)||"",amount:t.sendTokenAmount,network:((u=B.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)||""}}),(d=Me._getClient())==null||d.updateBalance("eip155"),mt.resetSend()},async sendERC20Token(t){at.pushTransactionStack({view:"Account",goBack:!1});const e=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Ne.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=De.getPlainAddress(t.tokenAddress);await Me.writeContract({fromAddress:Ne.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:e8.getERC20Abi(n),chainNamespace:"eip155"}),mt.resetSend()}},async sendSolanaToken(){var t;if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");at.pushTransactionStack({view:"Account",goBack:!1}),await Me.sendTransaction({chainNamespace:"solana",to:mt.state.receiverAddress,value:mt.state.sendTokenAmount}),(t=Me._getClient())==null||t.updateBalance("solana"),mt.resetSend()},resetSend(){wt.token=void 0,wt.sendTokenAmount=void 0,wt.receiverAddress=void 0,wt.receiverProfileImageUrl=void 0,wt.receiverProfileName=void 0,wt.loading=!1,wt.tokenBalances=[]}},mt=ls(zZ),Tw={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},vg={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},be=jt({chains:L5(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),FZ={state:be,subscribe(t){return Gn(be,()=>{t(be)})},subscribeKey(t,e){return Kn(be,t,e)},subscribeChainProp(t,e,n){let r;return Gn(be.chains,()=>{var a;const s=n||be.activeChain;if(s){const c=(a=be.chains.get(s))==null?void 0:a[t];r!==c&&(r=c,e(c))}})},initialize(t,e,n){const{chainId:r,namespace:s}=we.getActiveNetworkProps(),a=e==null?void 0:e.find(p=>p.id.toString()===(r==null?void 0:r.toString())),u=t.find(p=>(p==null?void 0:p.namespace)===s)||(t==null?void 0:t[0]),d=t.map(p=>p.namespace).filter(p=>p!==void 0),h=ue.state.enableEmbedded?new Set([...d]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!u)&&(be.noAdapters=!0),be.noAdapters||(be.activeChain=u==null?void 0:u.namespace,be.activeCaipNetwork=a,B.setChainNetworkData(u==null?void 0:u.namespace,{caipNetwork:a}),be.activeChain&&si.set({activeChain:u==null?void 0:u.namespace})),h.forEach(p=>{const m=e==null?void 0:e.filter(y=>y.chainNamespace===p);B.state.chains.set(p,{namespace:p,networkState:jt({...vg,caipNetwork:m==null?void 0:m[0]}),accountState:jt(Tw),caipNetworks:m??[],...n}),B.setRequestedCaipNetworks(m??[],p)})},removeAdapter(t){var e,n;if(be.activeChain===t){const r=Array.from(be.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&B.setActiveCaipNetwork(s)}}be.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){be.chains.set(t.namespace,{namespace:t.namespace,networkState:{...vg,caipNetwork:r[0]},accountState:Tw,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),B.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=be.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),be.chains.set(t.chainNamespace,{...e,caipNetworks:r}),B.setRequestedCaipNetworks(r,t.chainNamespace),Ee.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,a;const n=be.chains.get(t);if(n){const c=((r=be.activeCaipNetwork)==null?void 0:r.id)===e,u=[...((s=n.caipNetworks)==null?void 0:s.filter(d=>d.id!==e))||[]];c&&((a=n==null?void 0:n.caipNetworks)!=null&&a[0])&&B.setActiveCaipNetwork(n.caipNetworks[0]),be.chains.set(t,{...n,caipNetworks:u}),B.setRequestedCaipNetworks(u||[],t),u.length===0&&Ee.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=be.chains.get(t);n&&(n.networkState={...n.networkState||vg,...e},be.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=be.chains.get(t);if(r){const s={...r.accountState||Tw,...e};be.chains.set(t,{...r,accountState:s}),(be.chains.size===1||be.activeChain===t)&&(e.caipAddress&&(be.activeCaipAddress=e.caipAddress),Ne.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=be.chains.get(t);if(n){const r={...n.networkState||vg,...e};be.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){B.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ee.removeConnectorId(n)},setActiveNamespace(t){var r,s;be.activeChain=t;const e=t?be.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(be.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,be.activeCaipNetwork=n,B.setChainNetworkData(t,{caipNetwork:n}),we.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),si.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,a;if(!t)return;be.activeChain!==t.chainNamespace&&B.setIsSwitchingNamespace(!0);const e=be.chains.get(t.chainNamespace);be.activeChain=t.chainNamespace,be.activeCaipNetwork=t,B.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?be.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:be.activeCaipAddress=void 0,B.setAccountProp("caipAddress",be.activeCaipAddress,t.chainNamespace),e&&Ne.replaceState(e.accountState),mt.resetSend(),si.set({activeChain:be.activeChain,selectedNetworkId:(a=be.activeCaipNetwork)==null?void 0:a.caipNetworkId}),we.setActiveCaipNetworkId(t.caipNetworkId),!B.checkIfSupportedNetwork(t.chainNamespace)&&ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&!Me.state.wcBasic&&B.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=be.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==B.state.activeChain,n=(s=B.getNetworkData(t))==null?void 0:s.caipNetwork,r=B.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await B.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=B.state.chains.get(B.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(a=>{var c;return a.id===((c=be.activeCaipNetwork)==null?void 0:c.id)}))&&at.goBack();const r=B.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),Mt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||be.activeChain,n=be.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||be.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=be.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=be.activeChain;if(e&&(n=e),!n)return;const r=(s=be.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=be.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=be.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return De.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return be.chains.forEach(e=>{const n=B.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){B.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=B.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),s=Array.from(new Set(r));Ee.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return be.chains.forEach(e=>{const n=B.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return be.activeCaipNetwork},getActiveCaipAddress(){return be.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=be.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=B.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());B.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||be.activeCaipNetwork,r=B.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!be.activeChain)return!0;const e=B.getRequestedCaipNetworks(be.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){B.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=yh.caipNetworkIdToNumber((r=be.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=be.activeChain;if(!e||!t)return!1;const n=B.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,s;const t=((r=be.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=be.activeCaipNetwork)==null?void 0:s.id)||1,n=an.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){Jt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=be.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&an.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){B.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");be.activeCaipAddress=void 0,B.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ee.removeConnectorId(e)},async disconnect(t){const e=w8(t);try{mt.resetSend();const n=await Promise.allSettled(e.map(async([s,a])=>{var c;try{const{caipAddress:u}=B.getAccountData(s)||{};u&&((c=a.connectionControllerClient)!=null&&c.disconnect)&&await a.connectionControllerClient.disconnect(s),B.resetAccount(s),B.resetNetwork(s)}catch(u){throw new Error(`Failed to disconnect chain ${s}: ${u.message}`)}}));Me.resetWcConnection();const r=n.filter(s=>s.status==="rejected");if(r.length>0)throw new Error(r.map(s=>s.reason.message).join(", "));we.deleteConnectedSocialProvider(),t?Ee.removeConnectorId(t):Ee.resetConnectorIds(),Mt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),Mt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){be.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(be.chains.forEach(s=>{fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=be.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=B.state.chains.get(t))==null?void 0:e.accountState:Ne.state},getNetworkData(t){var n;const e=t||be.activeChain;if(e)return(n=B.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,a,c;if(!t)return;const n=B.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(u=>u.id===e);return r||((a=n==null?void 0:n.networkState)==null?void 0:a.caipNetwork)||((c=n==null?void 0:n.caipNetworks)==null?void 0:c[0])},getRequestedCaipNetworkIds(){const t=Ee.state.filterByNamespace;return(t?[be.chains.get(t)]:Array.from(be.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?B.getRequestedCaipNetworks(t):B.getAllRequestedCaipNetworks()}},B=ls(FZ),qZ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},S3=De.getBlockchainApiUrl(),ur=jt({clientId:null,api:new mf({baseUrl:S3,clientId:null}),supportedChains:{http:[],ws:[]}}),Be={state:ur,async get(t){const{st:e,sv:n}=Be.getSdkProperties(),r=ue.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return ur.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ue.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ur.supportedChains.http.length||await Be.getSupportedNetworks()}catch{return!1}return ur.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Be.get({path:"v1/supported-chains"});return ur.supportedChains=t,t}catch{return ur.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Be.isNetworkSupported(e))return{avatar:"",name:""};const r=we.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Be.get({path:`/v1/identity/${t}`,params:{sender:B.state.activeCaipAddress?De.getPlainAddress(B.state.activeCaipAddress):void 0}});return we.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:a}){var u;return await Be.isNetworkSupported((u=B.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?Be.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:a},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var c;return await Be.isNetworkSupported((c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?Be.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ur.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ue.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Be.isNetworkSupported((r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Be.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Be.getSdkProperties();if(!await Be.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Be.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var c;if(!await Be.isNetworkSupported((c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return ur.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:an.CONVERT_SLIPPAGE_TOLERANCE},projectId:ue.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var c;const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported((c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return Be.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var h;const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported((h=B.state.activeCaipNetwork)==null?void 0:h.caipNetworkId))return Os.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,u=we.getBalanceCacheForCaipAddress(c);if(u)return u;const d=await Be.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return we.updateBalanceCache({caipAddress:c,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/reverse/${t}`,params:{sender:Ne.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var a;return await Be.isNetworkSupported((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?ur.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var u;return await Be.isNetworkSupported((u=B.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?(await ur.api.post({path:"/v1/generators/onrampurl",params:{projectId:ue.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Be.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Be.get({path:"/v1/onramp/options"})}catch{return qZ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Be.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await ur.api.post({path:"/v1/onramp/quote",params:{projectId:ue.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Be.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Be.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?ur.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ue.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){ur.clientId=t,ur.api=new mf({baseUrl:S3,clientId:t})}},es=jt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),HZ={state:es,replaceState(t){t&&Object.assign(es,oc(t))},subscribe(t){return B.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return B.subscribeChainProp("accountState",s=>{if(s){const a=s[t];r!==a&&(r=a,e(a))}},n)},setStatus(t,e){B.setAccountProp("status",t,e)},getCaipAddress(t){return B.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?De.getPlainAddress(t):void 0;e===B.state.activeChain&&(B.state.activeCaipAddress=t),B.setAccountProp("caipAddress",t,e),B.setAccountProp("address",n,e)},setBalance(t,e,n){B.setAccountProp("balance",t,n),B.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){B.setAccountProp("profileName",t,e)},setProfileImage(t,e){B.setAccountProp("profileImage",t,e)},setUser(t,e){B.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){B.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){B.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){B.setAccountProp("currentTab",t,B.state.activeChain)},setTokenBalance(t,e){t&&B.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){B.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){B.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=B.getAccountProp("addressLabels",n)||new Map;r.set(t,e),B.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=B.getAccountProp("addressLabels",e)||new Map;n.delete(t),B.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){B.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){B.setAccountProp("preferredAccountTypes",{...es.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){es.preferredAccountTypes=t},setSocialProvider(t,e){t&&B.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){B.setAccountProp("socialWindow",t?oc(t):void 0,e)},setFarcasterUrl(t,e){B.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var a,c;es.balanceLoading=!0;const e=(a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=B.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=B.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(es.lastRetry&&!De.isAllowedRetry(es.lastRetry,30*an.ONE_SEC_MS))return es.balanceLoading=!1,[];try{if(s&&e&&n){const d=(await Be.getBalance(s,e)).balances.filter(h=>h.quantity.decimals!=="0");return Ne.setTokenBalance(d,n),es.lastRetry=void 0,es.balanceLoading=!1,d}}catch(u){es.lastRetry=Date.now(),t==null||t(u),Os.showError("Token Balance Unavailable")}finally{es.balanceLoading=!1}return[]},resetAccount(t){B.resetAccount(t)}},Ne=ls(HZ),dr=jt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),VZ={state:dr,subscribe(t){return Gn(dr,()=>t(dr))},subscribeKey(t,e){return Kn(dr,t,e)},async open(t){var s;const e=Ne.state.status==="connected";Me.state.wcBasic?ke.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ke.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await B.switchActiveNamespace(t.namespace),Jt.setLoading(!0,t.namespace)):Jt.setLoading(!0),Ee.setFilterByNamespace(t==null?void 0:t.namespace);const n=(s=B.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress,r=B.state.noAdapters;ue.state.manualWCControl||r&&!n?De.isMobile()?at.reset("AllWallets"):at.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?at.reset(t.view,t.data):n?at.reset("Account"):at.reset("Connect"),dr.open=!0,si.set({open:!0}),Mt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(t=!1){if(t||at.state.view!=="ApproveTransaction"){const e=ue.state.enableEmbedded,n=!!B.state.activeCaipAddress;dr.open&&Mt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),dr.open=!1,Jt.clearLoading(),e?n?at.replace("Account"):at.push("Connect"):si.set({open:!1})}Me.resetUri()},setLoading(t,e){e&&dr.loadingNamespaceMap.set(e,t),dr.loading=t,si.set({loading:t})},clearLoading(){dr.loadingNamespaceMap.clear(),dr.loading=!1},shake(){dr.shake||(dr.shake=!0,setTimeout(()=>{dr.shake=!1},500))}},Jt=ls(VZ),IT=2147483648,GZ={convertEVMChainIdToCoinType(t){if(t>=IT)throw new Error("Invalid chainId");return(IT|t)>>>0}},ts=jt({suggestions:[],loading:!1}),WZ={state:ts,subscribe(t){return Gn(ts,()=>t(ts))},subscribeKey(t,e){return Kn(ts,t,e)},async resolveName(t){var e,n;try{return await Be.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Be.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ts.loading=!0,ts.suggestions=[];const e=await Be.getEnsNameSuggestions(t);return ts.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ts.suggestions}catch(e){const n=hh.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ts.loading=!1}},async getNamesForAddress(t){try{if(!B.state.activeCaipNetwork)return[];const n=we.getEnsFromCacheForAddress(t);if(n)return n;const r=await Be.reverseLookupEnsName({address:t});return we.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=hh.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=B.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Ne.state.address,r=Ee.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ts.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});at.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ts.loading=!1}});const a=await Me.signMessage(s),c=e.id;if(!c)throw new Error("Network not found");const u=GZ.convertEVMChainIdToCoinType(Number(c));await Be.registerEnsName({coinType:u,address:n,signature:a,message:s}),Ne.setProfileName(t,e.chainNamespace),at.replace("RegisterAccountNameSuccess")}catch(s){const a=hh.parseEnsApiError(s,`Error registering name ${t}`);throw at.replace("RegisterAccountName"),new Error(a)}finally{ts.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},hh=ls(WZ);var xw={exports:{}},Ow={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function KZ(){if(RT)return Ow;RT=1;var t=Sm();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(m,y){var w=y(),E=r({inst:{value:w,getSnapshot:y}}),v=E[0].inst,_=E[1];return a(function(){v.value=w,v.getSnapshot=y,d(v)&&_({inst:v})},[m,w,y]),s(function(){return d(v)&&_({inst:v}),m(function(){d(v)&&_({inst:v})})},[m]),c(w),w}function d(m){var y=m.getSnapshot;m=m.value;try{var w=y();return!n(m,w)}catch{return!0}}function h(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Ow.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Ow}var PT;function YZ(){return PT||(PT=1,xw.exports=KZ()),xw.exports}var ZZ=YZ();const QZ=mu(ZZ),XZ={},{use:DT}=Wa,{useSyncExternalStore:JZ}=QZ,eQ=(t,e)=>{const n=it.useRef();it.useEffect(()=>{n.current=M5(t,e)}),it.useDebugValue(n.current)},tQ=new WeakMap;function nQ(t,e){const r=it.useRef(),s=it.useRef();let a=!0;const c=JZ(it.useCallback(h=>{const p=Gn(t,h);return h(),p},[t,void 0]),()=>{const h=ac(t,DT);try{if(!a&&r.current&&s.current&&!Px(r.current,h,s.current,new WeakMap))return r.current}catch{}return h},()=>ac(t,DT));a=!1;const u=new WeakMap;it.useEffect(()=>{r.current=c,s.current=u}),(XZ?"production":void 0)!=="production"&&eQ(c,u);const d=it.useMemo(()=>new WeakMap,[]);return Rx(c,u,d,tQ)}function rQ(t){var c,u;const e=nQ(B.state),n=e.activeChain;if(!n)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=(c=e.chains.get(n))==null?void 0:c.accountState,s=Ee.getAuthConnector(n),a=we.getConnectedConnectorId(n);return{allAccounts:(r==null?void 0:r.allAccounts)||[],caipAddress:r==null?void 0:r.caipAddress,address:De.getPlainAddress(r==null?void 0:r.caipAddress),isConnected:!!(r!=null&&r.caipAddress),status:r==null?void 0:r.status,embeddedWalletInfo:s&&a===fe.CONNECTOR_ID.AUTH?{user:r!=null&&r.user?{...r.user,username:we.getConnectedSocialUsername()}:void 0,authProvider:(r==null?void 0:r.socialProvider)||"email",accountType:(u=r==null?void 0:r.preferredAccountTypes)==null?void 0:u[n],isSmartAccountDeployed:!!(r!=null&&r.smartAccountDeployed)}:void 0}}const kt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ga={ConnectorExplorerIds:{[fe.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[fe.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[fe.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[fe.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[fe.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[kt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[kt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[kt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[kt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[kt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[kt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[kt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[kt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[kt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[kt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[kt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[fe.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[fe.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[fe.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[fe.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[fe.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[fe.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[fe.CONNECTOR_ID.INJECTED]:"Browser Wallet",[fe.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[fe.CONNECTOR_ID.COINBASE]:"Coinbase",[fe.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[fe.CONNECTOR_ID.LEDGER]:"Ledger",[fe.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[fe.CONNECTOR_ID.INJECTED]:"INJECTED",[fe.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[fe.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[fe.CONNECTOR_ID.AUTH]:"AUTH"}},ny={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${kt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},sQ=new AbortController,_n={EmbeddedWalletAbortController:sQ,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${iQ()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function iQ(){return typeof window<"u"}const aQ={createLogger(t,e="error"){const n=wu({level:e}),{logger:r}=fE({opts:n});return r.error=(...s)=>{for(const a of s)if(a instanceof Error){t(a,...s);return}t(void 0,...s)},r}},oQ="rpc.walletconnect.org";function $T(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const Iw=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ni={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===oQ}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:fe.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${fe.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,a,c;const r=(c=(a=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null?void 0:c[0];return Iw.includes(e)?$T(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var y,w,E,v,_;const s=this.getChainNamespace(t),a=this.getCaipNetworkId(t),c=(y=t.rpcUrls.default.http)==null?void 0:y[0],u=this.getDefaultRpcUrl(t,a,n),d=((v=(E=(w=t==null?void 0:t.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:E.http)==null?void 0:v[0])||c,h=((_=r==null?void 0:r[a])==null?void 0:_.map(S=>S.url))||[],p=[...h,u],m=[...h];return d&&!m.includes(d)&&m.push(d),{...t,chainNamespace:s,caipNetworkId:a,assets:{imageId:Ga.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:m}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>ni.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,a,c;const r=[];return n==null||n.forEach(u=>{r.push(wg(u.url,u.config))}),Iw.includes(t.caipNetworkId)&&r.push(wg($T(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(c=(a=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null||c.forEach(u=>{r.push(wg(u))}),NT(r)},extendWagmiTransports(t,e,n){if(Iw.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return NT([n,wg(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:fe.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var d;const e=we.getActiveCaipNetworkId(),n=B.getAllRequestedCaipNetworks(),r=Array.from(((d=B.state.chains)==null?void 0:d.keys())||[]),s=e==null?void 0:e.split(":")[0],a=s?r.includes(s):!1,c=n==null?void 0:n.find(h=>h.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||t||(n==null?void 0:n[0])}},cm={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},hr=jt({providers:{...cm},providerIds:{...cm}}),At={state:hr,subscribeKey(t,e){return Kn(hr,t,e)},subscribe(t){return Gn(hr,()=>{t(hr)})},subscribeProviders(t){return Gn(hr.providers,()=>t(hr.providers))},setProvider(t,e){e&&(hr.providers[t]=oc(e))},getProvider(t){return hr.providers[t]},setProviderId(t,e){e&&(hr.providerIds[t]=e)},getProviderId(t){if(t)return hr.providerIds[t]},reset(){hr.providers={...cm},hr.providerIds={...cm}},resetChain(t){hr.providers[t]=void 0,hr.providerIds[t]=void 0}},UT={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},$n={set(t,e){kr.isClient&&localStorage.setItem(`${Se.STORAGE_KEY}${t}`,e)},get(t){return kr.isClient?localStorage.getItem(`${Se.STORAGE_KEY}${t}`):null},delete(t,e){kr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Se.STORAGE_KEY}${t}`))}},Eg=30*1e3,kr={checkIfAllowedToTriggerEmail(){const t=$n.get(Se.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Eg){const n=Math.ceil((Eg-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=$n.get(Se.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Eg)return Math.ceil((Eg-e)/1e3)}return 0},checkIfRequestExists(t){return kn.NOT_SAFE_RPC_METHODS.includes(t.method)||kn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(UT.transactionHash))||(t==null?void 0:t.match(UT.signedMessage)))?Se.RPC_RESPONSE_TYPE_TX:Se.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return kn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var pt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const c of s)a[c]=c;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of a)c[u]=s[u];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.push(c);return a},t.find=(s,a)=>{for(const c of s)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(pt||(pt={}));var Jv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Jv||(Jv={}));const ve=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ma=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},pe=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ps extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let u=r,d=0;for(;d<c.path.length;){const h=c.path[d];d===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(n(c))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ps.create=t=>new Ps(t);const Kh=(t,e)=>{let n;switch(t.code){case pe.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case pe.invalid_union:n="Invalid input";break;case pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case pe.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case pe.invalid_arguments:n="Invalid function arguments";break;case pe.invalid_return_type:n="Invalid function return type";break;case pe.invalid_date:n="Invalid date";break;case pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case pe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case pe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case pe.custom:n="Invalid input";break;case pe.invalid_intersection_types:n="Intersection results could not be merged";break;case pe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case pe.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let N3=Kh;function lQ(t){N3=t}function lm(){return N3}const um=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],c={...s,path:a};let u="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)u=h(c,{data:e,defaultError:u}).message;return{...s,path:a,message:s.message||u}},uQ=[];function Ae(t,e){const n=um({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,lm(),Kh].filter(r=>!!r)});t.common.issues.push(n)}class Wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Wn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:c}=s;if(a.status==="aborted"||c.status==="aborted")return Fe;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[a.value]=c.value)}return{status:e.value,value:r}}}const Fe=Object.freeze({status:"aborted"}),T3=t=>({status:"dirty",value:t}),sr=t=>({status:"valid",value:t}),eE=t=>t.status==="aborted",tE=t=>t.status==="dirty",Yh=t=>t.status==="valid",dm=t=>typeof Promise<"u"&&t instanceof Promise;var Pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Pe||(Pe={}));class li{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kT=(t,e)=>{if(Yh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ps(t.common.issues);return this._error=n,this._error}}};function We(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>c.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:r??u.defaultError}:{message:n??u.defaultError},description:s}}class Qe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ma(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ma(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wn,ctx:{common:e.parent.common,data:e.data,parsedType:Ma(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ma(e)},a=this._parseSync({data:e,path:s.path,parent:s});return kT(s,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ma(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(dm(s)?s:Promise.resolve(s));return kT(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const c=e(s),u=()=>a.addIssue({code:pe.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new $s({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ki.create(this,this._def)}nullable(){return wc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ds.create(this,this._def)}promise(){return fu.create(this,this._def)}or(e){return Jh.create([this,e],this._def)}and(e){return ef.create(this,e,this._def)}transform(e){return new $s({...We(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new af({...We(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new O3({typeName:je.ZodBranded,type:this,...We(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new gm({...We(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Df.create(this,e)}readonly(){return ym.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dQ=/^c[^\s-]{8,}$/i,hQ=/^[a-z][a-z0-9]*$/,fQ=/^[0-9A-HJKMNP-TV-Z]{26}$/,pQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rw;const yQ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,bQ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wQ=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function vQ(t,e){return!!((e==="v4"||!e)&&yQ.test(t)||(e==="v6"||!e)&&bQ.test(t))}class Rs extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.string,received:a.parsedType}),Fe}const r=new Wn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,u=e.data.length<a.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?Ae(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Ae(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")gQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"email",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Rw||(Rw=new RegExp(mQ,"u")),Rw.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")pQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")dQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")hQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")fQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ae(s,{validation:"url",code:pe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"regex",code:pe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?wQ(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?vQ(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ip",code:pe.invalid_string,message:a.message}),r.dirty()):pt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:pe.invalid_string,...Pe.errToObj(r)})}_addCheck(e){return new Rs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Pe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Pe.errToObj(n)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new Rs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rs.create=t=>{var e;return new Rs({checks:[],typeName:je.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...We(t)})};function EQ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return a%c/Math.pow(10,s)}class ro extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.number,received:a.parsedType}),Fe}let r;const s=new Wn;for(const a of this._def.checks)a.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?EQ(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_finite,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,s){return new ro({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(s)}]})}_addCheck(e){return new ro({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ro.create=t=>new ro({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...We(t)});class so extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ve.bigint){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.bigint,received:a.parsedType}),Fe}let r;const s=new Wn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,s){return new so({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(s)}]})}_addCheck(e){return new so({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}so.create=t=>{var e;return new so({checks:[],typeName:je.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...We(t)})};class Zh extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.boolean,received:r.parsedType}),Fe}return sr(e.data)}}Zh.create=t=>new Zh({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...We(t)});class yc extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.date,received:a.parsedType}),Fe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_date}),Fe}const r=new Wn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):pt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yc.create=t=>new yc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...We(t)});class hm extends Qe{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.symbol,received:r.parsedType}),Fe}return sr(e.data)}}hm.create=t=>new hm({typeName:je.ZodSymbol,...We(t)});class Qh extends Qe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.undefined,received:r.parsedType}),Fe}return sr(e.data)}}Qh.create=t=>new Qh({typeName:je.ZodUndefined,...We(t)});class Xh extends Qe{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.null,received:r.parsedType}),Fe}return sr(e.data)}}Xh.create=t=>new Xh({typeName:je.ZodNull,...We(t)});class hu extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return sr(e.data)}}hu.create=t=>new hu({typeName:je.ZodAny,...We(t)});class rc extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return sr(e.data)}}rc.create=t=>new rc({typeName:je.ZodUnknown,...We(t)});class Zi extends Qe{_parse(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:ve.never,received:n.parsedType}),Fe}}Zi.create=t=>new Zi({typeName:je.ZodNever,...We(t)});class fm extends Qe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.void,received:r.parsedType}),Fe}return sr(e.data)}}fm.create=t=>new fm({typeName:je.ZodVoid,...We(t)});class Ds extends Qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return Ae(n,{code:pe.invalid_type,expected:ve.array,received:n.parsedType}),Fe;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(c||u)&&(Ae(n,{code:c?pe.too_big:pe.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ae(n,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ae(n,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>s.type._parseAsync(new li(n,c,n.path,u)))).then(c=>Wn.mergeArray(r,c));const a=[...n.data].map((c,u)=>s.type._parseSync(new li(n,c,n.path,u)));return Wn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ds({...this._def,minLength:{value:e,message:Pe.toString(n)}})}max(e,n){return new Ds({...this._def,maxLength:{value:e,message:Pe.toString(n)}})}length(e,n){return new Ds({...this._def,exactLength:{value:e,message:Pe.toString(n)}})}nonempty(e){return this.min(1,e)}}Ds.create=(t,e)=>new Ds({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...We(e)});function Ul(t){if(t instanceof Ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ki.create(Ul(r))}return new Ft({...t._def,shape:()=>e})}else return t instanceof Ds?new Ds({...t._def,type:Ul(t.element)}):t instanceof Ki?Ki.create(Ul(t.unwrap())):t instanceof wc?wc.create(Ul(t.unwrap())):t instanceof ui?ui.create(t.items.map(e=>Ul(e))):t}class Ft extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const h=this._getOrReturnCtx(e);return Ae(h,{code:pe.invalid_type,expected:ve.object,received:h.parsedType}),Fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Zi&&this._def.unknownKeys==="strip"))for(const h in s.data)c.includes(h)||u.push(h);const d=[];for(const h of c){const p=a[h],m=s.data[h];d.push({key:{status:"valid",value:h},value:p._parse(new li(s,m,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Zi){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of u)d.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(h==="strict")u.length>0&&(Ae(s,{code:pe.unrecognized_keys,keys:u}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of u){const m=s.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new li(s,m,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of d){const m=await p.key;h.push({key:m,value:await p.value,alwaysSet:p.alwaysSet})}return h}).then(h=>Wn.mergeObjectSync(r,h)):Wn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,c,u;const d=(c=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Pe.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return Ul(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ft({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ki;)a=a._def.innerType;n[r]=a}}),new Ft({...this._def,shape:()=>n})}keyof(){return x3(pt.objectKeys(this.shape))}}Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:Zi.create(),typeName:je.ZodObject,...We(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:Zi.create(),typeName:je.ZodObject,...We(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:Zi.create(),typeName:je.ZodObject,...We(e)});class Jh extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new Ps(u.ctx.common.issues));return Ae(n,{code:pe.invalid_union,unionErrors:c}),Fe}if(n.common.async)return Promise.all(r.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},p=d._parseSync({data:n.data,path:n.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(d=>new Ps(d));return Ae(n,{code:pe.invalid_union,unionErrors:u}),Fe}}get options(){return this._def.options}}Jh.create=(t,e)=>new Jh({options:t,typeName:je.ZodUnion,...We(e)});const Ug=t=>t instanceof nf?Ug(t.schema):t instanceof $s?Ug(t.innerType()):t instanceof rf?[t.value]:t instanceof io?t.options:t instanceof sf?Object.keys(t.enum):t instanceof af?Ug(t._def.innerType):t instanceof Qh?[void 0]:t instanceof Xh?[null]:null;class ry extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return Ae(n,{code:pe.invalid_type,expected:ve.object,received:n.parsedType}),Fe;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ae(n,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const c=Ug(a.shape[e]);if(!c)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new ry({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...We(r)})}}function nE(t,e){const n=Ma(t),r=Ma(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=pt.objectKeys(e),a=pt.objectKeys(t).filter(u=>s.indexOf(u)!==-1),c={...t,...e};for(const u of a){const d=nE(t[u],e[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const c=t[a],u=e[a],d=nE(c,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ef extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,c)=>{if(eE(a)||eE(c))return Fe;const u=nE(a.value,c.value);return u.valid?((tE(a)||tE(c))&&n.dirty(),{status:n.value,value:u.data}):(Ae(r,{code:pe.invalid_intersection_types}),Fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ef.create=(t,e,n)=>new ef({left:t,right:e,typeName:je.ZodIntersection,...We(n)});class ui extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return Ae(r,{code:pe.invalid_type,expected:ve.array,received:r.parsedType}),Fe;if(r.data.length<this._def.items.length)return Ae(r,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new li(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(a).then(c=>Wn.mergeArray(n,c)):Wn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new ui({...this._def,rest:e})}}ui.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ui({items:t,typeName:je.ZodTuple,rest:null,...We(e)})};class tf extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return Ae(r,{code:pe.invalid_type,expected:ve.object,received:r.parsedType}),Fe;const s=[],a=this._def.keyType,c=this._def.valueType;for(const u in r.data)s.push({key:a._parse(new li(r,u,r.path,u)),value:c._parse(new li(r,r.data[u],r.path,u))});return r.common.async?Wn.mergeObjectAsync(n,s):Wn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Qe?new tf({keyType:e,valueType:n,typeName:je.ZodRecord,...We(r)}):new tf({keyType:Rs.create(),valueType:e,typeName:je.ZodRecord,...We(n)})}}class pm extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return Ae(r,{code:pe.invalid_type,expected:ve.map,received:r.parsedType}),Fe;const s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([u,d],h)=>({key:s._parse(new li(r,u,r.path,[h,"key"])),value:a._parse(new li(r,d,r.path,[h,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const h=await d.key,p=await d.value;if(h.status==="aborted"||p.status==="aborted")return Fe;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(h.value,p.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of c){const h=d.key,p=d.value;if(h.status==="aborted"||p.status==="aborted")return Fe;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(h.value,p.value)}return{status:n.value,value:u}}}}pm.create=(t,e,n)=>new pm({valueType:e,keyType:t,typeName:je.ZodMap,...We(n)});class bc extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return Ae(r,{code:pe.invalid_type,expected:ve.set,received:r.parsedType}),Fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ae(r,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ae(r,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function c(d){const h=new Set;for(const p of d){if(p.status==="aborted")return Fe;p.status==="dirty"&&n.dirty(),h.add(p.value)}return{status:n.value,value:h}}const u=[...r.data.values()].map((d,h)=>a._parse(new li(r,d,r.path,h)));return r.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(e,n){return new bc({...this._def,minSize:{value:e,message:Pe.toString(n)}})}max(e,n){return new bc({...this._def,maxSize:{value:e,message:Pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bc.create=(t,e)=>new bc({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...We(e)});class zl extends Qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return Ae(n,{code:pe.invalid_type,expected:ve.function,received:n.parsedType}),Fe;function r(u,d){return um({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lm(),Kh].filter(h=>!!h),issueData:{code:pe.invalid_arguments,argumentsError:d}})}function s(u,d){return um({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lm(),Kh].filter(h=>!!h),issueData:{code:pe.invalid_return_type,returnTypeError:d}})}const a={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof fu){const u=this;return sr(async function(...d){const h=new Ps([]),p=await u._def.args.parseAsync(d,a).catch(w=>{throw h.addIssue(r(d,w)),h}),m=await Reflect.apply(c,this,p);return await u._def.returns._def.type.parseAsync(m,a).catch(w=>{throw h.addIssue(s(m,w)),h})})}else{const u=this;return sr(function(...d){const h=u._def.args.safeParse(d,a);if(!h.success)throw new Ps([r(d,h.error)]);const p=Reflect.apply(c,this,h.data),m=u._def.returns.safeParse(p,a);if(!m.success)throw new Ps([s(p,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zl({...this._def,args:ui.create(e).rest(rc.create())})}returns(e){return new zl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zl({args:e||ui.create([]).rest(rc.create()),returns:n||rc.create(),typeName:je.ZodFunction,...We(r)})}}class nf extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nf.create=(t,e)=>new nf({getter:t,typeName:je.ZodLazy,...We(e)});class rf extends Qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ae(n,{received:n.data,code:pe.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}rf.create=(t,e)=>new rf({value:t,typeName:je.ZodLiteral,...We(e)});function x3(t,e){return new io({values:t,typeName:je.ZodEnum,...We(e)})}class io extends Qe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{expected:pt.joinValues(r),received:n.parsedType,code:pe.invalid_type}),Fe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{received:n.data,code:pe.invalid_enum_value,options:r}),Fe}return sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return io.create(e)}exclude(e){return io.create(this.options.filter(n=>!e.includes(n)))}}io.create=x3;class sf extends Qe{_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=pt.objectValues(n);return Ae(r,{expected:pt.joinValues(s),received:r.parsedType,code:pe.invalid_type}),Fe}if(n.indexOf(e.data)===-1){const s=pt.objectValues(n);return Ae(r,{received:r.data,code:pe.invalid_enum_value,options:s}),Fe}return sr(e.data)}get enum(){return this._def.values}}sf.create=(t,e)=>new sf({values:t,typeName:je.ZodNativeEnum,...We(e)});class fu extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return Ae(n,{code:pe.invalid_type,expected:ve.promise,received:n.parsedType}),Fe;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return sr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fu.create=(t,e)=>new fu({type:t,typeName:je.ZodPromise,...We(e)});class $s extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:c=>{Ae(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(c).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:c,path:r.path,parent:r})}if(s.type==="refinement"){const c=u=>{const d=s.refinement(u,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yh(c))return c;const u=s.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>Yh(c)?Promise.resolve(s.transform(c.value,a)).then(u=>({status:n.value,value:u})):c);pt.assertNever(s)}}$s.create=(t,e,n)=>new $s({schema:t,typeName:je.ZodEffects,effect:e,...We(n)});$s.createWithPreprocess=(t,e,n)=>new $s({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...We(n)});class Ki extends Qe{_parse(e){return this._getType(e)===ve.undefined?sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ki.create=(t,e)=>new Ki({innerType:t,typeName:je.ZodOptional,...We(e)});class wc extends Qe{_parse(e){return this._getType(e)===ve.null?sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wc.create=(t,e)=>new wc({innerType:t,typeName:je.ZodNullable,...We(e)});class af extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}af.create=(t,e)=>new af({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});class gm extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ps(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ps(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}gm.create=(t,e)=>new gm({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});class mm extends Qe{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.nan,received:r.parsedType}),Fe}return{status:"valid",value:e.data}}}mm.create=t=>new mm({typeName:je.ZodNaN,...We(t)});const _Q=Symbol("zod_brand");class O3 extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Df extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Fe:a.status==="dirty"?(n.dirty(),T3(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Df({in:e,out:n,typeName:je.ZodPipeline})}}class ym extends Qe{_parse(e){const n=this._def.innerType._parse(e);return Yh(n)&&(n.value=Object.freeze(n.value)),n}}ym.create=(t,e)=>new ym({innerType:t,typeName:je.ZodReadonly,...We(e)});const I3=(t,e={},n)=>t?hu.create().superRefine((r,s)=>{var a,c;if(!t(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(c=(a=u.fatal)!==null&&a!==void 0?a:n)!==null&&c!==void 0?c:!0,h=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...h,fatal:d})}}):hu.create(),CQ={object:Ft.lazycreate};var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const AQ=(t,e={message:`Input not instance of ${t.name}`})=>I3(n=>n instanceof t,e),R3=Rs.create,P3=ro.create,SQ=mm.create,NQ=so.create,D3=Zh.create,TQ=yc.create,xQ=hm.create,OQ=Qh.create,IQ=Xh.create,RQ=hu.create,PQ=rc.create,DQ=Zi.create,$Q=fm.create,UQ=Ds.create,kQ=Ft.create,MQ=Ft.strictCreate,jQ=Jh.create,BQ=ry.create,LQ=ef.create,zQ=ui.create,FQ=tf.create,qQ=pm.create,HQ=bc.create,VQ=zl.create,GQ=nf.create,WQ=rf.create,KQ=io.create,YQ=sf.create,ZQ=fu.create,MT=$s.create,QQ=Ki.create,XQ=wc.create,JQ=$s.createWithPreprocess,eX=Df.create,tX=()=>R3().optional(),nX=()=>P3().optional(),rX=()=>D3().optional(),sX={string:t=>Rs.create({...t,coerce:!0}),number:t=>ro.create({...t,coerce:!0}),boolean:t=>Zh.create({...t,coerce:!0}),bigint:t=>so.create({...t,coerce:!0}),date:t=>yc.create({...t,coerce:!0})},iX=Fe;var U=Object.freeze({__proto__:null,defaultErrorMap:Kh,setErrorMap:lQ,getErrorMap:lm,makeIssue:um,EMPTY_PATH:uQ,addIssueToContext:Ae,ParseStatus:Wn,INVALID:Fe,DIRTY:T3,OK:sr,isAborted:eE,isDirty:tE,isValid:Yh,isAsync:dm,get util(){return pt},get objectUtil(){return Jv},ZodParsedType:ve,getParsedType:Ma,ZodType:Qe,ZodString:Rs,ZodNumber:ro,ZodBigInt:so,ZodBoolean:Zh,ZodDate:yc,ZodSymbol:hm,ZodUndefined:Qh,ZodNull:Xh,ZodAny:hu,ZodUnknown:rc,ZodNever:Zi,ZodVoid:fm,ZodArray:Ds,ZodObject:Ft,ZodUnion:Jh,ZodDiscriminatedUnion:ry,ZodIntersection:ef,ZodTuple:ui,ZodRecord:tf,ZodMap:pm,ZodSet:bc,ZodFunction:zl,ZodLazy:nf,ZodLiteral:rf,ZodEnum:io,ZodNativeEnum:sf,ZodPromise:fu,ZodEffects:$s,ZodTransformer:$s,ZodOptional:Ki,ZodNullable:wc,ZodDefault:af,ZodCatch:gm,ZodNaN:mm,BRAND:_Q,ZodBranded:O3,ZodPipeline:Df,ZodReadonly:ym,custom:I3,Schema:Qe,ZodSchema:Qe,late:CQ,get ZodFirstPartyTypeKind(){return je},coerce:sX,any:RQ,array:UQ,bigint:NQ,boolean:D3,date:TQ,discriminatedUnion:BQ,effect:MT,enum:KQ,function:VQ,instanceof:AQ,intersection:LQ,lazy:GQ,literal:WQ,map:qQ,nan:SQ,nativeEnum:YQ,never:DQ,null:IQ,nullable:XQ,number:P3,object:kQ,oboolean:rX,onumber:nX,optional:QQ,ostring:tX,pipeline:eX,preprocess:JQ,promise:ZQ,record:FQ,set:HQ,strictObject:MQ,string:R3,symbol:xQ,transformer:MT,tuple:zQ,undefined:OQ,union:jQ,unknown:PQ,void:$Q,NEVER:iX,ZodIssueCode:pe,quotelessJson:cQ,ZodError:Ps});const Gt=U.object({message:U.string()});function _e(t){return U.literal(Se[t])}U.object({accessList:U.array(U.string()),blockHash:U.string().nullable(),blockNumber:U.string().nullable(),chainId:U.string().or(U.number()),from:U.string(),gas:U.string(),hash:U.string(),input:U.string().nullable(),maxFeePerGas:U.string(),maxPriorityFeePerGas:U.string(),nonce:U.string(),r:U.string(),s:U.string(),to:U.string(),transactionIndex:U.string().nullable(),type:U.string(),v:U.string(),value:U.string()});const aX=U.object({chainId:U.string().or(U.number())}),oX=U.object({email:U.string().email()}),cX=U.object({otp:U.string()}),lX=U.object({uri:U.string(),preferredAccountType:U.optional(U.string())}),uX=U.object({chainId:U.optional(U.string().or(U.number())),preferredAccountType:U.optional(U.string()),socialUri:U.optional(U.string())}),dX=U.object({provider:U.enum(["google","github","apple","facebook","x","discord"])}),hX=U.object({email:U.string().email()}),fX=U.object({otp:U.string()}),pX=U.object({otp:U.string()}),gX=U.object({themeMode:U.optional(U.enum(["light","dark"])),themeVariables:U.optional(U.record(U.string(),U.string().or(U.number()))),w3mThemeVariables:U.optional(U.record(U.string(),U.string()))}),mX=U.object({metadata:U.object({name:U.string(),description:U.string(),url:U.string(),icons:U.array(U.string())}).optional(),sdkVersion:U.string().optional(),sdkType:U.string().optional(),projectId:U.string()}),yX=U.object({type:U.string()}),bX=U.object({action:U.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),wX=U.object({url:U.string()}),vX=U.object({userName:U.string()}),EX=U.object({email:U.string().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),accounts:U.array(U.object({address:U.string(),type:U.enum([kn.ACCOUNT_TYPES.EOA,kn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:U.string().optional().nullable(),preferredAccountType:U.optional(U.string())}),_X=U.object({action:U.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),CX=U.object({email:U.string().email().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),smartAccountDeployed:U.optional(U.boolean()),accounts:U.array(U.object({address:U.string(),type:U.enum([kn.ACCOUNT_TYPES.EOA,kn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:U.optional(U.string())}),AX=U.object({uri:U.string()}),SX=U.object({isConnected:U.boolean()}),NX=U.object({chainId:U.string().or(U.number())}),TX=U.object({chainId:U.string().or(U.number())}),xX=U.object({newEmail:U.string().email()}),OX=U.object({smartAccountEnabledNetworks:U.array(U.number())});U.object({address:U.string(),isDeployed:U.boolean()});const IX=U.object({version:U.string().optional()}),RX=U.object({type:U.string(),address:U.string()}),PX=U.any(),DX=U.object({method:U.literal("eth_accounts")}),$X=U.object({method:U.literal("eth_blockNumber")}),UX=U.object({method:U.literal("eth_call"),params:U.array(U.any())}),kX=U.object({method:U.literal("eth_chainId")}),MX=U.object({method:U.literal("eth_estimateGas"),params:U.array(U.any())}),jX=U.object({method:U.literal("eth_feeHistory"),params:U.array(U.any())}),BX=U.object({method:U.literal("eth_gasPrice")}),LX=U.object({method:U.literal("eth_getAccount"),params:U.array(U.any())}),zX=U.object({method:U.literal("eth_getBalance"),params:U.array(U.any())}),FX=U.object({method:U.literal("eth_getBlockByHash"),params:U.array(U.any())}),qX=U.object({method:U.literal("eth_getBlockByNumber"),params:U.array(U.any())}),HX=U.object({method:U.literal("eth_getBlockReceipts"),params:U.array(U.any())}),VX=U.object({method:U.literal("eth_getBlockTransactionCountByHash"),params:U.array(U.any())}),GX=U.object({method:U.literal("eth_getBlockTransactionCountByNumber"),params:U.array(U.any())}),WX=U.object({method:U.literal("eth_getCode"),params:U.array(U.any())}),KX=U.object({method:U.literal("eth_getFilterChanges"),params:U.array(U.any())}),YX=U.object({method:U.literal("eth_getFilterLogs"),params:U.array(U.any())}),ZX=U.object({method:U.literal("eth_getLogs"),params:U.array(U.any())}),QX=U.object({method:U.literal("eth_getProof"),params:U.array(U.any())}),XX=U.object({method:U.literal("eth_getStorageAt"),params:U.array(U.any())}),JX=U.object({method:U.literal("eth_getTransactionByBlockHashAndIndex"),params:U.array(U.any())}),eJ=U.object({method:U.literal("eth_getTransactionByBlockNumberAndIndex"),params:U.array(U.any())}),tJ=U.object({method:U.literal("eth_getTransactionByHash"),params:U.array(U.any())}),nJ=U.object({method:U.literal("eth_getTransactionCount"),params:U.array(U.any())}),rJ=U.object({method:U.literal("eth_getTransactionReceipt"),params:U.array(U.any())}),sJ=U.object({method:U.literal("eth_getUncleCountByBlockHash"),params:U.array(U.any())}),iJ=U.object({method:U.literal("eth_getUncleCountByBlockNumber"),params:U.array(U.any())}),aJ=U.object({method:U.literal("eth_maxPriorityFeePerGas")}),oJ=U.object({method:U.literal("eth_newBlockFilter")}),cJ=U.object({method:U.literal("eth_newFilter"),params:U.array(U.any())}),lJ=U.object({method:U.literal("eth_newPendingTransactionFilter")}),uJ=U.object({method:U.literal("eth_sendRawTransaction"),params:U.array(U.any())}),dJ=U.object({method:U.literal("eth_syncing"),params:U.array(U.any())}),hJ=U.object({method:U.literal("eth_uninstallFilter"),params:U.array(U.any())}),jT=U.object({method:U.literal("personal_sign"),params:U.array(U.any())}),fJ=U.object({method:U.literal("eth_signTypedData_v4"),params:U.array(U.any())}),pJ=U.object({method:U.literal("eth_sendTransaction"),params:U.array(U.any())}),gJ=U.object({method:U.literal("solana_signMessage"),params:U.object({message:U.string(),pubkey:U.string()})}),mJ=U.object({method:U.literal("solana_signTransaction"),params:U.object({transaction:U.string()})}),yJ=U.object({method:U.literal("solana_signAllTransactions"),params:U.object({transactions:U.array(U.string())})}),bJ=U.object({method:U.literal("solana_signAndSendTransaction"),params:U.object({transaction:U.string(),options:U.object({skipPreflight:U.boolean().optional(),preflightCommitment:U.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:U.number().optional(),minContextSlot:U.number().optional()}).optional()})}),wJ=U.object({method:U.literal("wallet_sendCalls"),params:U.array(U.object({chainId:U.string().or(U.number()).optional(),from:U.string().optional(),version:U.string().optional(),capabilities:U.any().optional(),calls:U.array(U.object({to:U.string().startsWith("0x"),data:U.string().startsWith("0x").optional(),value:U.string().optional()}))}))}),vJ=U.object({method:U.literal("wallet_getCallsStatus"),params:U.array(U.string())}),EJ=U.object({method:U.literal("wallet_getCapabilities")}),_J=U.object({method:U.literal("wallet_grantPermissions"),params:U.array(U.any())}),CJ=U.object({method:U.literal("wallet_revokePermissions"),params:U.any()}),AJ=U.object({method:U.literal("wallet_getAssets"),params:U.any()}),BT=U.object({token:U.string()}),Ce=U.object({id:U.string().optional()}),Wd={appEvent:Ce.extend({type:_e("APP_SWITCH_NETWORK"),payload:aX}).or(Ce.extend({type:_e("APP_CONNECT_EMAIL"),payload:oX})).or(Ce.extend({type:_e("APP_CONNECT_DEVICE")})).or(Ce.extend({type:_e("APP_CONNECT_OTP"),payload:cX})).or(Ce.extend({type:_e("APP_CONNECT_SOCIAL"),payload:lX})).or(Ce.extend({type:_e("APP_GET_FARCASTER_URI")})).or(Ce.extend({type:_e("APP_CONNECT_FARCASTER")})).or(Ce.extend({type:_e("APP_GET_USER"),payload:U.optional(uX)})).or(Ce.extend({type:_e("APP_GET_SOCIAL_REDIRECT_URI"),payload:dX})).or(Ce.extend({type:_e("APP_SIGN_OUT")})).or(Ce.extend({type:_e("APP_IS_CONNECTED"),payload:U.optional(BT)})).or(Ce.extend({type:_e("APP_GET_CHAIN_ID")})).or(Ce.extend({type:_e("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ce.extend({type:_e("APP_INIT_SMART_ACCOUNT")})).or(Ce.extend({type:_e("APP_SET_PREFERRED_ACCOUNT"),payload:yX})).or(Ce.extend({type:_e("APP_RPC_REQUEST"),payload:jT.or(AJ).or(DX).or($X).or(UX).or(kX).or(MX).or(jX).or(BX).or(LX).or(zX).or(FX).or(qX).or(HX).or(VX).or(GX).or(WX).or(KX).or(YX).or(ZX).or(QX).or(XX).or(JX).or(eJ).or(tJ).or(nJ).or(rJ).or(sJ).or(iJ).or(aJ).or(oJ).or(cJ).or(lJ).or(uJ).or(dJ).or(hJ).or(jT).or(fJ).or(pJ).or(gJ).or(mJ).or(yJ).or(bJ).or(vJ).or(wJ).or(EJ).or(_J).or(CJ)})).or(Ce.extend({type:_e("APP_UPDATE_EMAIL"),payload:hX})).or(Ce.extend({type:_e("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:fX})).or(Ce.extend({type:_e("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:pX})).or(Ce.extend({type:_e("APP_SYNC_THEME"),payload:gX})).or(Ce.extend({type:_e("APP_SYNC_DAPP_DATA"),payload:mX})).or(Ce.extend({type:_e("APP_RELOAD")})),frameEvent:Ce.extend({type:_e("FRAME_SWITCH_NETWORK_ERROR"),payload:Gt}).or(Ce.extend({type:_e("FRAME_SWITCH_NETWORK_SUCCESS"),payload:TX})).or(Ce.extend({type:_e("FRAME_CONNECT_EMAIL_SUCCESS"),payload:bX})).or(Ce.extend({type:_e("FRAME_CONNECT_EMAIL_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:wX})).or(Ce.extend({type:_e("FRAME_GET_FARCASTER_URI_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:vX})).or(Ce.extend({type:_e("FRAME_CONNECT_FARCASTER_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_CONNECT_OTP_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_CONNECT_OTP_SUCCESS")})).or(Ce.extend({type:_e("FRAME_CONNECT_DEVICE_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ce.extend({type:_e("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:EX})).or(Ce.extend({type:_e("FRAME_CONNECT_SOCIAL_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_GET_USER_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_GET_USER_SUCCESS"),payload:CX})).or(Ce.extend({type:_e("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:AX})).or(Ce.extend({type:_e("FRAME_SIGN_OUT_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_SIGN_OUT_SUCCESS")})).or(Ce.extend({type:_e("FRAME_IS_CONNECTED_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_IS_CONNECTED_SUCCESS"),payload:SX})).or(Ce.extend({type:_e("FRAME_GET_CHAIN_ID_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_GET_CHAIN_ID_SUCCESS"),payload:NX})).or(Ce.extend({type:_e("FRAME_RPC_REQUEST_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_RPC_REQUEST_SUCCESS"),payload:PX})).or(Ce.extend({type:_e("FRAME_SESSION_UPDATE"),payload:BT})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_SUCCESS"),payload:_X})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:xX})).or(Ce.extend({type:_e("FRAME_SYNC_THEME_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_SYNC_THEME_SUCCESS")})).or(Ce.extend({type:_e("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ce.extend({type:_e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:OX})).or(Ce.extend({type:_e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:RX})).or(Ce.extend({type:_e("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_READY"),payload:IX})).or(Ce.extend({type:_e("FRAME_RELOAD_ERROR"),payload:Gt})).or(Ce.extend({type:_e("FRAME_RELOAD_SUCCESS")}))};function Pw(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class SJ{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=fe.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function d({data:h}){if(!Pw(Se.FRAME_EVENT_KEY,h))return;const p=Wd.frameEvent.parse(h);p.id===a&&(c(p),window.removeEventListener("message",d))}kr.isClient&&(window.addEventListener("message",d),u.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:a=>{kr.isClient&&window.addEventListener("message",({data:c})=>{if(!Pw(Se.FRAME_EVENT_KEY,c))return;const u=Wd.frameEvent.parse(c);a(u)})},onAppEvent:a=>{kr.isClient&&window.addEventListener("message",({data:c})=>{if(!Pw(Se.APP_EVENT_KEY,c))return;const u=Wd.appEvent.parse(c);a(u)})},postAppEvent:a=>{var c;if(kr.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");Wd.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(kr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Wd.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),kr.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${gW}?projectId=${e}&chainId=${r}&version=${yW}&enableLogger=${s}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class NJ{constructor(e){var a;const n=wu({level:mW}),{logger:r,chunkLoggerController:s}=fE({opts:n});this.logger=Yn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var c;(c=this.chunkLoggerController)!=null&&c.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class TJ{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:a}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new NJ(e)),this.abortController=a,this.w3mFrame=new SJ({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!$n.get(Se.EMAIL_LOGIN_USED_KEY)}getEmail(){return $n.get(Se.EMAIL)}getUsername(){return $n.get(Se.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Se.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{kr.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Se.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Se.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Se.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Se.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Se.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Se.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Se.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Se.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Se.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Se.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Se.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Se.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Se.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Se.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1;e!=null&&e.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const a=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Se.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Se.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Se.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Se.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Se.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Se.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,a;try{if(kn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const c=await this.appEvent({type:Se.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,c,e),c}catch(c){throw(s=this.rpcErrorHandler)==null||s.call(this,c,e),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Se.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Se.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:kn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Se.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{kn.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(d){return d.replace("@w3m-app/","")}const a=[Se.APP_SYNC_DAPP_DATA,Se.APP_SYNC_THEME,Se.APP_SET_PREFERRED_ACCOUNT],c=s(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(r=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Se.APP_CONNECT_EMAIL,Se.APP_CONNECT_DEVICE,Se.APP_CONNECT_OTP,Se.APP_CONNECT_SOCIAL,Se.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(c)&&(n=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((d,h)=>{var w,E,v;const p=Math.random().toString(36).substring(7);(v=(w=this.w3mLogger)==null?void 0:(E=w.logger).info)==null||v.call(E,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const m=new AbortController;if(c==="RPC_REQUEST"){const _=e;this.openRpcRequests=[...this.openRpcRequests,{..._.payload,abortController:m}]}m.signal.addEventListener("abort",()=>{c==="RPC_REQUEST"?h(new Error("Request was aborted")):c!=="GET_FARCASTER_URI"&&h(new Error("Something went wrong"))});function y(_,S){var N,x,P;_.id===p&&((x=S==null?void 0:(N=S.logger).info)==null||x.call(N,{framEvent:_,id:p},"Received frame response"),_.type===`@w3m-frame/${c}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&d(_.payload),d(void 0)):_.type===`@w3m-frame/${c}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&h(new Error(((P=_.payload)==null?void 0:P.message)||"An error occurred")),h(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,_=>y(_,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){$n.set(Se.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){$n.set(Se.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&$n.set(Se.EMAIL,e),$n.set(Se.EMAIL_LOGIN_USED_KEY,"true"),$n.delete(Se.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){$n.delete(Se.EMAIL_LOGIN_USED_KEY),$n.delete(Se.EMAIL),$n.delete(Se.LAST_USED_CHAIN_KEY),$n.delete(Se.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&$n.set(Se.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=$n.get(Se.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){$n.set(Se.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class sc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a}){return sc.instance||(sc.instance=new TJ({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a})),sc.instance}}var LT={};const xJ={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof LT<"u"?LT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},rE={filterOutDuplicatesByRDNS(t){const e=ue.state.enableEIP6963?Ee.state.connectors:[],n=we.getRecentWallets(),r=e.map(u=>{var d;return(d=u.info)==null?void 0:d.rdns}).filter(Boolean),s=n.map(u=>u.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&De.isMobile()){const u=a.indexOf("io.metamask.mobile");a[u]="io.metamask"}return t.filter(u=>!a.includes(String(u==null?void 0:u.rdns)))},filterOutDuplicatesByIds(t){const e=Ee.state.connectors.filter(u=>u.type==="ANNOUNCED"||u.type==="INJECTED"),n=we.getRecentWallets(),r=e.map(u=>u.explorerId),s=n.map(u=>u.id),a=r.concat(s);return t.filter(u=>!a.includes(u==null?void 0:u.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ee.state,n=e.filter(a=>a.type==="ANNOUNCED").reduce((a,c)=>{var u;return(u=c.info)!=null&&u.rdns&&(a[c.info.rdns]=!0),a},{});return t.map(a=>({...a,installed:!!a.rdns&&!!n[a.rdns??""]})).sort((a,c)=>Number(c.installed)-Number(a.installed))},getConnectOrderMethod(t,e){var d;const n=(t==null?void 0:t.connectMethodsOrder)||((d=ue.state.features)==null?void 0:d.connectMethodsOrder),r=e||Ee.state.connectors;if(n)return n;const{injected:s,announced:a}=kg.getConnectorsByType(r,ke.state.recommended,ke.state.featured),c=s.filter(kg.showConnector),u=a.filter(kg.showConnector);return c.length||u.length?["wallet","email","social"]:xJ.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ke.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&ke.state.excludedWallets.some(r=>ny.isLowerCaseMatch(r.name,t.name));return e||n}},kg={getConnectorsByType(t,e,n){const{customWallets:r}=ue.state,s=we.getRecentWallets(),a=rE.filterOutDuplicateWallets(e),c=rE.filterOutDuplicateWallets(n),u=t.filter(m=>m.type==="MULTI_CHAIN"),d=t.filter(m=>m.type==="ANNOUNCED"),h=t.filter(m=>m.type==="INJECTED"),p=t.filter(m=>m.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:u,announced:d,injected:h,recommended:a,featured:c}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&ke.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),r=!!t.name&&ke.state.excludedWallets.some(a=>ny.isLowerCaseMatch(a.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!De.isMobile()||De.isMobile()&&!e&&!Me.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(B.state.chains.values()).some(n=>Ee.getConnectorId(n.namespace)===fe.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:a,multiChain:c,external:u,overriddenConnectors:d=(h=>(h=ue.state.features)==null?void 0:h.connectorTypeOrder)()??[]}){const p=kg.getIsConnectedWithWC(),w=[{type:"walletConnect",isEnabled:ue.state.enableWalletConnect&&!p},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:u.length>0},{type:"recommended",isEnabled:t.length>0}].filter(S=>S.isEnabled),E=new Set(w.map(S=>S.type)),v=d.filter(S=>E.has(S)).map(S=>({type:S,isEnabled:!0})),_=w.filter(({type:S})=>!v.some(({type:x})=>x===S));return Array.from(new Set([...v,..._].map(({type:S})=>S)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mg=globalThis,s1=Mg.ShadowRoot&&(Mg.ShadyCSS===void 0||Mg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i1=Symbol(),zT=new WeakMap;let $3=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==i1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(s1&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=zT.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&zT.set(n,e))}return e}toString(){return this.cssText}};const ns=t=>new $3(typeof t=="string"?t:t+"",void 0,i1),Fl=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,a)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[a+1],t[0]);return new $3(n,t,i1)},OJ=(t,e)=>{if(s1)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Mg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},FT=s1?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return ns(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:IJ,defineProperty:RJ,getOwnPropertyDescriptor:PJ,getOwnPropertyNames:DJ,getOwnPropertySymbols:$J,getPrototypeOf:UJ}=Object,Xa=globalThis,qT=Xa.trustedTypes,kJ=qT?qT.emptyScript:"",Dw=Xa.reactiveElementPolyfillSupport,fh=(t,e)=>t,sE={toAttribute(t,e){switch(e){case Boolean:t=t?kJ:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},U3=(t,e)=>!IJ(t,e),HT={attribute:!0,type:String,converter:sE,reflect:!1,useDefault:!1,hasChanged:U3};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Xa.litPropertyMetadata??(Xa.litPropertyMetadata=new WeakMap);let kl=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=HT){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&RJ(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:a}=PJ(this.prototype,e)??{get(){return this[n]},set(c){this[n]=c}};return{get:s,set(c){const u=s==null?void 0:s.call(this);a==null||a.call(this,c),this.requestUpdate(e,u,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??HT}static _$Ei(){if(this.hasOwnProperty(fh("elementProperties")))return;const e=UJ(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fh("properties"))){const n=this.properties,r=[...DJ(n),...$J(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(FT(s))}else e!==void 0&&n.push(FT(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return OJ(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var a;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const c=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:sE).toAttribute(n,r.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,n){var a,c;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const u=r.getPropertyOptions(s),d=typeof u.converter=="function"?{fromAttribute:u.converter}:((a=u.converter)==null?void 0:a.fromAttribute)!==void 0?u.converter:sE;this._$Em=s,this[s]=d.fromAttribute(n,u.type)??((c=this._$Ej)==null?void 0:c.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const a=this.constructor,c=this[e];if(r??(r=a.getPropertyOptions(e)),!((r.hasChanged??U3)(c,n)||r.useDefault&&r.reflect&&c===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:a},c){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,c??n??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,c]of this._$Ep)this[a]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[a,c]of s){const{wrapped:u}=c,d=this[a];u!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,c,d)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var a;return(a=s.hostUpdate)==null?void 0:a.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};kl.elementStyles=[],kl.shadowRootOptions={mode:"open"},kl[fh("elementProperties")]=new Map,kl[fh("finalized")]=new Map,Dw==null||Dw({ReactiveElement:kl}),(Xa.reactiveElementVersions??(Xa.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ph=globalThis,bm=ph.trustedTypes,VT=bm?bm.createPolicy("lit-html",{createHTML:t=>t}):void 0,k3="$lit$",ja=`lit$${Math.random().toFixed(9).slice(2)}$`,M3="?"+ja,MJ=`<${M3}>`,vc=document,of=()=>vc.createComment(""),cf=t=>t===null||typeof t!="object"&&typeof t!="function",a1=Array.isArray,jJ=t=>a1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",$w=`[ 	
\f\r]`,Kd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,GT=/-->/g,WT=/>/g,Mo=RegExp(`>|${$w}(?:([^\\s"'>=/]+)(${$w}*=${$w}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),KT=/'/g,YT=/"/g,j3=/^(?:script|style|textarea|title)$/i,B3=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),sre=B3(1),ire=B3(2),pu=Symbol.for("lit-noChange"),An=Symbol.for("lit-nothing"),ZT=new WeakMap,Zo=vc.createTreeWalker(vc,129);function L3(t,e){if(!a1(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return VT!==void 0?VT.createHTML(e):e}const BJ=(t,e)=>{const n=t.length-1,r=[];let s,a=e===2?"<svg>":e===3?"<math>":"",c=Kd;for(let u=0;u<n;u++){const d=t[u];let h,p,m=-1,y=0;for(;y<d.length&&(c.lastIndex=y,p=c.exec(d),p!==null);)y=c.lastIndex,c===Kd?p[1]==="!--"?c=GT:p[1]!==void 0?c=WT:p[2]!==void 0?(j3.test(p[2])&&(s=RegExp("</"+p[2],"g")),c=Mo):p[3]!==void 0&&(c=Mo):c===Mo?p[0]===">"?(c=s??Kd,m=-1):p[1]===void 0?m=-2:(m=c.lastIndex-p[2].length,h=p[1],c=p[3]===void 0?Mo:p[3]==='"'?YT:KT):c===YT||c===KT?c=Mo:c===GT||c===WT?c=Kd:(c=Mo,s=void 0);const w=c===Mo&&t[u+1].startsWith("/>")?" ":"";a+=c===Kd?d+MJ:m>=0?(r.push(h),d.slice(0,m)+k3+d.slice(m)+ja+w):d+ja+(m===-2?u:w)}return[L3(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class lf{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let a=0,c=0;const u=e.length-1,d=this.parts,[h,p]=BJ(e,n);if(this.el=lf.createElement(h,r),Zo.currentNode=this.el.content,n===2||n===3){const m=this.el.content.firstChild;m.replaceWith(...m.childNodes)}for(;(s=Zo.nextNode())!==null&&d.length<u;){if(s.nodeType===1){if(s.hasAttributes())for(const m of s.getAttributeNames())if(m.endsWith(k3)){const y=p[c++],w=s.getAttribute(m).split(ja),E=/([.?@])?(.*)/.exec(y);d.push({type:1,index:a,name:E[2],strings:w,ctor:E[1]==="."?zJ:E[1]==="?"?FJ:E[1]==="@"?qJ:sy}),s.removeAttribute(m)}else m.startsWith(ja)&&(d.push({type:6,index:a}),s.removeAttribute(m));if(j3.test(s.tagName)){const m=s.textContent.split(ja),y=m.length-1;if(y>0){s.textContent=bm?bm.emptyScript:"";for(let w=0;w<y;w++)s.append(m[w],of()),Zo.nextNode(),d.push({type:2,index:++a});s.append(m[y],of())}}}else if(s.nodeType===8)if(s.data===M3)d.push({type:2,index:a});else{let m=-1;for(;(m=s.data.indexOf(ja,m+1))!==-1;)d.push({type:7,index:a}),m+=ja.length-1}a++}}static createElement(e,n){const r=vc.createElement("template");return r.innerHTML=e,r}}function gu(t,e,n=t,r){var c,u;if(e===pu)return e;let s=r!==void 0?(c=n._$Co)==null?void 0:c[r]:n._$Cl;const a=cf(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((u=s==null?void 0:s._$AO)==null||u.call(s,!1),a===void 0?s=void 0:(s=new a(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=gu(t,s._$AS(t,e.values),s,r)),e}class LJ{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??vc).importNode(n,!0);Zo.currentNode=s;let a=Zo.nextNode(),c=0,u=0,d=r[0];for(;d!==void 0;){if(c===d.index){let h;d.type===2?h=new $f(a,a.nextSibling,this,e):d.type===1?h=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(h=new HJ(a,this,e)),this._$AV.push(h),d=r[++u]}c!==(d==null?void 0:d.index)&&(a=Zo.nextNode(),c++)}return Zo.currentNode=vc,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class $f{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=An,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=gu(this,e,n),cf(e)?e===An||e==null||e===""?(this._$AH!==An&&this._$AR(),this._$AH=An):e!==this._$AH&&e!==pu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):jJ(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==An&&cf(this._$AH)?this._$AA.nextSibling.data=e:this.T(vc.createTextNode(e)),this._$AH=e}$(e){var a;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=lf.createElement(L3(r.h,r.h[0]),this.options)),r);if(((a=this._$AH)==null?void 0:a._$AD)===s)this._$AH.p(n);else{const c=new LJ(s,this),u=c.u(this.options);c.p(n),this.T(u),this._$AH=c}}_$AC(e){let n=ZT.get(e.strings);return n===void 0&&ZT.set(e.strings,n=new lf(e)),n}k(e){a1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const a of e)s===n.length?n.push(r=new $f(this.O(of()),this.O(of()),this,this.options)):r=n[s],r._$AI(a),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class sy{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,a){this.type=1,this._$AH=An,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=An}_$AI(e,n=this,r,s){const a=this.strings;let c=!1;if(a===void 0)e=gu(this,e,n,0),c=!cf(e)||e!==this._$AH&&e!==pu,c&&(this._$AH=e);else{const u=e;let d,h;for(e=a[0],d=0;d<a.length-1;d++)h=gu(this,u[r+d],n,d),h===pu&&(h=this._$AH[d]),c||(c=!cf(h)||h!==this._$AH[d]),h===An?e=An:e!==An&&(e+=(h??"")+a[d+1]),this._$AH[d]=h}c&&!s&&this.j(e)}j(e){e===An?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class zJ extends sy{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===An?void 0:e}}class FJ extends sy{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==An)}}class qJ extends sy{constructor(e,n,r,s,a){super(e,n,r,s,a),this.type=5}_$AI(e,n=this){if((e=gu(this,e,n,0)??An)===pu)return;const r=this._$AH,s=e===An&&r!==An||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==An&&(r===An||s);s&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class HJ{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){gu(this,e)}}const Uw=ph.litHtmlPolyfillSupport;Uw==null||Uw(lf,$f),(ph.litHtmlVersions??(ph.litHtmlVersions=[])).push("3.3.0");const VJ=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const a=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new $f(e.insertBefore(of(),a),a,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ic=globalThis;class jg extends kl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=VJ(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return pu}}var vx;jg._$litElement$=!0,jg.finalized=!0,(vx=ic.litElementHydrateSupport)==null||vx.call(ic,{LitElement:jg});const kw=ic.litElementPolyfillSupport;kw==null||kw({LitElement:jg});(ic.litElementVersions??(ic.litElementVersions=[])).push("4.2.0");let gh,Ja,eo;function are(t,e){gh=document.createElement("style"),Ja=document.createElement("style"),eo=document.createElement("style"),gh.textContent=ql(t).core.cssText,Ja.textContent=ql(t).dark.cssText,eo.textContent=ql(t).light.cssText,document.head.appendChild(gh),document.head.appendChild(Ja),document.head.appendChild(eo),z3(e)}function z3(t){Ja&&eo&&(t==="light"?(Ja.removeAttribute("media"),eo.media="enabled"):(eo.removeAttribute("media"),Ja.media="enabled"))}function GJ(t){gh&&Ja&&eo&&(gh.textContent=ql(t).core.cssText,Ja.textContent=ql(t).dark.cssText,eo.textContent=ql(t).light.cssText)}function ql(t){return{core:Fl`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${ns(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${ns((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${ns((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${ns((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${ns((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Fl`
      :root {
        --w3m-color-mix: ${ns((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${ns(Hi(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${ns(Hi(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Fl`
      :root {
        --w3m-color-mix: ${ns((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${ns(Hi(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${ns(Hi(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const ore=Fl`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,cre=Fl`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,lre=Fl`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,rh={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},WJ=r1({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),KJ=r1({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),YJ=r1({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function Uf(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const QT=Uf({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),XT=Uf({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Uf({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Uf({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Uf({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const ZJ={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},mh={getMethodsByChainNamespace(t){return ZJ[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,a])=>{n[s]&&(n[s].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([s,a])=>{n[s]&&(n[s].chains=a)}),e.events&&Object.entries(e.events).forEach(([s,a])=>{n[s]&&(n[s].events=a)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[u,d]=a.split(":");!u||!d||!n[u]||(n[u].rpcMap||(n[u].rpcMap={}),s.has(u)||(n[u].rpcMap={},s.add(u)),n[u].rpcMap[d]=c)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:a,chainNamespace:c,rpcUrls:u}=s,d=u.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const h=`${c}:${a}`,p=r[c];switch(p.chains.push(h),h){case QT.caipNetworkId:p.chains.push(QT.deprecatedCaipNetworkId);break;case XT.caipNetworkId:p.chains.push(XT.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&d&&(p.rpcMap[a]=d),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await hh.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[a,c]=s.split(":");return`${a}:${c}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const a=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else if(r===t)return!0;return!1}};class o1{constructor({provider:e,namespace:n}){this.id=fe.CONNECTOR_ID.WALLET_CONNECT,this.name=Ga.ConnectorNamesMap[fe.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ga.ConnectorImageIds[fe.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=B.getCaipNetworks.bind(B),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ue.state.universalProviderConfigOverride,s=mh.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return uh.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:QJ})}}const QJ=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class F3{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>B.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:fe.CONNECTOR_ID.AUTH,type:"AUTH",name:fe.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ga.ConnectorImageIds[fe.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Ne.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const c=s,u=(a=Ne.state.preferredAccountTypes)==null?void 0:a[n.chainNamespace];await c.switchNetwork(n.caipNetworkId);const d=await c.getUser({chainId:n.caipNetworkId,preferredAccountType:u});this.emit("switchNetwork",d)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof o1);if(!e)throw new Error("WalletConnectConnector not found");return e}}class XJ extends F3{setUniversalProvider(e){this.addConnector(new o1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,a,c,u;const n=this.provider,r=((u=(c=(a=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(d=>{const[,,h]=d.split(":");return h}).filter((d,h,p)=>p.indexOf(d)===h))||[];return Promise.resolve({accounts:r.map(d=>De.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,c,u,d,h;if(!(e.caipNetwork&&an.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(c=e.caipNetwork)!=null&&c.testnet)return{balance:"0.00",symbol:((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""};if(Ne.state.balanceLoading&&e.chainId===((d=B.state.activeCaipNetwork)==null?void 0:d.id))return{balance:Ne.state.balance||"0.00",symbol:Ne.state.balanceSymbol||""};const s=(await Ne.fetchTokenBalance()).find(p=>{var m,y;return p.chainId===`${(m=e.caipNetwork)==null?void 0:m.chainNamespace}:${e.chainId}`&&p.symbol===((y=e.caipNetwork)==null?void 0:y.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)||""}}async signMessage(e){var c,u,d;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((c=B.state.activeCaipNetwork)==null?void 0:c.chainNamespace)===fe.CHAIN.SOLANA?a=(await n.request({method:"solana_signMessage",params:{message:HO.encode(new TextEncoder().encode(r)),pubkey:s}},(u=B.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)).signature:a=await n.request({method:"personal_sign",params:[r,s]},(d=B.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,a,c,u,d,h;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===fe.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:cu(n.id)}]}))}catch(p){if(p.code===rh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===rh.ERROR_INVALID_CHAIN_ID||p.code===rh.ERROR_CODE_DEFAULT||((c=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:c.code)===rh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((h=r.provider)==null?void 0:h.request({method:"wallet_addEthereumChain",params:[{chainId:cu(n.id),rpcUrls:[(u=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:u.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(d=n.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class JJ{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,a,c,u;if(n){const d=(a=(s=B.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:a.find(m=>m.id===r);if(d)return d;const h=(c=B.getNetworkData(n))==null?void 0:c.caipNetwork;return h||((u=B.getRequestedCaipNetworks(n).filter(m=>m.chainNamespace===n))==null?void 0:u[0])}return B.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getActiveChainNamespace=()=>B.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{B.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>B.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>B.state.activeChain===n||!n?B.state.activeCaipAddress:B.getAccountProp("caipAddress",n),this.setClientId=n=>{Be.setClientId(n)},this.getProvider=n=>At.getProvider(n),this.getProviderType=n=>At.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=Ne.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{Ne.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Ne.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Ne.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Ne.setProfileImage(n,r)},this.setUser=(n,r)=>{Ne.setUser(n,r),ue.state.enableEmbedded&&Jt.close()},this.resetAccount=n=>{Ne.resetAccount(n)},this.setCaipNetwork=n=>{B.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{B.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Ne.setAllAccounts(n,r),ue.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{Ne.setStatus(n,r),Ee.isConnected()?we.setConnectionStatus("connected"):we.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>B.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ee.state.allConnectors,...n];Ee.setConnectors(r)},this.setConnections=(n,r)=>{Me.setConnections(n,r)},this.fetchIdentity=n=>Be.fetchIdentity(n),this.getReownName=n=>hh.getNamesForAddress(n),this.getConnectors=()=>Ee.getConnectors(),this.getConnectorImage=n=>Ux.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const s=At.getProviderId(r),a=n?{...n,type:s}:void 0;Ne.setConnectedWalletInfo(a,r)},this.getIsConnectedState=()=>!!B.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Ne.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Ne.removeAddressLabel(n,r)},this.getAddress=n=>B.state.activeChain===n||!n?Ne.state.address:B.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>B.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{B.resetNetwork(n)},this.addConnector=n=>{Ee.addConnector(n)},this.resetWcConnection=()=>{Me.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Ne.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Ne.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{B.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Ne.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{ue.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(a=>a.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),si.set({initialized:!0}),await this.syncExistingConnection(),((n=ue.state.features)!=null&&n.email||Array.isArray((r=ue.state.features)==null?void 0:r.socials)&&((s=ue.state.features)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await ke.fetchAllowedOrigins();if(e&&De.isClient()){const n=window.location.origin;mh.isOriginAllowed(n,e,rh.DEFAULT_ALLOWED_ANCESTORS)||tr.open(_n.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else tr.open(_n.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Mt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&gr.setThemeMode(e.themeMode),e.themeVariables&&gr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");B.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&B.setActiveCaipNetwork(n)}initializeConnectionController(e){Me.setWcBasic(e.basic??!1)}initializeConnectorController(){Ee.initialize(this.chainNamespaces)}initializeOptionsController(e){var c;ue.setDebug(e.debug!==!1),ue.setEnableWalletConnect(e.enableWalletConnect!==!1),ue.setEnableWalletGuide(e.enableWalletGuide!==!1),ue.setEnableWallets(e.enableWallets!==!1),ue.setEIP6963Enabled(e.enableEIP6963!==!1),ue.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ue.setEnableAuthLogger(e.enableAuthLogger!==!1),ue.setCustomRpcUrls(e.customRpcUrls),ue.setSdkVersion(e.sdkVersion),ue.setProjectId(e.projectId),ue.setEnableEmbedded(e.enableEmbedded),ue.setAllWallets(e.allWallets),ue.setIncludeWalletIds(e.includeWalletIds),ue.setExcludeWalletIds(e.excludeWalletIds),ue.setFeaturedWalletIds(e.featuredWalletIds),ue.setTokens(e.tokens),ue.setTermsConditionsUrl(e.termsConditionsUrl),ue.setPrivacyPolicyUrl(e.privacyPolicyUrl),ue.setCustomWallets(e.customWallets),ue.setFeatures(e.features),ue.setAllowUnsupportedChain(e.allowUnsupportedChain),ue.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ue.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ue.setDefaultAccountTypes(e.defaultAccountTypes);const n=we.getPreferredAccountTypes()||{},r={...ue.state.defaultAccountTypes,...n};Ne.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ue.setMetadata(e.metadata),ue.setDisableAppend(e.disableAppend),ue.setEnableEmbedded(e.enableEmbedded),ue.setSIWX(e.siwx),!e.projectId){tr.open(_n.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((c=e.adapters)==null?void 0:c.find(u=>u.namespace===fe.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ue.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=ni.getUnsupportedNetwork(`${n}:${e}`);B.setActiveCaipNetwork(r)}}getDefaultNetwork(){return ni.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return ni.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return ni.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var a;return s.id===((a=e.defaultNetwork)==null?void 0:a.id)});return n?ni.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=B.state.activeChain,n=this.getAdapter(e),r=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),we.setConnectedNamespaces([...B.state.chains.keys()]),this.chainNamespaces.forEach(c=>{Ee.setConnectorId(kt.CONNECTOR_TYPE_WALLET_CONNECT,c)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:a,caipNetwork:c,socialUri:u})=>{var v,_,S,N,x,P;const d=B.state.activeChain,h=a||d,p=this.getAdapter(h);if(a&&a!==d&&!c){const T=this.getCaipNetworks().find(A=>A.chainNamespace===a);T&&this.setCaipNetwork(T)}if(!p)throw new Error("Adapter not found");const m=this.getCaipNetwork(h),y=await p.connect({id:e,info:n,type:r,provider:s,socialUri:u,chainId:(c==null?void 0:c.id)||(m==null?void 0:m.id),rpcUrl:((S=(_=(v=c==null?void 0:c.rpcUrls)==null?void 0:v.default)==null?void 0:_.http)==null?void 0:S[0])||((P=(x=(N=m==null?void 0:m.rpcUrls)==null?void 0:N.default)==null?void 0:x.http)==null?void 0:P[0])});if(!y)return;we.addConnectedNamespace(h),this.syncProvider({...y,chainNamespace:h});const w=Ne.state.allAccounts,{accounts:E}=(w==null?void 0:w.length)>0?{accounts:[...w]}:await p.getAccounts({namespace:h,id:e});this.setAllAccounts(E,h),this.setStatus("connected",h),this.syncConnectedWalletInfo(h)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var u;const a=B.state.activeChain,c=this.getAdapter(a);c!=null&&c.reconnect&&(await(c==null?void 0:c.reconnect({id:e,info:n,type:r,provider:s,chainId:(u=this.getCaipNetwork())==null?void 0:u.id})),we.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const n=e||B.state.activeChain,r=this.getAdapter(n),s=At.getProvider(n),a=At.getProviderId(n);await(r==null?void 0:r.disconnect({provider:s,providerType:a})),we.removeConnectedNamespace(n),At.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(B.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:Ne.state.address,provider:At.getProvider(B.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(an.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(B.state.activeChain),s=At.getProvider(n),a=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(a==null?void 0:a.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===fe.CHAIN.EVM){const n=this.getAdapter(B.state.activeChain),r=At.getProvider(B.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const a=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Ne.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:B.state.activeChain}),Ne.state.profileImage||!1},getEnsAddress:async e=>await mh.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(B.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),a=At.getProvider(B.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const c=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:a,caipAddress:s}));return c==null?void 0:c.hash},parseUnits:(e,n)=>{const r=this.getAdapter(B.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(B.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(B.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(B.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Ne.state.address||this.updateNativeBalance(Ne.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Me.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,a,c;if(At.getProviderId(B.state.activeChain)===kt.CONNECTOR_TYPE_WALLET_CONNECT){const u=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((c=(a=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:a.peer)==null?void 0:c.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(u)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=At.getProvider(n),a=At.getProviderId(n);if(e.chainNamespace===B.state.activeChain){const c=this.getAdapter(n);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:s,providerType:a}))}else if(this.setCaipNetwork(e),a===kt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(a=>{const{chainId:c,chainNamespace:u}=_a.parseCaipAddress(a);return`${u}:${c}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var a;const s=e==null?void 0:e.find(c=>c.namespace===r);return s?(s.construct({namespace:r,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new XJ({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=we.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(we.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:a})=>{const c=this.getCaipNetworks().find(h=>h.id===a||h.caipNetworkId===a),u=B.state.activeChain===e,d=B.getAccountProp("address",e);if(c){const h=u&&s?s:d;h&&this.syncAccount({address:h,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Ne.state.address,a=B.state.activeCaipNetwork;!s||!(a!=null&&a.id)||this.updateNativeBalance(s,a.id,a.chainNamespace)}),n.on("accountChanged",({address:s,chainId:a})=>{var u,d;const c=B.state.activeChain===e;c&&a?this.syncAccount({address:s,chainId:a,chainNamespace:e}):c&&((u=B.state.activeCaipNetwork)!=null&&u.id)?this.syncAccount({address:s,chainId:(d=B.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(s,a,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Ee.getConnectorId(e);switch(this.setStatus("connecting",e),n){case fe.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case fe.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var c,u,d;const n=this.getAdapter(e),r=Ee.getConnectorId(e),s=this.getCaipNetwork(e),a=Ee.getConnectors(e).find(h=>h.id===r);try{if(!n||!a)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const h=await(n==null?void 0:n.syncConnection({namespace:e,id:a.id,chainId:s.id,rpcUrl:(d=(u=(c=s==null?void 0:s.rpcUrls)==null?void 0:c.default)==null?void 0:u.http)==null?void 0:d[0]}));if(h){const p=await(n==null?void 0:n.getAccounts({namespace:e,id:a.id}));p&&p.accounts.length>0?this.setAllAccounts(p.accounts,e):this.setAllAccounts([De.createAccount(e,h.address,"eoa")],e),this.syncProvider({...h,chainNamespace:e}),await this.syncAccount({...h,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var u,d,h,p,m;const r=this.getAdapter(n),s=((p=(h=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:h[n])==null?void 0:p.accounts)||[],a=(m=B.state.activeCaipNetwork)==null?void 0:m.id,c=s.find(y=>{const{chainId:w}=_a.parseCaipAddress(y);return w===(a==null?void 0:a.toString())})||s[0];if(c){const y=_a.validateCaipAddress(c),{chainId:w,address:E}=_a.parseCaipAddress(y);if(At.setProviderId(n,kt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&B.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==fe.CHAIN.EVM){const v=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:B.state.activeCaipNetwork});At.setProvider(n,v)}else At.setProvider(n,this.universalProvider);Ee.setConnectorId(fe.CONNECTOR_ID.WALLET_CONNECT,n),we.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:E,chainId:w,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await B.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,s,a,c,u;const n=(u=(c=(a=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(d=>{const{address:h}=_a.parseCaipAddress(d);return h}).filter((d,h,p)=>p.indexOf(d)===h);n&&this.setAllAccounts(n.map(d=>De.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){At.setProviderId(s,e),At.setProvider(s,n),Ee.setConnectorId(r,s)}async syncAllAccounts(e){const n=Ee.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var m,y;const n=e.chainNamespace===B.state.activeChain,r=B.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:a,chainNamespace:c}=e,{chainId:u}=we.getActiveNetworkProps(),d=a||u,h=((m=B.state.activeCaipNetwork)==null?void 0:m.name)===fe.UNSUPPORTED_NETWORK_NAME,p=B.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(h&&!p)&&d){let w=this.getCaipNetworks().find(_=>_.id.toString()===d.toString()),E=this.getCaipNetworks().find(_=>_.chainNamespace===c);if(!p&&!w&&!E){const _=this.getApprovedCaipNetworkIds()||[],S=_.find(x=>{var P;return((P=_a.parseCaipNetworkId(x))==null?void 0:P.chainId)===d.toString()}),N=_.find(x=>{var P;return((P=_a.parseCaipNetworkId(x))==null?void 0:P.chainNamespace)===c});w=this.getCaipNetworks().find(x=>x.caipNetworkId===S),E=this.getCaipNetworks().find(x=>x.caipNetworkId===N||"deprecatedCaipNetworkId"in x&&x.deprecatedCaipNetworkId===N)}const v=w||E;(v==null?void 0:v.chainNamespace)===B.state.activeChain?ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&((y=B.state.activeCaipNetwork)==null?void 0:y.name)===fe.UNSUPPORTED_NETWORK_NAME?B.showUnsupportedChainUI():this.setCaipNetwork(v):n||r&&this.setCaipNetworkOfNamespace(r,c),this.syncConnectedWalletInfo(c),ny.isLowerCaseMatch(s,Ne.state.address)||this.syncAccountInfo(s,v==null?void 0:v.id,c),n?await this.syncBalance({address:s,chainId:v==null?void 0:v.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:c})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),a=n||(s==null?void 0:s.split(":")[1]);if(!a)return;const c=`${r}:${a}:${e}`;this.setCaipAddress(c,r),await this.syncIdentity({address:e,chainId:a,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Ee.getConnectorId(e),r=At.getProviderId(e);if(r===kt.CONNECTOR_TYPE_ANNOUNCED||r===kt.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(c=>c.id===n);if(a){const{info:c,name:u,imageUrl:d}=a,h=d||this.getConnectorImage(a);this.setConnectedWalletInfo({name:u,icon:h,...c},e)}}}else if(r===kt.CONNECTOR_TYPE_WALLET_CONNECT){const a=At.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(s=a.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===fe.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(c=>c.id===fe.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}}async syncBalance(e){!yh.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),a=B.getCaipNetworkByNamespace(r,n);if(s){const c=await s.getBalance({address:e,chainId:n,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,r),c}}async initializeUniversalAdapter(){var r,s,a,c,u,d,h,p,m,y;const e=aQ.createLogger((w,...E)=>{w&&this.handleAlertError(w),console.error(...E)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(h=this.options)==null?void 0:h.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(m=this.options)==null?void 0:m.metadata.icons:[""]},logger:e};ue.setManualWCControl(!!((y=this.options)!=null&&y.manualWCControl)),this.universalProvider=this.options.universalProvider??await fW.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Me.setUri(e)}),this.universalProvider.on("connect",Me.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Me.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(mh.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&De.isCaipAddress(r[0])&&this.syncAccount(_a.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&De.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Mt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(_n.UniversalProviderErrors).find(([,{message:u}])=>e.message.includes(u)),[r,s]=n??[],{message:a,alertErrorKey:c}=s??{};if(r&&a&&!this.reportedAlertErrors[r]){const u=_n.ALERT_ERRORS[c];u&&(tr.open(u,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Me.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Jt.open({...e,data:{swap:e.arguments}})}return Jt.open(e)}async close(e=!1){await this.injectModalUi(),Jt.close(e)}setLoading(e,n){Jt.setLoading(e,n)}async disconnect(e){await Me.disconnect(e)}getSIWX(){return ue.state.siwx}getError(){return""}getChainId(){var e;return(e=B.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){tr.open(_n.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await B.switchActiveNetwork(n)}getWalletProvider(){return B.state.activeChain?At.state.providers[B.state.activeChain]:null}getWalletProviderType(){return At.getProviderId(B.state.activeChain)}subscribeProviders(e){return At.subscribeProviders(e)}getThemeMode(){return gr.state.themeMode}getThemeVariables(){return gr.state.themeVariables}setThemeMode(e){gr.setThemeMode(e),z3(gr.state.themeMode)}setTermsConditionsUrl(e){ue.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ue.setPrivacyPolicyUrl(e)}setThemeVariables(e){gr.setThemeVariables(e),GJ(gr.state.themeVariables)}subscribeTheme(e){return gr.subscribe(e)}getWalletInfo(){return Ne.state.connectedWalletInfo}getAccount(e){var c;const n=Ee.getAuthConnector(e),r=B.getAccountData(e),s=B.state.activeChain,a=we.getConnectedConnectorId(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:De.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&a===fe.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:we.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(c=r.preferredAccountTypes)==null?void 0:c[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?B.subscribeChainProp("accountState",r,n):B.subscribe(r),Ee.subscribe(r)}subscribeNetwork(e){return B.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return Ne.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ne.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){B.subscribeKey("activeCaipNetwork",e)}getState(){return si.state}subscribeState(e){return si.subscribe(e)}showErrorMessage(e){Os.showError(e)}showSuccessMessage(e){Os.showSuccess(e)}getEvent(){return{...Mt.state}}subscribeEvents(e){return Mt.subscribe(e)}replace(e){at.replace(e)}redirect(e){at.push(e)}popTransactionStack(e){at.popTransactionStack(e)}isOpen(){return Jt.state.open}isTransactionStackEmpty(){return at.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=at.state.transactionStack[at.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){ue.setFeatures(e)}updateOptions(e){const r={...ue.state||{},...e};ue.setOptions(r)}setConnectMethodsOrder(e){ue.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ue.setWalletFeaturesOrder(e)}setCollapseWallets(e){ue.setCollapseWallets(e)}setSocialsOrder(e){ue.setSocialsOrder(e)}getConnectMethodsOrder(){return rE.getConnectOrderMethod(ue.state.features,Ee.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||B.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&B.removeNetwork(e,n)}}let JT=!1;class eee extends JJ{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{kr.checkIfRequestExists(n)?kr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(kn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(kn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const s=kr.checkIfRequestIsSafe(r),a=Ne.state.address,c=B.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(!0),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)):(this.popTransactionStack(),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)))}),e.onNotConnected(()=>{const n=B.state.activeChain;Ee.getConnectorId(n)===fe.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var h,p;const r=B.state.activeChain,s=r===fe.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,a=ue.state.defaultAccountTypes[r],c=(h=Ne.state.preferredAccountTypes)==null?void 0:h[r],u=n.preferredAccountType||c||a;ny.isLowerCaseMatch(n.address,Ne.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...Ne.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(u,r);const d=(p=n.accounts)==null?void 0:p.map(m=>De.createAccount(r,m.address,m.type||c||a));this.setAllAccounts(d||[De.createAccount(r,n.address,n.preferredAccountType||u)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Ne.state.user||{},username:n},B.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,B.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,B.state.activeChain)})}async syncAuthConnector(e,n){var p,m,y,w;const r=fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const a=e.getEmail(),c=e.getUsername();this.setUser({...((p=Ne.state)==null?void 0:p.user)||{},username:c,email:a},B.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:u}=await e.isConnected(),d=gr.getSnapshot(),h=ue.getSnapshot();await Promise.all([e.syncDappData({metadata:h.metadata,sdkVersion:h.sdkVersion,projectId:h.projectId,sdkType:h.sdkType}),e.syncTheme({themeMode:d.themeMode,themeVariables:d.themeVariables,w3mThemeVariables:Hi(d.themeVariables,d.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&(u&&((m=this.connectionControllerClient)!=null&&m.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:fe.CONNECTOR_ID.AUTH,info:{name:fe.CONNECTOR_ID.AUTH},type:kt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(y=B.state.activeCaipNetwork)==null?void 0:y.id,chain:n})),this.setStatus("connected",n)):Ee.getConnectorId(n)===fe.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),we.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!De.isTelegram())return;const r=we.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;Ne.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const c=Ee.getAuthConnector();r&&c&&(this.setLoading(!0,e),await Me.connectExternal({id:c.id,type:c.type,socialUri:a},c.chain),we.setConnectedSocialProvider(r),we.removeTelegramSocialProvider(),Mt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var c,u,d,h,p,m,y,w,E,v,_,S,N;if(!fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((u=(c=this.options)==null?void 0:c.features)==null?void 0:u.email)===void 0?an.DEFAULT_FEATURES.email:(h=(d=this.options)==null?void 0:d.features)==null?void 0:h.email,s=(m=(p=this.options)==null?void 0:p.features)!=null&&m.socials?((E=(w=(y=this.options)==null?void 0:y.features)==null?void 0:w.socials)==null?void 0:E.length)>0:((_=(v=this.options)==null?void 0:v.features)==null?void 0:_.socials)??an.DEFAULT_FEATURES.socials,a=r||s;!this.authProvider&&((S=this.options)!=null&&S.projectId)&&a&&(this.authProvider=sc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(N=this.getCaipNetwork(e))==null?void 0:N.caipNetworkId,abortController:_n.EmbeddedWalletAbortController,onTimeout:x=>{x==="iframe_load_failed"?tr.open(_n.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):x==="iframe_request_timeout"?tr.open(_n.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):x==="unverified_domain"&&tr.open(_n.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),si.subscribeOpen(x=>{var P;!x&&this.isTransactionStackEmpty()&&((P=this.authProvider)==null||P.rejectRpcRequests())}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&ke.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var a,c;if(!e)return;const n=B.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===B.state.activeChain&&s){const u=this.getAdapter(r),d=At.getProvider(r),h=At.getProviderId(r);await(u==null?void 0:u.switchNetwork({caipNetwork:e,provider:d,providerType:h})),this.setCaipNetwork(e)}else{const d=At.getProviderId(n)===kt.CONNECTOR_TYPE_AUTH,h=At.getProviderId(r),p=h===kt.CONNECTOR_TYPE_AUTH,m=fe.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((d&&h===void 0||p)&&m)try{B.state.activeChain=e.chainNamespace,await((c=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:c.call(a,{id:fe.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:kt.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const w=this.getAdapter(r);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:h}))}else h===kt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var c;const s=`${r}:${n}`,a=(c=this.caipNetworks)==null?void 0:c.find(u=>u.caipNetworkId===s);if(r!==fe.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:u,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(u,r),this.setProfileImage(d,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=At.getProviderId(e);if(n===kt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=we.getConnectedSocialProvider()??"email",a=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:a,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!JT&&De.isClient()){const e={...an.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(er(()=>import("./embedded-wallet-DxmRGYiM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(er(()=>import("./email-DqRDybf1.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),e.socials&&n.push(er(()=>import("./socials-BvdBKG-x.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),e.swaps&&n.push(er(()=>import("./swaps-C4w9_E6x.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&n.push(er(()=>import("./send-CX_TAgFQ.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&n.push(er(()=>import("./receive-k5_5iT8d.js"),__vite__mapDeps([28,1,29,3,19]))),e.onramp&&n.push(er(()=>import("./onramp-BU3iAKnv.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),e.history&&n.push(er(()=>import("./transactions-Cl_8EebK.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&n.push(er(()=>import("./index-DaS9zEm4.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18])))),await Promise.all([...n,er(()=>import("./index-DMLmA_Wu.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),er(()=>import("./w3m-modal-WUTC3RfM.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ue.state.disableAppend&&!ue.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}JT=!0}}}let Ra;function tee(t){t&&(Ra=t)}function nee(){if(!Ra)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(Ra==null?void 0:Ra.open(n))}async function e(){await(Ra==null?void 0:Ra.close())}return{open:t,close:e}}const ree="1.7.5";let _g;function see(t){return _g||(_g=new eee({...t,sdkVersion:De.generateSdkVersion(t.adapters??[],"react",ree)}),tee(_g)),_g}function cs(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const Bg="2.17.2",iee=()=>`@wagmi/core@${Bg}`;var q3=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wm,H3;class Us extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return iee()}constructor(e,n={}){var a;super(),wm.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Us?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof Us&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return q3(this,wm,"m",H3).call(this,this,e)}}wm=new WeakSet,H3=function t(e,n){return n!=null&&n(e)?e:e.cause?q3(this,wm,"m",t).call(this,e.cause,n):e};class uf extends Us{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class aee extends Us{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class oee extends Us{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class cee extends Us{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class lee extends Us{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class uee extends Us{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function ex(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new aee;try{t.setState(d=>({...d,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...a}=e,c=await n.connect(a),u=c.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(d=>({...d,connections:new Map(d.connections).set(n.uid,{accounts:u,chainId:c.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:u,chainId:c.chainId}}catch(s){throw t.setState(a=>({...a,status:a.current?"connected":"disconnected"})),s}}async function iy(t,e={}){let n;if(e.connector){const{connector:h}=e;if(t.state.status==="reconnecting"&&!h.getAccounts&&!h.getChainId)throw new uee({connector:h});const[p,m]=await Promise.all([h.getAccounts().catch(y=>{if(e.account===null)return[];throw y}),h.getChainId()]);n={accounts:p,chainId:m,connector:h}}else n=t.state.connections.get(t.state.current);if(!n)throw new oee;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new lee({connectionChainId:n.chainId,connectorChainId:s});const a=n.connector;if(a.getClient)return a.getClient({chainId:r});const c=di(e.account??n.accounts[0]);if(c&&(c.address=Wo(c.address)),e.account&&!n.accounts.some(h=>h.toLowerCase()===c.address.toLowerCase()))throw new cee({address:c.address,connector:a});const u=t.chains.find(h=>h.id===r),d=await n.connector.getProvider({chainId:r});return _3({account:c,chain:u,name:"Connector Client",transport:h=>TZ(d)({...h,retryCount:0})})}async function dee(t,e={}){var s,a;let n;if(e.connector)n=e.connector;else{const{connections:c,current:u}=t.state,d=c.get(u);n=d==null?void 0:d.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(c=>{if(r.size===0)return{...c,connections:new Map,current:null,status:"disconnected"};const u=r.values().next().value;return{...c,connections:new Map(r),current:u.connector.uid}});{const c=t.state.current;if(!c)return;const u=(s=t.state.connections.get(c))==null?void 0:s.connector;if(!u)return;await((a=t.storage)==null?void 0:a.setItem("recentConnectorId",u.id))}}async function hee(t,e){const{chainId:n,connector:r,...s}=e;let a;e.account?a=e.account:a=(await iy(t,{account:e.account,chainId:n,connector:r})).account;const c=t.getClient({chainId:n});return cs(c,c3,"estimateGas")({...s,account:a})}function V3(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(qK[t])}function vm(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],a=t.chains.find(u=>u.id===(n==null?void 0:n.chainId)),c=t.state.status;switch(c){case"connected":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:c};case"reconnecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:c};case"connecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:c};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:c}}}async function fee(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...a}=e,c=t.getClient({chainId:r});return cs(c,kZ,"multicall")({allowFailure:n,contracts:s,...a})}function pee(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return cs(s,b3,"readContract")(r)}async function gee(t,e){var u;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...a}=e,c=e.contracts;try{const d={};for(const[y,w]of c.entries()){const E=w.chainId??t.state.chainId;d[E]||(d[E]=[]),(u=d[E])==null||u.push({contract:w,index:y})}const h=()=>Object.entries(d).map(([y,w])=>fee(t,{...a,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(y),contracts:w.map(({contract:E})=>E)})),p=(await Promise.all(h())).flat(),m=Object.values(d).flatMap(y=>y.map(({index:w})=>w));return p.reduce((y,w,E)=>(y&&(y[m[E]]=w),y),[])}catch(d){if(d instanceof GR)throw d;const h=()=>c.map(p=>pee(t,{...p,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(h())).map(p=>p.status==="fulfilled"?{result:p.value,status:"success"}:{error:p.reason,result:void 0,status:"failure"}):await Promise.all(h())}}async function mee(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:a,token:c,unit:u="ether"}=e;if(c)try{return await tx(t,{balanceAddress:n,chainId:a,symbolType:"string",tokenAddress:c})}catch(y){if(y.name==="ContractFunctionExecutionError"){const w=await tx(t,{balanceAddress:n,chainId:a,symbolType:"bytes32",tokenAddress:c}),E=TR(If(w.symbol,{dir:"right"}));return{...w,symbol:E}}throw y}const d=t.getClient({chainId:a}),p=await cs(d,o3,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),m=t.chains.find(y=>y.id===a)??d.chain;return{decimals:m.nativeCurrency.decimals,formatted:xu(p,V3(u)),symbol:m.nativeCurrency.symbol,value:p}}async function tx(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:a,unit:c}=e,u={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:a},[d,h,p]=await gee(t,{allowFailure:!1,contracts:[{...u,functionName:"balanceOf",args:[n],chainId:r},{...u,functionName:"decimals",chainId:r},{...u,functionName:"symbol",chainId:r}]}),m=xu(d??"0",V3(c??h));return{decimals:h,formatted:m,symbol:p,value:d}}function Em(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Em(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!Em(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}let Cg=[];function jo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Em(Cg,e)?Cg:(Cg=e,e)}async function yee(t,e){const{account:n,chainId:r,...s}=e,a=n??vm(t).address,c=t.getClient({chainId:r});return cs(c,JE,"prepareTransactionRequest")({...s,...a?{account:a}:{}})}let Mw=!1;async function iE(t,e={}){var h,p;if(Mw)return[];Mw=!0,t.setState(m=>({...m,status:m.current?"reconnecting":"connecting"}));const n=[];if((h=e.connectors)!=null&&h.length)for(const m of e.connectors){let y;typeof m=="function"?y=t._internal.connectors.setup(m):y=m,n.push(y)}else n.push(...t.connectors);let r;try{r=await((p=t.storage)==null?void 0:p.getItem("recentConnectorId"))}catch{}const s={};for(const[,m]of t.state.connections)s[m.connector.id]=1;r&&(s[r]=0);const a=Object.keys(s).length>0?[...n].sort((m,y)=>(s[m.id]??10)-(s[y.id]??10)):n;let c=!1;const u=[],d=[];for(const m of a){const y=await m.getProvider().catch(()=>{});if(!y||d.some(v=>v===y)||!await m.isAuthorized())continue;const E=await m.connect({isReconnecting:!0}).catch(()=>null);E&&(m.emitter.off("connect",t._internal.events.connect),m.emitter.on("change",t._internal.events.change),m.emitter.on("disconnect",t._internal.events.disconnect),t.setState(v=>{const _=new Map(c?v.connections:new Map).set(m.uid,{accounts:E.accounts,chainId:E.chainId,connector:m});return{...v,current:c?v.current:m.uid,connections:_}}),u.push({accounts:E.accounts,chainId:E.chainId,connector:m}),d.push(y),c=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(c?t.setState(m=>({...m,status:"connected"})):t.setState(m=>({...m,connections:new Map,current:null,status:"disconnected"}))),Mw=!1,u}async function bee(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await iy(t,{account:n??void 0,chainId:r,connector:s}),await cs(c,v3,"sendTransaction")({...a,...n?{account:n}:{},chain:r?{id:r}:null,gas:a.gas??void 0})}async function wee(t,e){const{account:n,connector:r,...s}=e;let a;return typeof n=="object"&&n.type==="local"?a=t.getClient():a=await iy(t,{account:n,connector:r}),cs(a,LZ,"signMessage")({...s,...n?{account:n}:{}})}class Ua extends Us{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class vee extends Us{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function nx(t,e){var c;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((c=e.connector)==null?void 0:c.uid)??t.state.current);if(s){const u=s.connector;if(!u.switchChain)throw new vee({connector:u});return await u.switchChain({addEthereumChainParameter:n,chainId:r})}const a=t.chains.find(u=>u.id===r);if(!a)throw new uf;return t.setState(u=>({...u,chainId:r})),a}function Eee(t,e){const{onChange:n}=e;return t.subscribe(()=>vm(t),n,{equalityFn(r,s){const{connector:a,...c}=r,{connector:u,...d}=s;return Em(c,d)&&(a==null?void 0:a.id)===(u==null?void 0:u.id)&&(a==null?void 0:a.uid)===(u==null?void 0:u.uid)}})}function _ee(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Cee(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const a=d=>{s&&s();const h=t.getClient({chainId:d});return s=cs(h,BZ,"watchPendingTransactions")(r),s},c=a(e.chainId);let u;return n&&!e.chainId&&(u=t.subscribe(({chainId:d})=>d,async d=>a(d))),()=>{c==null||c(),u==null||u()}}async function Aee(t,e){const{chainId:n,timeout:r=0,...s}=e,a=t.getClient({chainId:n}),u=await cs(a,jZ,"waitForTransactionReceipt")({...s,timeout:r});if(u.status==="reverted"){const h=await cs(a,A3,"getTransaction")({hash:u.transactionHash}),m=await cs(a,y3,"call")({...h,data:h.input,gasPrice:h.type!=="eip1559"?h.gasPrice:void 0,maxFeePerGas:h.type==="eip1559"?h.maxFeePerGas:void 0,maxPriorityFeePerGas:h.type==="eip1559"?h.maxPriorityFeePerGas:void 0}),y=m!=null&&m.data?TR(`0x${m.data.substring(138)}`):"unknown reason";throw new Error(y)}return{...u,chainId:a.chain.id}}async function See(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await iy(t,{account:n??void 0,chainId:r,connector:s}),await cs(c,EZ,"writeContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}function ure(t){return t}ay.type="injected";function ay(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const d=t.target;if(typeof d=="function"){const h=d();if(h)return h}return typeof d=="object"?d:typeof d=="string"?{...Nee[d]??{id:d,name:`${d[0].toUpperCase()}${d.slice(1)}`,provider:`is${d[0].toUpperCase()}${d.slice(1)}`}}:{id:"injected",name:"Injected",provider(h){return h==null?void 0:h.ethereum}}}let s,a,c,u;return d=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ay.type,async setup(){const h=await this.getProvider();h!=null&&h.on&&t.target&&(c||(c=this.onConnect.bind(this),h.on("connect",c)),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)))},async connect({chainId:h,isReconnecting:p}={}){var w,E,v,_,S,N;const m=await this.getProvider();if(!m)throw new Ua;let y=[];if(p)y=await this.getAccounts().catch(()=>[]);else if(e)try{y=(_=(v=(E=(w=(await m.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:w.caveats)==null?void 0:E[0])==null?void 0:v.value)==null?void 0:_.map(P=>Wo(P)),y.length>0&&(y=await this.getAccounts())}catch(x){const P=x;if(P.code===dn.code)throw new dn(P);if(P.code===Qa.code)throw P}try{!(y!=null&&y.length)&&!p&&(y=(await m.request({method:"eth_requestAccounts"})).map(T=>Wo(T))),c&&(m.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),m.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),m.on("disconnect",u));let x=await this.getChainId();if(h&&x!==h){const P=await this.switchChain({chainId:h}).catch(T=>{if(T.code===dn.code)throw T;return{id:x}});x=(P==null?void 0:P.id)??x}return e&&await((S=d.storage)==null?void 0:S.removeItem(`${this.id}.disconnected`)),t.target||await((N=d.storage)==null?void 0:N.setItem("injected.connected",!0)),{accounts:y,chainId:x}}catch(x){const P=x;throw P.code===dn.code?new dn(P):P.code===Qa.code?new Qa(P):P}},async disconnect(){var p,m;const h=await this.getProvider();if(!h)throw new Ua;a&&(h.removeListener("chainChanged",a),a=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c||(c=this.onConnect.bind(this),h.on("connect",c));try{await C3(()=>h.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((p=d.storage)==null?void 0:p.setItem(`${this.id}.disconnected`,!0)),t.target||await((m=d.storage)==null?void 0:m.removeItem("injected.connected"))},async getAccounts(){const h=await this.getProvider();if(!h)throw new Ua;return(await h.request({method:"eth_accounts"})).map(m=>Wo(m))},async getChainId(){const h=await this.getProvider();if(!h)throw new Ua;const p=await h.request({method:"eth_chainId"});return Number(p)},async getProvider(){if(typeof window>"u")return;let h;const p=r();return typeof p.provider=="function"?h=p.provider(window):typeof p.provider=="string"?h=Lg(window,p.provider):h=p.provider,h&&!h.removeListener&&("off"in h&&typeof h.off=="function"?h.removeListener=h.off:h.removeListener=()=>{}),h},async isAuthorized(){var h,p;try{if(e&&await((h=d.storage)==null?void 0:h.getItem(`${this.id}.disconnected`))||!t.target&&!await((p=d.storage)==null?void 0:p.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const E=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",E),!!await this.getProvider()),v=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(S=>window.addEventListener("ethereum#initialized",()=>S(E()),{once:!0}))]:[],new Promise(S=>setTimeout(()=>S(E()),v))]))return!0}throw new Ua}return!!(await om(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:p}){var E,v,_,S;const m=await this.getProvider();if(!m)throw new Ua;const y=d.chains.find(N=>N.id===p);if(!y)throw new ci(new uf);const w=new Promise(N=>{const x=P=>{"chainId"in P&&P.chainId===p&&(d.emitter.off("change",x),N())};d.emitter.on("change",x)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:et(p)}]}).then(async()=>{await this.getChainId()===p&&d.emitter.emit("change",{chainId:p})}),w]),y}catch(N){const x=N;if(x.code===4902||((v=(E=x==null?void 0:x.data)==null?void 0:E.originalError)==null?void 0:v.code)===4902)try{const{default:P,...T}=y.blockExplorers??{};let A;h!=null&&h.blockExplorerUrls?A=h.blockExplorerUrls:P&&(A=[P.url,...Object.values(T).map(O=>O.url)]);let R;(_=h==null?void 0:h.rpcUrls)!=null&&_.length?R=h.rpcUrls:R=[((S=y.rpcUrls.default)==null?void 0:S.http[0])??""];const M={blockExplorerUrls:A,chainId:et(p),chainName:(h==null?void 0:h.chainName)??y.name,iconUrls:h==null?void 0:h.iconUrls,nativeCurrency:(h==null?void 0:h.nativeCurrency)??y.nativeCurrency,rpcUrls:R};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[M]}).then(async()=>{if(await this.getChainId()===p)d.emitter.emit("change",{chainId:p});else throw new dn(new Error("User rejected switch after adding network."))}),w]),y}catch(P){throw new dn(P)}throw x.code===dn.code?new dn(x):new ci(x)}},async onAccountsChanged(h){var p;if(h.length===0)this.onDisconnect();else if(d.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m}),e&&await((p=d.storage)==null?void 0:p.removeItem(`${this.id}.disconnected`))}else d.emitter.emit("change",{accounts:h.map(m=>Wo(m))})},onChainChanged(h){const p=Number(h);d.emitter.emit("change",{chainId:p})},async onConnect(h){const p=await this.getAccounts();if(p.length===0)return;const m=Number(h.chainId);d.emitter.emit("connect",{accounts:p,chainId:m});const y=await this.getProvider();y&&(c&&(y.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),y.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),y.on("disconnect",u)))},async onDisconnect(h){const p=await this.getProvider();h&&h.code===1013&&p&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),p&&(a&&(p.removeListener("chainChanged",a),a=void 0),u&&(p.removeListener("disconnect",u),u=void 0),c||(c=this.onConnect.bind(this),p.on("connect",c))))}})}const Nee={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Lg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Lg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Lg(t,"isPhantom")}}};function Lg(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Tee(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function xee(){const t=new Set;let e=[];const n=()=>Tee(s=>{e.some(({info:a})=>a.uuid===s.info.uuid)||(e=[...e,s],t.forEach(a=>a(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(a=>a.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:a}={}){return t.add(s),a&&s(e,{added:e}),()=>t.delete(s)}}}const Oee=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(c,u,d)=>{let h=c;if(u){const p=(d==null?void 0:d.equalityFn)||Object.is;let m=c(r.getState());h=y=>{const w=c(y);if(!p(m,w)){const E=m;u(m=w,E)}},d!=null&&d.fireImmediately&&u(m,m)}return s(h)},t(e,n,r)},Iee=Oee;function Ree(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const c=d=>d===null?null:JSON.parse(d,void 0),u=(a=n.getItem(s))!=null?a:null;return u instanceof Promise?u.then(c):c(u)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const aE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return aE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return aE(r)(n)}}}},Pee=(t,e)=>(n,r,s)=>{let a={storage:Ree(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},c=!1;const u=new Set,d=new Set;let h=a.storage;if(!h)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},r,s);const p=()=>{const v=a.partialize({...r()});return h.setItem(a.name,{state:v,version:a.version})},m=s.setState;s.setState=(v,_)=>{m(v,_),p()};const y=t((...v)=>{n(...v),p()},r,s);s.getInitialState=()=>y;let w;const E=()=>{var v,_;if(!h)return;c=!1,u.forEach(N=>{var x;return N((x=r())!=null?x:y)});const S=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(v=r())!=null?v:y))||void 0;return aE(h.getItem.bind(h))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate)return[!0,a.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var x;const[P,T]=N;if(w=a.merge(T,(x=r())!=null?x:y),n(w,!0),P)return p()}).then(()=>{S==null||S(w,void 0),w=r(),c=!0,d.forEach(N=>N(w))}).catch(N=>{S==null||S(void 0,N)})};return s.persist={setOptions:v=>{a={...a,...v},v.storage&&(h=v.storage)},clearStorage:()=>{h==null||h.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>c,onHydrate:v=>(u.add(v),()=>{u.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},a.skipHydration||E(),w||y},Dee=Pee,rx=t=>{let e;const n=new Set,r=(h,p)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(w=>w(e,y))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=e=t(r,s,u);return u},jw=t=>t?rx(t):rx;var Bw={exports:{}},sx;function $ee(){return sx||(sx=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new s(p,m||d,y),E=n?n+h:h;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],w]:d._events[E].push(w):(d._events[E]=w,d._eventsCount++),d}function c(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,w=m.length,E=new Array(w);y<w;y++)E[y]=m[y].fn;return E},u.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,p,m,y,w,E){var v=n?n+h:h;if(!this._events[v])return!1;var _=this._events[v],S=arguments.length,N,x;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,y),!0;case 5:return _.fn.call(_.context,p,m,y,w),!0;case 6:return _.fn.call(_.context,p,m,y,w,E),!0}for(x=1,N=new Array(S-1);x<S;x++)N[x-1]=arguments[x];_.fn.apply(_.context,N)}else{var P=_.length,T;for(x=0;x<P;x++)switch(_[x].once&&this.removeListener(h,_[x].fn,void 0,!0),S){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,p);break;case 3:_[x].fn.call(_[x].context,p,m);break;case 4:_[x].fn.call(_[x].context,p,m,y);break;default:if(!N)for(T=1,N=new Array(S-1);T<S;T++)N[T-1]=arguments[T];_[x].fn.apply(_[x].context,N)}}return!0},u.prototype.on=function(h,p,m){return a(this,h,p,m,!1)},u.prototype.once=function(h,p,m){return a(this,h,p,m,!0)},u.prototype.removeListener=function(h,p,m,y){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!y||E.once)&&(!m||E.context===m)&&c(this,w);else{for(var v=0,_=[],S=E.length;v<S;v++)(E[v].fn!==p||y&&!E[v].once||m&&E[v].context!==m)&&_.push(E[v]);_.length?this._events[w]=_.length===1?_[0]:_:c(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Bw)),Bw.exports}var Uee=$ee();const kee=mu(Uee);class Mee{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new kee})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function jee(t){return new Mee(t)}function Bee(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function ix(t,e){return t.slice(0,e).join(".")||"."}function ax(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Lee(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],a=[];return function(u,d){if(typeof d=="object")if(s.length){const h=ax(s,this);h===0?s[s.length]=this:(s.splice(h),a.splice(h)),a[a.length]=u;const p=ax(s,d);if(p!==0)return r?e.call(this,u,d,ix(a,p)):`[ref=${ix(a,p)}]`}else s[0]=d,a[0]=u;return n?t.call(this,u,d):d}}function zee(t,e,n,r){return JSON.stringify(t,Lee((s,a)=>{let c=a;return typeof c=="bigint"&&(c={__type:"bigint",value:a.toString()}),c instanceof Map&&(c={__type:"Map",value:Array.from(a.entries())}),(e==null?void 0:e(s,c))??c},r),n??void 0)}function Fee(t){const{deserialize:e=Bee,key:n="wagmi",serialize:r=zee,storage:s=G3}=t;function a(c){return c instanceof Promise?c.then(u=>u).catch(()=>null):c}return{...s,key:n,async getItem(c,u){const d=s.getItem(`${n}.${c}`),h=await a(d);return h?e(h)??null:u??null},async setItem(c,u){const d=`${n}.${c}`;u===null?await a(s.removeItem(d)):await a(s.setItem(d,r(u)))},async removeItem(c){await a(s.removeItem(`${n}.${c}`))}}}const G3={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function qee(){const t=typeof window<"u"&&window.localStorage?window.localStorage:G3;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const oE=256;let Ag=oE,Sg;function Hee(t=11){if(!Sg||Ag+t>oE*2){Sg="",Ag=0;for(let e=0;e<oE;e++)Sg+=(256+Math.random()*256|0).toString(16).substring(1)}return Sg.substring(Ag,Ag+++t)}function Vee(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Fee({storage:qee()}),syncConnectedChain:r=!0,ssr:s=!1,...a}=t,c=typeof window<"u"&&e?xee():void 0,u=jw(()=>a.chains),d=jw(()=>{const T=[],A=new Set;for(const R of a.connectors??[]){const M=h(R);if(T.push(M),!s&&M.rdns){const O=typeof M.rdns=="string"?[M.rdns]:M.rdns;for(const j of O)A.add(j)}}if(!s&&c){const R=c.getProviders();for(const M of R)A.has(M.info.rdns)||T.push(h(p(M)))}return T});function h(T){var M;const A=jee(Hee()),R={...T({emitter:A,chains:u.getState(),storage:n,transports:a.transports}),emitter:A,uid:A.uid};return A.on("connect",x),(M=R.setup)==null||M.call(R),R}function p(T){const{info:A}=T,R=T.provider;return ay({target:{...A,id:A.rdns,provider:R}})}const m=new Map;function y(T={}){const A=T.chainId??_.getState().chainId,R=u.getState().find(O=>O.id===A);if(T.chainId&&!R)throw new uf;{const O=m.get(_.getState().chainId);if(O&&!R)return O;if(!R)throw new uf}{const O=m.get(A);if(O)return O}let M;if(a.client)M=a.client({chain:R});else{const O=R.id,j=u.getState().map(ae=>ae.id),F={},ee=Object.entries(a);for(const[ae,G]of ee)if(!(ae==="chains"||ae==="client"||ae==="connectors"||ae==="transports"))if(typeof G=="object")if(O in G)F[ae]=G[O];else{if(j.some(I=>I in G))continue;F[ae]=G}else F[ae]=G;M=_3({...F,chain:R,batch:F.batch??{multicall:!0},transport:ae=>a.transports[O]({...ae,connectors:d})})}return m.set(A,M),M}function w(){return{chainId:u.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let E;const v="0.0.0-canary-";Bg.startsWith(v)?E=Number.parseInt(Bg.replace(v,"")):E=Number.parseInt(Bg.split(".")[0]??"0");const _=jw(Iee(n?Dee(w,{migrate(T,A){if(A===E)return T;const R=w(),M=S(T,R.chainId);return{...R,chainId:M}},name:"store",partialize(T){return{connections:{__type:"Map",value:Array.from(T.connections.entries()).map(([A,R])=>{const{id:M,name:O,type:j,uid:F}=R.connector;return[A,{...R,connector:{id:M,name:O,type:j,uid:F}}]})},chainId:T.chainId,current:T.current}},merge(T,A){typeof T=="object"&&T&&"status"in T&&delete T.status;const R=S(T,A.chainId);return{...A,...T,chainId:R}},skipHydration:s,storage:n,version:E}):w));_.setState(w());function S(T,A){return T&&typeof T=="object"&&"chainId"in T&&typeof T.chainId=="number"&&u.getState().some(R=>R.id===T.chainId)?T.chainId:A}r&&_.subscribe(({connections:T,current:A})=>{var R;return A?(R=T.get(A))==null?void 0:R.chainId:void 0},T=>{if(u.getState().some(R=>R.id===T))return _.setState(R=>({...R,chainId:T??R.chainId}))}),c==null||c.subscribe(T=>{const A=new Set,R=new Set;for(const O of d.getState())if(A.add(O.id),O.rdns){const j=typeof O.rdns=="string"?[O.rdns]:O.rdns;for(const F of j)R.add(F)}const M=[];for(const O of T){if(R.has(O.info.rdns))continue;const j=h(p(O));A.has(j.id)||M.push(j)}n&&!_.persist.hasHydrated()||d.setState(O=>[...O,...M],!0)});function N(T){_.setState(A=>{const R=A.connections.get(T.uid);return R?{...A,connections:new Map(A.connections).set(T.uid,{accounts:T.accounts??R.accounts,chainId:T.chainId??R.chainId,connector:R.connector})}:A})}function x(T){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(A=>{const R=d.getState().find(M=>M.uid===T.uid);return R?(R.emitter.listenerCount("connect")&&R.emitter.off("connect",N),R.emitter.listenerCount("change")||R.emitter.on("change",N),R.emitter.listenerCount("disconnect")||R.emitter.on("disconnect",P),{...A,connections:new Map(A.connections).set(T.uid,{accounts:T.accounts,chainId:T.chainId,connector:R}),current:T.uid,status:"connected"}):A})}function P(T){_.setState(A=>{const R=A.connections.get(T.uid);if(R){const O=R.connector;O.emitter.listenerCount("change")&&R.connector.emitter.off("change",N),O.emitter.listenerCount("disconnect")&&R.connector.emitter.off("disconnect",P),O.emitter.listenerCount("connect")||R.connector.emitter.on("connect",x)}if(A.connections.delete(T.uid),A.connections.size===0)return{...A,connections:new Map,current:null,status:"disconnected"};const M=A.connections.values().next().value;return{...A,connections:new Map(A.connections),current:M.connector.uid}})}return{get chains(){return u.getState()},get connectors(){return d.getState()},storage:n,getClient:y,get state(){return _.getState()},setState(T){let A;typeof T=="function"?A=T(_.getState()):A=T;const R=w();typeof A!="object"&&(A=R),Object.keys(R).some(O=>!(O in A))&&(A=R),_.setState(A,!0)},subscribe(T,A,R){return _.subscribe(T,A,R?{...R,fireImmediately:R.emitImmediately}:void 0)},_internal:{mipd:c,store:_,ssr:!!s,syncConnectedChain:r,transports:a.transports,chains:{setState(T){const A=typeof T=="function"?T(u.getState()):T;if(A.length!==0)return u.setState(A,!0)},subscribe(T){return u.subscribe(T)}},connectors:{providerDetailToConnector:p,setup:h,setState(T){return d.setState(typeof T=="function"?T(d.getState()):T,!0)},subscribe(T){return d.subscribe(T)}},events:{change:N,connect:x,disconnect:P}}}}function Gee(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var d;const a=new Set;for(const h of s??[])if(h.rdns){const p=Array.isArray(h.rdns)?h.rdns:[h.rdns];for(const m of p)a.add(m)}const c=[],u=((d=t._internal.mipd)==null?void 0:d.getProviders())??[];for(const h of u){if(a.has(h.info.rdns))continue;const p=t._internal.connectors.providerDetailToConnector(h),m=t._internal.connectors.setup(p);c.push(m)}return[...s,...c]})),r?iE(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function Wee(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:a}=Gee(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const c=it.useRef(!0);return it.useEffect(()=>{if(c.current&&n._internal.ssr)return a(),()=>{c.current=!1}},[]),e}const Kee=it.createContext(void 0);function Yee(t){const{children:e,config:n}=t,r={value:n};return it.createElement(Wee,t,it.createElement(Kee.Provider,r,e))}var oy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cy=typeof window>"u"||"Deno"in globalThis;function As(){}function Zee(t,e){return typeof t=="function"?t(e):t}function Qee(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ox(t,e){return typeof t=="function"?t(e):t}function Jee(t,e){return typeof t=="function"?t(e):t}function cx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:c,stale:u}=t;if(c){if(r){if(e.queryHash!==c1(c,e.options))return!1}else if(!hf(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function lx(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(df(e.options.mutationKey)!==df(a))return!1}else if(!hf(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function c1(t,e){return((e==null?void 0:e.queryKeyHashFn)||df)(t)}function df(t){return JSON.stringify(t,(e,n)=>cE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function hf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>hf(t[n],e[n])):!1}function W3(t,e){if(t===e)return t;const n=ux(t)&&ux(e);if(n||cE(t)&&cE(e)){const r=n?t:Object.keys(t),s=r.length,a=n?e:Object.keys(e),c=a.length,u=n?[]:{};let d=0;for(let h=0;h<c;h++){const p=n?h:a[h];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(u[p]=void 0,d++):(u[p]=W3(t[p],e[p]),u[p]===t[p]&&t[p]!==void 0&&d++)}return s===c&&d===s?t:u}return e}function ux(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cE(t){if(!dx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dx(t){return Object.prototype.toString.call(t)==="[object Object]"}function ete(t){return new Promise(e=>{setTimeout(e,t)})}function tte(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?W3(t,e):e}function nte(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function rte(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var l1=Symbol();function K3(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qo,Ba,Hl,Ex,ste=(Ex=class extends oy{constructor(){super();ut(this,Qo);ut(this,Ba);ut(this,Hl);He(this,Hl,e=>{if(!cy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,Ba)||this.setEventListener(se(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ba))==null||e.call(this),He(this,Ba,void 0))}setEventListener(e){var n;He(this,Hl,e),(n=se(this,Ba))==null||n.call(this),He(this,Ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,Qo)!==e&&(He(this,Qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,Qo)=="boolean"?se(this,Qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qo=new WeakMap,Ba=new WeakMap,Hl=new WeakMap,Ex),Y3=new ste,Vl,La,Gl,_x,ite=(_x=class extends oy{constructor(){super();ut(this,Vl,!0);ut(this,La);ut(this,Gl);He(this,Gl,e=>{if(!cy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,La)||this.setEventListener(se(this,Gl))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,La))==null||e.call(this),He(this,La,void 0))}setEventListener(e){var n;He(this,Gl,e),(n=se(this,La))==null||n.call(this),He(this,La,e(this.setOnline.bind(this)))}setOnline(e){se(this,Vl)!==e&&(He(this,Vl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,Vl)}},Vl=new WeakMap,La=new WeakMap,Gl=new WeakMap,_x),_m=new ite;function ate(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ote(t){return Math.min(1e3*2**t,3e4)}function Z3(t){return(t??"online")==="online"?_m.isOnline():!0}var Q3=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lw(t){return t instanceof Q3}function X3(t){let e=!1,n=0,r=!1,s;const a=ate(),c=v=>{var _;r||(y(new Q3(v)),(_=t.abort)==null||_.call(t))},u=()=>{e=!0},d=()=>{e=!1},h=()=>Y3.isFocused()&&(t.networkMode==="always"||_m.isOnline())&&t.canRun(),p=()=>Z3(t.networkMode)&&t.canRun(),m=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),a.resolve(v))},y=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),a.reject(v))},w=()=>new Promise(v=>{var _;s=S=>{(r||h())&&v(S)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),E=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(S){v=Promise.reject(S)}Promise.resolve(v).then(m).catch(S=>{var A;if(r)return;const N=t.retry??(cy?0:3),x=t.retryDelay??ote,P=typeof x=="function"?x(n,S):x,T=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,S);if(e||!T){y(S);return}n++,(A=t.onFail)==null||A.call(t,n,S),ete(P).then(()=>h()?void 0:w()).then(()=>{e?y(S):E()})})};return{promise:a,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?E():w().then(E),a)}}var cte=t=>setTimeout(t,0);function lte(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=cte;const a=u=>{e?t.push(u):s(()=>{n(u)})},c=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||c()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var nr=lte(),Xo,Cx,J3=(Cx=class{constructor(){ut(this,Xo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qee(this.gcTime)&&He(this,Xo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cy?1/0:5*60*1e3))}clearGcTimeout(){se(this,Xo)&&(clearTimeout(se(this,Xo)),He(this,Xo,void 0))}},Xo=new WeakMap,Cx),Wl,Kl,ss,Jo,Vn,ff,ec,Ss,Bi,Ax,ute=(Ax=class extends J3{constructor(e){super();ut(this,Ss);ut(this,Wl);ut(this,Kl);ut(this,ss);ut(this,Jo);ut(this,Vn);ut(this,ff);ut(this,ec);He(this,ec,!1),He(this,ff,e.defaultOptions),this.setOptions(e.options),this.observers=[],He(this,Jo,e.client),He(this,ss,se(this,Jo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,He(this,Wl,hte(this.options)),this.state=e.state??se(this,Wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,Vn))==null?void 0:e.promise}setOptions(e){this.options={...se(this,ff),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,ss).remove(this)}setData(e,n){const r=tte(this.state.data,e,this.options);return Fn(this,Ss,Bi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Fn(this,Ss,Bi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=se(this,Vn))==null?void 0:r.promise;return(s=se(this,Vn))==null||s.cancel(e),n?n.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Wl))}isActive(){return this.observers.some(e=>Jee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Xee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=se(this,Vn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=se(this,Vn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(se(this,Vn)&&(se(this,ec)?se(this,Vn).cancel({revert:!0}):se(this,Vn).cancelRetry()),this.scheduleGc()),se(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fn(this,Ss,Bi).call(this,{type:"invalidate"})}fetch(e,n){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(se(this,Vn))return se(this,Vn).continueRetry(),se(this,Vn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(He(this,ec,!0),r.signal)})},a=()=>{const m=K3(this.options,n),y={client:se(this,Jo),queryKey:this.queryKey,meta:this.meta};return s(y),He(this,ec,!1),this.options.persister?this.options.persister(m,y,this):m(y)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:se(this,Jo),state:this.state,fetchFn:a};s(c),(d=this.options.behavior)==null||d.onFetch(c,this),He(this,Kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&Fn(this,Ss,Bi).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=m=>{var y,w,E,v;Lw(m)&&m.silent||Fn(this,Ss,Bi).call(this,{type:"error",error:m}),Lw(m)||((w=(y=se(this,ss).config).onError)==null||w.call(y,m,this),(v=(E=se(this,ss).config).onSettled)==null||v.call(E,this.state.data,m,this)),this.scheduleGc()};return He(this,Vn,X3({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,w,E,v;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){u(_);return}(w=(y=se(this,ss).config).onSuccess)==null||w.call(y,m,this),(v=(E=se(this,ss).config).onSettled)==null||v.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{Fn(this,Ss,Bi).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Fn(this,Ss,Bi).call(this,{type:"pause"})},onContinue:()=>{Fn(this,Ss,Bi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),se(this,Vn).start()}},Wl=new WeakMap,Kl=new WeakMap,ss=new WeakMap,Jo=new WeakMap,Vn=new WeakMap,ff=new WeakMap,ec=new WeakMap,Ss=new WeakSet,Bi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dte(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Lw(s)&&s.revert&&se(this,Kl)?{...se(this,Kl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),se(this,ss).notify({query:this,type:"updated",action:e})})},Ax);function dte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hte(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,Sx,fte=(Sx=class extends oy{constructor(e={}){super();ut(this,Qs);this.config=e,He(this,Qs,new Map)}build(e,n,r){const s=n.queryKey,a=n.queryHash??c1(s,n);let c=this.get(a);return c||(c=new ute({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){se(this,Qs).has(e.queryHash)||(se(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,Qs).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Qs).get(e)}getAll(){return[...se(this,Qs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>cx(e,r)):n}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,Sx),Xs,Jn,tc,Js,Pa,Nx,pte=(Nx=class extends J3{constructor(e){super();ut(this,Js);ut(this,Xs);ut(this,Jn);ut(this,tc);this.mutationId=e.mutationId,He(this,Jn,e.mutationCache),He(this,Xs,[]),this.state=e.state||gte(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,Xs).includes(e)||(se(this,Xs).push(e),this.clearGcTimeout(),se(this,Jn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){He(this,Xs,se(this,Xs).filter(n=>n!==e)),this.scheduleGc(),se(this,Jn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,Xs).length||(this.state.status==="pending"?this.scheduleGc():se(this,Jn).remove(this))}continue(){var e;return((e=se(this,tc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,u,d,h,p,m,y,w,E,v,_,S,N,x,P,T,A,R,M;const n=()=>{Fn(this,Js,Pa).call(this,{type:"continue"})};He(this,tc,X3({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,j)=>{Fn(this,Js,Pa).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Fn(this,Js,Pa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Jn).canRun(this)}));const r=this.state.status==="pending",s=!se(this,tc).canStart();try{if(r)n();else{Fn(this,Js,Pa).call(this,{type:"pending",variables:e,isPaused:s}),await((c=(a=se(this,Jn).config).onMutate)==null?void 0:c.call(a,e,this));const j=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));j!==this.state.context&&Fn(this,Js,Pa).call(this,{type:"pending",context:j,variables:e,isPaused:s})}const O=await se(this,tc).start();return await((p=(h=se(this,Jn).config).onSuccess)==null?void 0:p.call(h,O,e,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,O,e,this.state.context)),await((E=(w=se(this,Jn).config).onSettled)==null?void 0:E.call(w,O,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,O,null,e,this.state.context)),Fn(this,Js,Pa).call(this,{type:"success",data:O}),O}catch(O){try{throw await((N=(S=se(this,Jn).config).onError)==null?void 0:N.call(S,O,e,this.state.context,this)),await((P=(x=this.options).onError)==null?void 0:P.call(x,O,e,this.state.context)),await((A=(T=se(this,Jn).config).onSettled)==null?void 0:A.call(T,void 0,O,this.state.variables,this.state.context,this)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,O,e,this.state.context)),O}finally{Fn(this,Js,Pa).call(this,{type:"error",error:O})}}finally{se(this,Jn).runNext(this)}}},Xs=new WeakMap,Jn=new WeakMap,tc=new WeakMap,Js=new WeakSet,Pa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{se(this,Xs).forEach(r=>{r.onMutationUpdate(e)}),se(this,Jn).notify({mutation:this,type:"updated",action:e})})},Nx);function gte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fi,Ns,pf,Tx,mte=(Tx=class extends oy{constructor(e={}){super();ut(this,Fi);ut(this,Ns);ut(this,pf);this.config=e,He(this,Fi,new Set),He(this,Ns,new Map),He(this,pf,0)}build(e,n,r){const s=new pte({mutationCache:this,mutationId:++Qp(this,pf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){se(this,Fi).add(e);const n=Ng(e);if(typeof n=="string"){const r=se(this,Ns).get(n);r?r.push(e):se(this,Ns).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,Fi).delete(e)){const n=Ng(e);if(typeof n=="string"){const r=se(this,Ns).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&se(this,Ns).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ng(e);if(typeof n=="string"){const r=se(this,Ns).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ng(e);if(typeof n=="string"){const s=(r=se(this,Ns).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{se(this,Fi).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,Fi).clear(),se(this,Ns).clear()})}getAll(){return Array.from(se(this,Fi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lx(n,r))}findAll(e={}){return this.getAll().filter(n=>lx(e,n))}notify(e){nr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nr.batch(()=>Promise.all(e.map(n=>n.continue().catch(As))))}},Fi=new WeakMap,Ns=new WeakMap,pf=new WeakMap,Tx);function Ng(t){var e;return(e=t.options.scope)==null?void 0:e.id}function hx(t){return{onFetch:(e,n)=>{var p,m,y,w,E;const r=e.options,s=(y=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],c=((E=e.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},S=K3(e.options,e.fetchOptions),N=async(x,P,T)=>{if(v)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const A={client:e.client,queryKey:e.queryKey,pageParam:P,direction:T?"backward":"forward",meta:e.options.meta};_(A);const R=await S(A),{maxPages:M}=e.options,O=T?rte:nte;return{pages:O(x.pages,R,M),pageParams:O(x.pageParams,P,M)}};if(s&&a.length){const x=s==="backward",P=x?yte:fx,T={pages:a,pageParams:c},A=P(r,T);u=await N(T,A,x)}else{const x=t??a.length;do{const P=d===0?c[0]??r.initialPageParam:fx(r,u);if(d>0&&P==null)break;u=await N(u,P),d++}while(d<x)}return u};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function fx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function yte(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Wt,za,Fa,Yl,Zl,qa,Ql,Xl,xx,bte=(xx=class{constructor(t={}){ut(this,Wt);ut(this,za);ut(this,Fa);ut(this,Yl);ut(this,Zl);ut(this,qa);ut(this,Ql);ut(this,Xl);He(this,Wt,t.queryCache||new fte),He(this,za,t.mutationCache||new mte),He(this,Fa,t.defaultOptions||{}),He(this,Yl,new Map),He(this,Zl,new Map),He(this,qa,0)}mount(){Qp(this,qa)._++,se(this,qa)===1&&(He(this,Ql,Y3.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Wt).onFocus())})),He(this,Xl,_m.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Wt).onOnline())})))}unmount(){var t,e;Qp(this,qa)._--,se(this,qa)===0&&((t=se(this,Ql))==null||t.call(this),He(this,Ql,void 0),(e=se(this,Xl))==null||e.call(this),He(this,Xl,void 0))}isFetching(t){return se(this,Wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,za).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=se(this,Wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ox(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return se(this,Wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=se(this,Wt).get(r.queryHash),a=s==null?void 0:s.state.data,c=Zee(e,a);if(c!==void 0)return se(this,Wt).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return nr.batch(()=>se(this,Wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,Wt);nr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,Wt);return nr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nr.batch(()=>se(this,Wt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(As).catch(As)}invalidateQueries(t,e={}){return nr.batch(()=>(se(this,Wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nr.batch(()=>se(this,Wt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(As)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(As)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,Wt).build(this,e);return n.isStaleByTime(ox(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(As).catch(As)}fetchInfiniteQuery(t){return t.behavior=hx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(As).catch(As)}ensureInfiniteQueryData(t){return t.behavior=hx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _m.isOnline()?se(this,za).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Wt)}getMutationCache(){return se(this,za)}getDefaultOptions(){return se(this,Fa)}setDefaultOptions(t){He(this,Fa,t)}setQueryDefaults(t,e){se(this,Yl).set(df(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,Yl).values()],n={};return e.forEach(r=>{hf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){se(this,Zl).set(df(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,Zl).values()],n={};return e.forEach(r=>{hf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Fa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=c1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===l1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Fa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,Wt).clear(),se(this,za).clear()}},Wt=new WeakMap,za=new WeakMap,Fa=new WeakMap,Yl=new WeakMap,Zl=new WeakMap,qa=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,xx),wte=it.createContext(void 0),vte=({client:t,children:e})=>(it.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),W.jsx(wte.Provider,{value:t,children:e}));function Ete(t){let e=[],n,r;function s(u){return yh.parseEvmChainId(u)||1}function a(){return n||(n=sc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:u=>{u==="iframe_load_failed"?tr.open(_n.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):u==="iframe_request_timeout"?tr.open(_n.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):u==="unverified_domain"&&tr.open(_n.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:_n.EmbeddedWalletAbortController})),n}async function c(u={}){var v,_;const d=a();let h=u.chainId;if(u.isReconnecting){const S=yh.parseEvmChainId(d.getLastUsedChainId()||""),N=(v=t.chains)==null?void 0:v[0].id;if(h=S||N,!h)throw new Error("ChainId not found in provider")}const p=(_=Ne.state.preferredAccountTypes)==null?void 0:_.eip155,{address:m,chainId:y,accounts:w}=await d.connect({chainId:h,preferredAccountType:p,socialUri:u.socialUri});e=(w==null?void 0:w.map(S=>S.address))||[m];const E=s(y);return{accounts:e,account:m,chainId:E,chain:{id:E,unsuported:!1}}}return u=>({id:fe.CONNECTOR_ID.AUTH,name:fe.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:fe.CHAIN.EVM,async connect(d={}){if(r)return r;r||(r=new Promise(p=>{p(c(d))}));const h=await r;return r=void 0,h},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(u.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=sc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,abortController:_n.EmbeddedWalletAbortController,onTimeout:d=>{d==="iframe_load_failed"?tr.open(_n.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):d==="iframe_request_timeout"?tr.open(_n.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):d==="unverified_domain"&&tr.open(_n.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const d=await this.getProvider(),{chainId:h}=await d.getChainId();return s(h)},async isAuthorized(){const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:d}){var h,p;try{const m=u.chains.find(v=>v.id===d);if(!m)throw new ci(new Error("chain not found on connector."));const y=await this.getProvider(),w=(h=Ne.state.preferredAccountTypes)==null?void 0:h.eip155,E=await y.connect({chainId:d,preferredAccountType:w});return e=((p=E==null?void 0:E.accounts)==null?void 0:p.map(v=>v.address))||[E.address],u.emitter.emit("change",{chainId:Number(d),accounts:e}),m}catch(m){throw m instanceof Error?new ci(m):m}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(Wo)})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onDisconnect(d){await(await this.getProvider()).disconnect()}})}u1.type="walletConnect";function u1(t,e){const n=t.isNewChainsStale??!0;let r,s,a,c,u,d,h;return p=>({id:"walletConnect",name:"WalletConnect",type:u1.type,async setup(){const m=await this.getProvider().catch(()=>null);m&&(c||(c=this.onConnect.bind(this),m.on("connect",c)),d||(d=this.onSessionDelete.bind(this),m.on("session_delete",d)))},async connect({...m}={}){var y,w,E;try{const v=B.getCaipNetworks(),_=await this.getProvider();if(!_)throw new Ua;u||(u=this.onDisplayUri,_.on("display_uri",u));const S=await this.isChainsStale();_.session&&S&&await _.disconnect();const N=ue.state.universalProviderConfigOverride;if(!_.session||S){const O=mh.createNamespaces(v,N);await _.connect({optionalNamespaces:O,..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(v.map(j=>Number(j.id)))}const x=await this.getAccounts(),P=await this.getChainId(),T=(E=(w=(y=_.session)==null?void 0:y.namespaces)==null?void 0:w.eip155)==null?void 0:E.chains,A=T==null?void 0:T.some(O=>Number(O.split(":")[1])===P);let R=1;A?R=P:T!=null&&T[0]&&(R=Number(T[0].split(":")[1])),u&&(_.removeListener("display_uri",u),u=void 0),c&&(_.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),_.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),_.on("chainChanged",a)),h||(h=this.onDisconnect.bind(this),_.on("disconnect",h)),d||(d=this.onSessionDelete.bind(this),_.on("session_delete",d));const M=N==null?void 0:N.defaultChain;return _.setDefaultChain(M??`eip155:${R}`),{accounts:x,chainId:R}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new dn(v):v}},async disconnect(){const m=await this.getProvider();try{await(m==null?void 0:m.disconnect())}catch(y){if(!/No matching key/i.test(y.message))throw y}finally{a&&(m==null||m.removeListener("chainChanged",a),a=void 0),h&&(m==null||m.removeListener("disconnect",h),h=void 0),c||(c=this.onConnect.bind(this),m==null||m.on("connect",c)),s&&(m==null||m.removeListener("accountsChanged",s),s=void 0),d&&(m==null||m.removeListener("session_delete",d),d=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var E,v,_;const m=await this.getProvider();if(!((E=m==null?void 0:m.session)!=null&&E.namespaces))return[];const y=(_=(v=m==null?void 0:m.session)==null?void 0:v.namespaces[fe.CHAIN.EVM])==null?void 0:_.accounts;return(y==null?void 0:y.map(S=>S.split(":")[2]))??[]},async getProvider({chainId:m}={}){var E,v;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const y=we.getActiveNamespace(),w=(E=e.getCaipNetwork())==null?void 0:E.id;if(m&&w!==m&&y){const _=we.getStoredActiveCaipNetworkId(),S=e.getCaipNetworks(y),N=S==null?void 0:S.find(x=>x.id===_);N&&N.chainNamespace===fe.CHAIN.EVM&&await((v=this.switchChain)==null?void 0:v.call(this,{chainId:Number(N.id)}))}return r},async getChainId(){var v,_,S,N;const m=(v=e.getCaipNetwork(fe.CHAIN.EVM))==null?void 0:v.id;if(m)return m;const w=(N=(S=(_=(await this.getProvider()).session)==null?void 0:_.namespaces[fe.CHAIN.EVM])==null?void 0:S.chains)==null?void 0:N[0],E=B.getCaipNetworks().find(x=>x.id===w);return E==null?void 0:E.id},async isAuthorized(){try{const[m,y]=await Promise.all([this.getAccounts(),this.getProvider()]);return m.length?await this.isChainsStale()&&y.session?(await y.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:m,chainId:y}){var v,_,S,N;const w=await this.getProvider();if(!w)throw new Ua;const E=B.getCaipNetworks().find(x=>x.id===y);if(!E)throw new ci(new uf);try{await w.request({method:"wallet_switchEthereumChain",params:[{chainId:et(y)}]}),E!=null&&E.caipNetworkId&&w.setDefaultChain(E==null?void 0:E.caipNetworkId),p.emitter.emit("change",{chainId:Number(y)});const x=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...x,y]),{...E,id:E.id}}catch(x){const P=x;if(/(?:user rejected)/iu.test(P.message))throw new dn(P);try{let T;m!=null&&m.blockExplorerUrls?T=m.blockExplorerUrls:T=(v=E.blockExplorers)!=null&&v.default.url?[(_=E.blockExplorers)==null?void 0:_.default.url]:[];const A=((N=(S=E.rpcUrls)==null?void 0:S.chainDefault)==null?void 0:N.http)||[],R={blockExplorerUrls:T,chainId:et(y),chainName:E.name,iconUrls:m==null?void 0:m.iconUrls,nativeCurrency:E.nativeCurrency,rpcUrls:A};await w.request({method:"wallet_addEthereumChain",params:[R]});const M=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...M,y]),{...E,id:E.id}}catch(T){throw new dn(T)}}},onAccountsChanged(m){m.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:m.map(y=>Wo(y))})},onChainChanged(m){const y=Number(m);p.emitter.emit("change",{chainId:y})},onConnect(m){this.setRequestedChainsIds(B.getCaipNetworks().map(y=>Number(y.id)))},async onDisconnect(m){this.setRequestedChainsIds([]),p.emitter.emit("disconnect");const y=await this.getProvider();s&&(y.removeListener("accountsChanged",s),s=void 0),a&&(y.removeListener("chainChanged",a),a=void 0),h&&(y.removeListener("disconnect",h),h=void 0),d&&(y.removeListener("session_delete",d),d=void 0),c||(c=this.onConnect.bind(this),y.on("connect",c))},onDisplayUri(m){p.emitter.emit("message",{type:"display_uri",data:m})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var w,E,v;if(!((w=r==null?void 0:r.session)!=null&&w.namespaces))return[];const m=(v=(E=r==null?void 0:r.session)==null?void 0:E.namespaces[fe.CHAIN.EVM])==null?void 0:v.accounts;return(m==null?void 0:m.map(_=>Number.parseInt(_.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var y;const m=await((y=p.storage)==null?void 0:y.getItem(this.requestedChainsStorageKey))??[];return[...new Set(m)]},async isChainsStale(){if(!n)return!1;const m=p.chains.map(E=>E.id),y=this.getNamespaceChainsIds();if(y.length&&!y.some(E=>m.includes(E)))return!1;const w=await this.getRequestedChainsIds();return!m.every(E=>w.includes(Number(E)))},async setRequestedChainsIds(m){var y;await((y=p.storage)==null?void 0:y.setItem(this.requestedChainsStorageKey,m))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Yd=jt({pendingTransactions:0}),px={state:Yd,subscribeKey(t,e){return Kn(Yd,t,e)},increase(t){Yd[t]+=1},decrease(t){Yd[t]-=1},reset(t){Yd[t]=0}};function _te(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const Cte={enable:!1,pollingInterval:3e4};class Ate extends F3{constructor(e){const n=ni.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=fe.CHAIN.EVM,this.adapterType=fe.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...Cte,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n})}construct(e){this.setupWatchers()}async getAccounts(e){var a;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===fe.CONNECTOR_ID.AUTH){const c=await n.getProvider();if(!(c!=null&&c.user))return{accounts:[]};const{address:u,accounts:d}=c.user;return Promise.resolve({accounts:(d||[{address:u,type:"eoa"}]).map(h=>De.createAccount("eip155",h.address,h.type))})}const{addresses:r,address:s}=vm(this.wagmiConfig);return Promise.resolve({accounts:(a=r||[s])==null?void 0:a.map(c=>De.createAccount("eip155",c||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===fe.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var u,d;const a=(u=e.transports)==null?void 0:u[s.id],c=ni.getCaipNetworkId(s);a?n[s.id]=ni.extendWagmiTransports(s,e.projectId,a):n[s.id]=ni.getViemTransport(s,e.projectId,(d=e.customRpcUrls)==null?void 0:d[c])}),this.wagmiConfig=Vee({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=Cee(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),px.increase("pendingTransactions")}});const e=px.subscribeKey("pendingTransactions",n=>{var r;n>=fe.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){Eee(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,s;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:a}=await er(async()=>{const{coinbaseWallet:c}=await import("./index-vpX-3lhS.js");return{coinbaseWallet:c}},[]);a&&n.push(a({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((s=e.metadata)==null?void 0:s.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a)}n.forEach(a=>{const c=this.wagmiConfig._internal.connectors.setup(a);this.wagmiConfig._internal.connectors.setState(u=>[...u,c])})}addWagmiConnectors(e,n){var c,u,d,h,p,m;const r=[];e.enableWalletConnect!==!1&&r.push(u1(e,n)),e.enableInjected!==!1&&r.push(ay({shimDisconnect:!0}));const s=((c=e.features)==null?void 0:c.email)===void 0?an.DEFAULT_FEATURES.email:(u=e.features)==null?void 0:u.email,a=(d=e.features)!=null&&d.socials?((p=(h=e.features)==null?void 0:h.socials)==null?void 0:p.length)>0:((m=e.features)==null?void 0:m.socials)??an.DEFAULT_FEATURES.socials;(s||a)&&r.push(Ete({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(y=>{const w=this.wagmiConfig._internal.connectors.setup(y);this.wagmiConfig._internal.connectors.setState(E=>[...E,w])})}async signMessage(e){try{return{signature:await wee(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=vm(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await yee(this.wagmiConfig,s);const a=await bee(this.wagmiConfig,s);return await Aee(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(e){var c;const{caipNetwork:n,...r}=e,s=Number(yh.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await See(this.wagmiConfig,{chain:(c=this.wagmiChains)==null?void 0:c[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await hee(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return UZ(e.value,e.decimals)}formatUnits(e){return xu(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===fe.CONNECTOR_ID.AUTH||e.id===fe.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:Ga.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:Ga.ConnectorNamesMap[e.id]??e.name,imageId:Ga.ConnectorImageIds[e.id],type:Ga.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===fe.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){_ee(this.wagmiConfig,{onChange:r=>r.forEach(s=>this.addWagmiConnector(s,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){var u;const{id:n}=e,s=jo(this.wagmiConfig).find(d=>d.connector.id===n),a=this.getWagmiConnector(n),c=await(a==null?void 0:a.getProvider());return{chainId:Number(s==null?void 0:s.chainId),address:s==null?void 0:s.accounts[0],provider:c,type:(u=s==null?void 0:s.connector.type)==null?void 0:u.toUpperCase(),id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await ex(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await nx(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var p,m,y,w,E;const{id:n,provider:r,type:s,info:a,chainId:c,socialUri:u}=e,d=this.getWagmiConnector(n);if(!d)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&a&&d.id===fe.CONNECTOR_ID.EIP6963&&((p=d.setEip6963Wallet)==null||p.call(d,{provider:r,info:a})),d.uid===((y=(m=this.wagmiConfig)==null?void 0:m.state)==null?void 0:y.current)){const v=(E=(w=this.wagmiConfig.state)==null?void 0:w.connections)==null?void 0:E.get(d.uid);if(v)return{address:v==null?void 0:v.accounts[0],chainId:v==null?void 0:v.chainId,provider:r,type:s,id:n}}const h=await ex(this.wagmiConfig,{connector:d,chainId:c?Number(c):void 0,socialUri:u});return{address:h.accounts[0],chainId:h.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await iE(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,a=this.balancePromises[s];if(a)return a;const c=we.getNativeBalanceCacheForCaipAddress(s);return c?{balance:c.balance,symbol:c.symbol}:(this.balancePromises[s]=new Promise(async u=>{var d,h;try{const p=Number(e.chainId),m=await mee(this.wagmiConfig,{address:e.address,chainId:p,token:(h=(d=e.tokens)==null?void 0:d[r.caipNetworkId])==null?void 0:h.address});we.updateNativeBalanceCache({caipAddress:s,balance:m.formatted,symbol:m.symbol,timestamp:Date.now()}),u({balance:m.formatted,symbol:m.symbol})}catch(p){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",p),u({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=jo(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await dee(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await nx(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var u,d;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=jo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const c=(d=(u=a.session)==null?void 0:u.sessionProperties)==null?void 0:d.capabilities;if(c){const p=_te(c)[e];if(p)return p}return await a.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=jo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return a.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=jo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return a.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=jo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return a.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=jo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");r&&!n.find(s=>s.connector.id===r.id)&&iE(this.wagmiConfig,{connectors:[r]})}),this.addConnector(new o1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const eP="93ac67bd0ee56fd6beac77b419053d0c",Ste={name:"AppKit",description:"AppKit Example",url:"https://reown.com",icons:["https://avatars.githubusercontent.com/u/179229932"]},tP=[KJ,WJ,YJ],d1=new Ate({projectId:eP,networks:tP});d1.wagmiConfig;var nP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gx=Wa.createContext&&Wa.createContext(nP),Nte=["attr","size","title"];function Tte(t,e){if(t==null)return{};var n=xte(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(n),!0).forEach(function(r){Ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e,n){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rP(t){return t&&t.map((e,n)=>Wa.createElement(e.tag,Am({key:n},e.attr),rP(e.child)))}function oo(t){return e=>Wa.createElement(Pte,Cm({attr:Am({},t.attr)},e),rP(t.child))}function Pte(t){var e=n=>{var{attr:r,size:s,title:a}=t,c=Tte(t,Nte),u=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Wa.createElement("svg",Cm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:d,style:Am(Am({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Wa.createElement("title",null,a),t.children)};return gx!==void 0?Wa.createElement(gx.Consumer,null,n=>e(n)):e(nP)}function yx(t){return oo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Dte(t){return oo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function zw(t){return oo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(t)}function bx(t){return oo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H303.2c.9-4.5.8 3.6.8-22.4 0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6 0 26-.2 17.9.8 22.4H48V144h480v288zm-168-80h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm-168 96c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64z"},child:[]}]})(t)}function wx(t){return oo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"},child:[]}]})(t)}function $te(t){return oo({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.024 3.75c0-.966.784-1.75 1.75-1.75H20.25c.966 0 1.75.784 1.75 1.75v11.498a1.75 1.75 0 0 1-1.75 1.75H8.774a1.75 1.75 0 0 1-1.75-1.75Zm1.75-.25a.25.25 0 0 0-.25.25v11.498c0 .139.112.25.25.25H20.25a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"},child:[]},{tag:"path",attr:{d:"M1.995 10.749a1.75 1.75 0 0 1 1.75-1.751H5.25a.75.75 0 1 1 0 1.5H3.745a.25.25 0 0 0-.25.25L3.5 20.25c0 .138.111.25.25.25h9.5a.25.25 0 0 0 .25-.25v-1.51a.75.75 0 1 1 1.5 0v1.51A1.75 1.75 0 0 1 13.25 22h-9.5A1.75 1.75 0 0 1 2 20.25l-.005-9.501Z"},child:[]}]})(t)}function Ute(t){return oo({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"},child:[]}]})(t)}function kte(t){return oo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}const Mte="/assets/metamask-BErMykV4.svg",sP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEX0lEQVR4nO2aW2icVRDHp7Heq9RrLY3ZPbObtoSiYKiIIEEfFBEFX7yA+Fj0QerlwYoPi9fsznybGulLQRHri2gflIJViyAKKki19YpFGpLdmS+psV7rrYmfnDW7+bIXsk1297tsfjAv2UPY//+cM2d2zgFYYYUVgmLzs8WLbEC3gqwvIukL0I2YrHs1sswiyb8pp3gtdBNDGW81sn6OrJ4NQ/Ll4G7vdOgWDOsjZfHzJujD0A30jRxbb0h+qTGA5dd0ttALcQdZ9laLrwTJ6xBnko7c1FB8JdxbII6kR4+ciaTfLWaAYfm+Nz9xNsQNw/Lk4rNfORWegDiBuUI/sv7ZtAGsfycc2QxxwZC81ax4XxyAOICO3L0E8XNRvAuiTHp0+nxklaUbIG5i59haiCqG9fmli69UiKMQRQwVrjAsJ5drAJLMpHJyFUSKjNeDJB8vW/x8bfApvOadBlEBSe9vlXhf3AdRYKMjFxvW6TYYcBzZvRTCDpLsaYP48lZ4GcKMycl1tsPTLgNK3aOcez2EuMtzuG3iy6uA5OtQdo+QZEe7xc+HPAphArPShyS/d84APdHHroGwgKRvdlD8XELUNyAMIOvNnRZfjqRTvC1Q8eszcg6SHA3KAGQdX8fuuYEZYEizAYovx3Aw4p3iRkP6V9AG2O5RmnWg8waw7A9a/LwJsr/jBqSzhd5S2dvOyq+pkH2BHonJnA51ogKsCdJv7T1DYMIH/eVoxutJkd5rWI51QPxxdGS7Lb3rfpdOkchPXpMiecD/RfqGxy+wLayWdIJql7q9St+TfkYvqXwHmrrMsDwW2EUKkowg6aHq+33b00fSt1so/n3bYluw4hzdZvsOhnUrBHndZUg/KyXCqtmxGC7eupxCybAW7NYCz1tV/p/JfOFKJPnk/zwgOyAMtz6G5Df//vT37+zytL/efGOaSXB/2CJrYNfUGn/VWSq8SGbmxnwYmj5hytFtVTN30D6B8Y/pz09saO7YlH2JYTdZs5JYx31jfq4eEziG9dV6Sav6FVjp2CQ9VEf4N0mSG2tMq/OewJDeA2EjsXNs7cJZqqyGabtC/Pu4cmySTCHpj9XbptRdcmS7fTVSx6i9EPKe4EyD5f0BsrvFP743P3GhDf/fUo4O2nuAukmRtFg9PnQgy9ONs7qctHXCptwP59VbQfazxgbKLLJ7A4SdoYy32rB+tEiml9Lx5ktydnYXSY4MUaF/ZBLrvQSrE+8g6btNjDtsaw6IEkl272hFFWh7DguqwCiBLK8s2wSSByGqDOyaWmNYjyzDgAMLjs8oYli3GpJ/Tn3m9aeUU7wc4oAhffxUDUjlindCbMh4PYbkvaYTH8tLEDf68xMbmno3QHLUPq6COIIkty9S7MzaH0sQZwzp7sZnvjwFcSeRGTsLSb6o3fd6cCDz1RnQDSC7W6reDp9I5oqboJswrA9F7gVYS/G8Vbb9VbrWinq1t1TMc5PrIvH0bYUVILb8B9jbfmporY3DAAAAAElFTkSuQmCC",jte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR4nLVUPUvDUBS91q9JkRbanHNjixAdCrpU0D/gorPgJE51dJH6F8ShP6CL4l9QBzcHBUGhq+Aq4iD4gUNFtHJLCkHSmph44EBI7jvnvvdujkgMqOqKqi7Lf6BcLo8AuAFw63neaOoGAGok2z63UxXP5/MFAM8Bg9disYjUDAAcBMQ7BLCflniF5OdPA5JfqrqQVH8AwGWIeJfXIpL5szrJjT7iHarq+p/Ec7ncGID73wxIPmSz2fHYBgD2Ioh3uRtL3HVdD0ArqgGAd5Izcbo/idF92zc5iiReqVSGSTZ6jGa7B622ISJDUTwypVJpQlUXATQjdN60WlsTeWQtawBsWUcAqiRfQsTfAOzYjm1U/XqJc0xXRsdx5i13SB4Gz5vkpKrOkTy3XVjaShy4rjvrT9IHgLr/XywZ/ee6/61ltZI0ogHcqeqq0Z4D72uSABmSZ30u+EJEBpMYSKFQmLL8D7tkVZ2WNOA4zmZI91VJEwCOAwanFuWpGtioAngE8KSqbqriXZBcM8ZZ9A3MruF7LgQx2QAAAABJRU5ErkJggg==",Bte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMYSURBVEiJrZbBb1RVFMZ/597nm+nUSVsktHSmdbRS6o6dgUAiulBKpHWjiWIMFqbiQo0LEzcm8icYkqaUhETQXWMobTBxJcaFNTEmRpDENCRtBwFLKw3WYebe42I6zXTmvRYav90759zvO+fcc9+9wkYYLXQb0QERDgvkFLIAAnMKN1SY9IaLvJOZjaOQSOvIbMYG8inIEGA3TAI8yLgry8ec3HljUwF7tjCI6nng8U2I67GMctTlMxO1RrPu40zhA1THt0AOkEb42owV3q81rlWwmvl4vegW4FFerVZSERiby1rkGlvLPArLzrg+hroLBsAip/5HcoC09fYzAGG00G2NzrD5tDQgl7a83Zsi22w5cWWp3u0cmguMYfBRyJNWGMwlOdab4mBnAiNwdbEcFWoNMhAIeuhhiPc88RjHdqd4o6eJtoTh2/kiP95+wN72kJ/uPIhcI0h/ADwTR9oSGl57Oslbu1Lsaw8BuLXiOX5lib3tIUO7UwBM3ynFCGhPAHTUOw50hAw/28xgLknSVgZNgXPX/+HUz8uM7G/hUFdyLT6uAoVMUG9MWOGTPWle6EwQrJ6I35fKvPfDEr/dLTPx0jae2xGuxf/rlF/vRu4BKD4QKCj0Vm1Fp/R/s0BbwtDflaCjyXL66n06mgzfvbKdvtb1Of2yUKLkNbpFQiFQmKFGoIrFoufLP1YAsALfH9lOZ6px2KZvR/e/UoDMGBWmYiNW0RoaOlOW+2WlPtfpmP5XBPyk8YaLgNtIYFvSsFj0vDj1Fy9fXuDPFV9TQaxA2cMlAbBj82eBobjI9iZDa2i4/ndlMzPNli+eb2VXS8CTX91qqKqSvo66fPbdygyOzGZsYK4B6Y0qqYURaAsNC0Xf6FTuOS31MZy7WRnEk13zqHmdTVpVC69Ek4PHcJTh3E2o+fe7/M7LinwERK56aF3lQ3c8c6lqaLwyz8wfQbjAI7QLAOUe6Jsun52sNTfcXi6fmXDW9Ah8DsQc0fVZo3reaamvnhziXhVVjM1lDTIgoodF5an1zxaZUdUpLzrBiexcHMV/XHUL6QB4LKEAAAAASUVORK5CYII=",Lte=({isOpen:t,onClose:e,address:n="0x9s8r7q6p5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a"})=>{const[r,s]=it.useState(null),[a,c]=it.useState(null),[u,d]=it.useState(0),h=it.useRef(null),p=it.useRef(null),[m,y]=it.useState(!1),w=it.useRef([]),E=it.useRef(null),v=it.useRef(null),[_,S]=it.useState(!1),N=it.useRef([]);it.useEffect(()=>(t?document.body.style.overflow="hidden":(S(!1),y(!1),document.body.style.overflow="auto"),()=>{document.body.style.overflow="auto"}),[t]);const x=O=>{const j=O.target.files[0];if(!j)return;const F=URL.createObjectURL(j);s(j),c(F),d(0)},P=()=>{var O,j;e(),(O=p.current)==null||O.stop(),(j=v.current)==null||j.stop(),S(!1),y(!1)},T=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});h.current&&(h.current.srcObject=O,h.current.play());const j=new MediaRecorder(O);p.current=j,w.current=[],j.ondataavailable=F=>{F.data.size>0&&w.current.push(F.data)},j.onstop=()=>{O.getTracks().forEach(F=>F.stop())},j.start(),y(!0)}catch(O){console.error("Error accessing media devices:",O)}},A=()=>{var O;(O=p.current)==null||O.stop(),y(!1)},R=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});E.current&&(E.current.srcObject=O,E.current.play());const j=new MediaRecorder(O);v.current=j,N.current=[],j.ondataavailable=F=>{F.data.size>0&&N.current.push(F.data)},j.onstop=()=>{O.getTracks().forEach(F=>F.stop())},j.start(),S(!0)}catch(O){console.error("Error accessing media devices:",O)}},M=()=>{var O;(O=v.current)==null||O.stop(),S(!1)};return t?W.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:P,children:W.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto relative animate-[fadeIn_0.3s_ease-out]",onClick:O=>O.stopPropagation(),children:W.jsxs("div",{className:"p-6",children:[W.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:P,children:""}),W.jsx("div",{className:"flex justify-between items-center mb-6",children:W.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Identity Verification (KYC)"})}),W.jsxs("div",{className:"mb-6",children:[W.jsxs("div",{className:"flex flex-row items-center",children:[W.jsx("img",{src:sP,alt:"Ethereum Icon",width:24,height:24}),W.jsx("p",{className:"font-mono text-sm text-gray-700",children:n})]}),W.jsx("p",{className:"text-sm text-gray-600",children:"Please complete the following steps to verify your identity for this wallet address."})]}),W.jsxs("div",{className:"space-y-8",children:[W.jsx("div",{className:"kyc-step pl-10",children:W.jsxs("div",{className:"flex items-start space-x-4",children:[W.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:W.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),W.jsx("div",{className:"flex-1",children:W.jsxs("div",{className:"font-medium text-gray-800 mb-3",children:[W.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Provide Identification Document"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[W.jsxs("button",{className:"flex flex-col justify-center items-center doc-type-btn border border-gray-200 rounded-lg p-4 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[W.jsx(bx,{className:"text-2xl text-gray-600 mb-2"}),W.jsx("p",{className:"font-medium",children:"National ID Card"})]}),W.jsxs("button",{className:"flex flex-col justify-center items-center doc-type-btn border border-gray-200 rounded-lg p-4 text-center hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[W.jsx(bx,{className:"text-2xl text-gray-600 mb-2"}),W.jsx("p",{className:"font-medium",children:"Passport"})]})]})]})})]})}),W.jsx("div",{className:"kyc-step pl-10",children:W.jsxs("div",{className:"flex items-start space-x-4",children:[W.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:W.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),W.jsx("div",{className:"flex-1",children:W.jsxs("div",{className:"font-medium text-gray-800 mb-3",children:[W.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Upload Document Images"}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[W.jsxs("div",{className:"file-upload rounded-lg p-6 text-center cursor-pointer",children:[W.jsx("input",{type:"file",id:"frontUpload",className:"hidden",onChange:x,accept:"image/*"}),W.jsxs("label",{htmlFor:"frontUpload",className:"cursor-pointer flex flex-col items-center",children:[W.jsx(wx,{className:"text-2xl text-gray-600 mb-2"}),W.jsx("p",{className:"font-medium text-black",children:"Front Side"}),W.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to upload"})]}),a&&W.jsx("div",{className:"mt-2",children:W.jsx("img",{src:a,alt:"Preview",className:"w-full h-32 object-contain rounded"})}),r&&u>0&&W.jsx("div",{className:"w-full max-w-md bg-gray-200 rounded-full h-4 overflow-hidden",children:W.jsxs("div",{className:"bg-blue-500 h-full text-xs text-white text-center rounded-full",style:{width:`${u}%`},children:[u,"%"]})})]}),W.jsxs("div",{className:"file-upload rounded-lg p-6 text-center cursor-pointer",children:[W.jsx("input",{type:"file",id:"frontUpload",className:"hidden",onChange:x,accept:"image/*"}),W.jsxs("label",{htmlFor:"frontUpload",className:"cursor-pointer flex flex-col items-center",children:[W.jsx(wx,{className:"text-2xl text-gray-600 mb-2"}),W.jsx("p",{className:"font-medium text-black",children:"Front Side"}),W.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to upload"})]}),a&&W.jsx("div",{className:"mt-2",children:W.jsx("img",{src:a,alt:"Preview",className:"w-full h-32 object-contain rounded"})}),r&&u>0&&W.jsx("div",{className:"w-full max-w-md bg-gray-200 rounded-full h-4 overflow-hidden",children:W.jsxs("div",{className:"bg-blue-500 h-full text-xs text-white text-center rounded-full",style:{width:`${u}%`},children:[u,"%"]})})]})]})]})})]})}),W.jsx("div",{className:"kyc-step pl-10",children:W.jsxs("div",{className:"flex items-start space-x-4",children:[W.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:W.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),W.jsx("div",{className:"flex-1",children:W.jsxs("div",{className:"font-medium text-gray-800 mb-3",children:[W.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Facial Recognition"}),W.jsxs("div",{className:"video-preview w-full h-48 mb-4 flex items-center justify-center relative",children:[W.jsx("video",{ref:h,className:`w-full h-full object-cover ${m?"flex":"hidden"}`,autoPlay:!0,muted:!0}),W.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:m?W.jsx("button",{className:"border border-gray-300 rounded-lg font-medium flex fle-row items-center py-2 px-4",onClick:A,children:" Dng quay"}):W.jsx("button",{className:"bg-white text-blue-600 px-4 rounded-lg font-medium flex fle-row items-center py-2",onClick:T,children:" Bt u quay"})})]}),W.jsx("p",{className:"text-sm text-gray-600",children:"Please look straight at the camera and follow the instructions."})]})})]})}),W.jsx("div",{className:"kyc-step pl-10",children:W.jsxs("div",{className:"flex items-start space-x-4",children:[W.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:W.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),W.jsx("div",{className:"flex-1",children:W.jsxs("div",{className:"font-medium text-gray-800 mb-3",children:[W.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Facial Recognition"}),W.jsxs("div",{className:"video-preview w-full h-48 mb-4 flex items-center justify-center relative",children:[W.jsx("video",{ref:E,className:`w-full h-full object-cover ${_?"flex":"hidden"}`,autoPlay:!0,muted:!0}),W.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:_?W.jsx("button",{className:"border border-gray-300 rounded-lg font-medium flex fle-row items-center py-2 px-4",onClick:M,children:" Dng quay"}):W.jsx("button",{className:"bg-white text-blue-600 px-4 rounded-lg font-medium flex fle-row items-center py-2",onClick:R,children:" Bt u quay"})})]}),W.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:W.jsx("p",{className:"text-sm text-yellow-700",children:'Please hold your document next to your face and say: "I verify that this is my authentic document for Web3Verify"'})})]})})]})})]}),W.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[W.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",onClick:P,children:"Cancel"}),W.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,disabled:!0,children:"Submit Verification"})]})]})})}):null},zte=["Binance","Coinbase","Kraken","FTX"],Fte=[{address:"0x1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t",Exchange:"Binance",Balance:2.45},{address:"0x9s8r7q6p5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a",Exchange:"Coinbase",Balance:7.89},{address:"0x5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a9s8r7q6p",Exchange:"Kraken",Balance:12.15}],Zd=t=>t?t.slice(0,6)+"..."+t.slice(-8):"";function qte(){const{open:t}=nee(),{address:e,isConnected:n}=rQ(),[r,s]=it.useState(""),[a,c]=it.useState(""),u=it.useRef(null);console.log(r,"selected"),console.log(a,"copySuccess");const[d,h]=it.useState(!1),[p,m]=it.useState(!1);it.useEffect(()=>{const v=_=>{u.current&&!u.current.contains(_.target)&&h(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=v=>{s(v),h(!1)},w=()=>{},E=v=>{navigator.clipboard.writeText(v).then(()=>c("Copied!")).catch(()=>c("Failed to copy!")),setTimeout(()=>c(""),2e3)};return W.jsxs("div",{className:"w-full min-h-screen bg-[#f5f7fa]",children:[W.jsx("header",{className:"background-radient-header",children:W.jsxs("div",{className:"flex justify-between py-6 container mx-auto",children:[W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx(yx,{}),W.jsx("p",{className:"text-2xl font-bold ml-2",children:"Web3Verify"})]}),W.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-800 rounded-full",children:[W.jsx("img",{src:Mte,alt:"Metamask Icon",width:24,height:24}),n?Zd(e):"Connect Wallet"]})]})}),W.jsxs("main",{children:[W.jsx("div",{className:"container mx-auto px-4 py-8",children:W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[W.jsx("div",{className:"lg:col-span-2 space-y-6",children:W.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[W.jsxs("div",{className:"flex justify-between items-center mb-6",children:[W.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Wallets Requiring Verification"}),W.jsx("div",{className:"relative",children:W.jsxs("div",{ref:u,className:"relative",children:[W.jsxs("div",{className:"flex justify-between min-w-[180px] appearance-none bg-gray-100 border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",onClick:()=>h(!d),children:[W.jsx("p",{className:"text-gray-800",children:"All Exchanges"}),W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 text-gray-800 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),d&&W.jsx("ul",{className:"absolute left-0 right-0 bg-gray-100 border border-gray-300 rounded-lg mt-1 max-h-60 overflow-y-auto z-10 shadow-lg",children:zte.map((v,_)=>W.jsx("li",{className:"px-4 py-2 hover:bg-blue-500 text-gray-800 hover:text-white cursor-pointer",onClick:()=>y(v),children:v},_))})]})})]}),Fte.map((v,_)=>W.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm p-5 border-gray-100 backdrop-blur-lg overflow-hidden hover:bg-white/30 hover:shadow-lg hover:-translate-y-2 transition-all duration-300 border-1 hover:border-1 hover:border-l-blue-500",children:W.jsxs("div",{className:"flex flex-row justify-between",children:[W.jsxs("div",{className:"",children:[W.jsxs("div",{className:"flex flex-row items-center",children:[W.jsx("img",{src:sP,alt:"Ethereum Icon",width:24,height:24}),W.jsx("p",{className:"font-mono text-sm text-gray-700",children:v.address}),W.jsx("button",{onClick:()=>E("0x1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t"),className:"flex items-center gap-2 px-2 py-2 bg-white text-gray-800 rounded-full",children:W.jsx($te,{})})]}),W.jsxs("div",{className:"flex row",children:[W.jsxs("div",{className:"text-sm flex row",children:[W.jsx("p",{className:"text-gray-500",children:"Balance:"}),W.jsxs("p",{className:"font-medium text-black ml-[6px]",children:[v.Balance," ETH"]})]}),W.jsxs("div",{className:"text-sm flex row ml-2",children:[W.jsx("p",{className:"text-gray-500",children:"ETH Exchange:"}),W.jsx("p",{className:"font-medium text-black ml-[6px]",children:v.Exchange})]})]})]}),W.jsx("button",{onClick:()=>m(!0),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Verify Identity"})]})},_))]})}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[W.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Your Wallet"}),W.jsxs("div",{id:"walletNotConnected",className:"flex flex-col justify-center items-center text-center py-8",children:[W.jsx(Dte,{className:"text-gray-400 w-9 h-9"}),W.jsx("p",{className:"text-gray-400 mb-4",children:"No wallet connected"}),W.jsxs("button",{onClick:()=>t(),className:"font-medium flex justify-center items-center gap-2 px-4 py-2 bg-[#f3f4f6] text-gray-800 rounded-full w-full hover:bg-[#e5e7eb]",children:[W.jsx("img",{src:jte,alt:"Metamask Icon",width:20,height:20}),n?Zd(e):"Connect Wallet"]})]})]}),W.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[W.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Verification History"}),W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[W.jsxs("div",{className:"flex justify-between items-start mb-2",children:[W.jsx("div",{className:"font-mono text-sm text-black",children:Zd("0x5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a9s8r7q6p")}),W.jsx("div",{className:"status-badge status-success",children:"Verified"})]}),W.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[W.jsxs("div",{className:"flex flex-row items-center",children:[W.jsx(zw,{className:"text-gray-400 w-[14px] h-[14px] mr-1"}),W.jsx("p",{className:"text-[#4b5563]",children:"2023-06-15"})]}),W.jsx("div",{className:"",children:W.jsxs("button",{onClick:w,className:"font-medium flex justify-center items-center gap-2 py-2 text-blue-600 rounded-full w-full hover:underline",children:[W.jsx("img",{src:Bte,alt:"Telegram Icon",width:20,height:20}),"Claim Reward"]})})]})]}),W.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[W.jsxs("div",{className:"flex justify-between items-start mb-2",children:[W.jsx("div",{className:"font-mono text-sm text-black",children:Zd("0x5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a9s8r7q6p")}),W.jsx("div",{className:"status-badge status-failed",children:"Rejected"})]}),W.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[W.jsxs("div",{className:"flex flex-row items-center",children:[W.jsx(zw,{className:"text-gray-400 w-[14px] h-[14px] mr-1"}),W.jsx("p",{className:"text-[#4b5563]",children:"2023-06-15"})]}),W.jsx("div",{className:"",children:W.jsx("button",{onClick:w,className:"font-medium flex justify-center items-center gap-2 py-2 text-blue-600 rounded-full w-full hover:underline",children:"Try Again"})})]}),W.jsxs("div",{className:"flex flex-row items-center mt-2 text-xs text-red-600",children:[W.jsx(Ute,{className:"mr-2 w-4 h-4"}),"Document image quality too low"]})]}),W.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[W.jsxs("div",{className:"flex justify-between items-start mb-2",children:[W.jsx("div",{className:"font-mono text-sm text-black",children:Zd("0x5o4n3m2l1k0j9i8h7g6f5e4d3c2b1a9s8r7q6p")}),W.jsx("div",{className:"status-badge status-pending",children:"Processing"})]}),W.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[W.jsxs("div",{className:"flex flex-row items-center",children:[W.jsx(zw,{className:"text-gray-400 w-[14px] h-[14px] mr-1"}),W.jsx("p",{className:"text-[#4b5563]",children:"2023-06-18 (24h remaining)"})]}),W.jsx("div",{className:"",children:W.jsx("button",{onClick:w,className:"font-medium flex justify-center items-center gap-2 py-2 text-blue-600 rounded-full w-full hover:underline",children:"Try Again"})})]})]}),W.jsxs("button",{onClick:w,className:"flex flex-row items-center mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium",children:["View All History",W.jsx(kte,{className:"ml-[6px] w-4 h-4"})]})]})]})]})]})}),W.jsx(Lte,{isOpen:p,onClose:()=>m(!1)})]}),W.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 mt-12",children:W.jsxs("div",{className:"container mx-auto px-4 py-8",children:[W.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[W.jsxs("div",{className:"flex items-center space-x-2 mb-4 md:mb-0",children:[W.jsx(yx,{className:"text-blue-500"}),W.jsx("p",{className:"font-bold ml-2 text-black",children:"Web3Verify"})]}),W.jsxs("div",{className:"flex space-x-6",children:[W.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:"Terms"}),W.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:"Privacy"}),W.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:"FAQ"}),W.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:"Contact"})]})]}),W.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:" 2023 Web3Verify. All rights reserved."})]})})]})}const Hte=new bte,Vte={projectId:eP,networks:tP,metadata:Ste,themeMode:"light",themeVariables:{"--w3m-accent":"#000000"}};see({adapters:[d1],...Vte,features:{analytics:!0}});function Gte(){return W.jsx("div",{className:"pages",children:W.jsx(Yee,{config:d1.wagmiConfig,children:W.jsx(vte,{client:Hte,children:W.jsx(qte,{})})})})}P5.createRoot(document.getElementById("root")).render(W.jsx(it.StrictMode,{children:W.jsx(Gte,{})}));export{U3 as $,Ne as A,Be as B,Ee as C,Kte as D,hh as E,ke as F,Yte as G,nh as H,Ts as I,e8 as J,At as K,lre as L,Jt as M,Z5 as N,ue as O,_a as P,rE as Q,at as R,Os as S,gr as T,kg as U,uh as V,kn as W,mu as X,ire as Y,An as Z,are as _,jg as a,sE as a0,pu as a1,er as a2,ure as a3,Wo as a4,ci as a5,uf as a6,et as a7,dn as a8,ay as a9,r2 as aA,jO as aB,AM as aC,UM as aD,Pne as aE,Ine as aF,Pm as aG,Une as aH,Dne as aI,RR as aJ,Xne as aK,UE as aL,em as aM,Km as aN,ere as aO,Jne as aP,IY as aQ,kee as aR,Ox as aS,v8 as aT,ei as aU,$ee as aV,tm as aa,zE as ab,to as ac,Yne as ad,Jm as ae,FE as af,Kne as ag,Wne as ah,LR as ai,Qm as aj,Xg as ak,TW as al,RW as am,tre as an,NK as ao,he as ap,VE as aq,os as ar,LK as as,BY as at,y3 as au,lu as av,dh as aw,no as ax,$M as ay,Rne as az,an as b,fe as c,De as d,B as e,Mt as f,Hi as g,cre as h,Fl as i,kr as j,Me as k,kt as l,TJ as m,tr as n,xJ as o,we as p,_n as q,ore as r,mt as s,Ux as t,jt as u,OT as v,ls as w,sre as x,Kn as y,Gn as z};
